var g_searchMgr=new function(){this.m_bForceUpdate=!1;this.m_strSearchKeyword=null;this.m_nCurSearchType=SEARCH_TYPE.NONE;this.m_SearchShaoreInListEle=this.m_SearchShaoreOutListEle=this.m_SearchMyOnefficeListEle=null;this.initSearchInfo=function(){this.m_strSearchKeyword=null;this.m_nCurSearchType=SEARCH_TYPE.NONE};this.setEleInfo=function(){this.m_SearchShaoreInListEle=this.m_SearchShaoreOutListEle=this.m_SearchMyOnefficeListEle=null};this.setKeyword=function(a){this.m_strSearchKeyword=a};this.getKeyword=
function(){return this.m_strSearchKeyword};this.getCurList=function(){switch(this.m_nCurSearchType){case SEARCH_TYPE.MYONEFFICE:var a=oneffice_cloud_search_myonefficeItemList;break;case SEARCH_TYPE.SHAREOUT:a=oneffice_cloud_search_shareOutItemList;break;case SEARCH_TYPE.SHAREIN:a=oneffice_cloud_search_shareInItemList;break;default:a=oneffice_cloud_currentItemList}return a};this.setSearchType=function(a){var b=oneffice.getListViewMgr(),c=b.getListViewType();this.m_nCurSearchType=a;if(c){a=this.getCurList();
c=b.m_CurThumbnailViewListData.length;var d=a.length;if(c!=d||this.m_nCurSearchType&&c==d)oneffice_cloud_currentItemList=a,b.setThumbListView(this.getListContainer()),b.setCurThumbListData("")}};this.getSearchType=function(a){return this.m_nCurSearchType};this.setSearchTypeIdx=function(a){oneffice_cloud_search_more_index=a};this.getListContainer=function(a){a=oneffice.getListViewMgr();var b=a.getListViewType();switch(this.m_nCurSearchType){case SEARCH_TYPE.MYONEFFICE:return document.getElementById("dze_idx_search_myoneffice_list");
case SEARCH_TYPE.SHAREOUT:return document.getElementById("dze_idx_search_shareout_list");case SEARCH_TYPE.SHAREIN:return document.getElementById("dze_idx_search_sharein_list");default:return b?a.m_ctrlThumbnailPanel:document.getElementById("dze_idx_filelist")}};this.makeSearchListView=function(a){try{var b=oneffice.getListViewMgr();"number"===typeof a&&a==DRIVE_FILE_VIEW.FILE_ITEM&&(b.m_bSync=!0);document.getElementById("dze_idx_myoneffice_folder_info_item_name").innerHTML=makeSearchFolderItemName(ID_RES_CONST_STRING_BROWSER_MY,
oneffice_cloud_search_myonefficeItemList.length);document.getElementById("dze_idx_shareout_folder_info_item_name").innerHTML=makeSearchFolderItemName(ID_RES_CONST_STRING_BROWSER_MY_SHARE_LIST,oneffice_cloud_search_shareOutItemList.length);document.getElementById("dze_idx_sharein_folder_info_item_name").innerHTML=makeSearchFolderItemName(ID_RES_CONST_STRING_BROWSER_SHARED_BY_LIST,oneffice_cloud_search_shareInItemList.length);a=7;oneffice_cloud_currentBrowserMode==CLOUD_CONST_BROWSER_MODE_SEARCH_RESULT&&
(a=0);updateTotalSearchList(SEARCH_TYPE.MYONEFFICE,oneffice_cloud_search_myonefficeItemList,a);updateTotalSearchList(SEARCH_TYPE.SHAREOUT,oneffice_cloud_search_shareOutItemList,a);updateTotalSearchList(SEARCH_TYPE.SHAREIN,oneffice_cloud_search_shareInItemList,a);b.m_bSync=!1}catch(c){dalert(c)}};this.changeSearchViewDisplay=function(a){var b=oneffice.getListViewMgr(),c=b.getListViewType(),d=null,e=oneffice.m_FileItemListDiv;e&&(d=e.parentElement);d||(d=document.getElementById("dze_idx_filelist_container"));
e=d.nextElementSibling;a?(d.style.display="none",c&&(b.initThumbListView(),b.initFileListView()),this.resetSearchMoreBtns(),setElementFade(e,!0)):(b.changeListViewDisplay(b.getListViewType()?!0:!1),e.style.display="none",document.getElementById("dze_idx_search_myoneffice_list").innerHTML="",document.getElementById("dze_idx_search_shareout_list").innerHTML="",document.getElementById("dze_idx_search_sharein_list").innerHTML="",c&&(b.initThumbListView(),b.initFileListView()),setElementFade(d,!0));b.m_bChkListInit=
!0;b.m_nCheckLstInitMode=CHECKLISTINITMODE.SEARCH};this.resetSearchMoreBtns=function(){oneffice_cloud_search_more_index=0;for(var a=document.getElementsByClassName("cloud_search_more_btn"),b=0;b<a.length;b++)a[b].firstChild.innerText=ID_RED_CONST_STRING_VIEW_MORE,a[b].style.width="56px"}},g_LNaviMenuBar={setCurCategory:function(a){oneffice_cloud_currentBrowserMode=a}};
