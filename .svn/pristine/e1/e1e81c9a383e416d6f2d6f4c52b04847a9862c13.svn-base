<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<%@ taglib prefix="s" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="ui" uri="http://egovframework.gov/ctl/ui"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@page import="main.web.BizboxAMessage"%>

<%String langCode = (session.getAttribute("langCode") == null ? "KR" : (String)session.getAttribute("langCode")).toUpperCase();%>

	<script>
		var langCode = "<%=langCode%>";
	</script>
	<style>
		.highlight {color:#058df5 !important;font-weight:bold;}
	</style>
	<script type="text/javascript" src="<c:url value='/js/neos/NeosUtil.js' />"></script>
<!--Kendo ui css-->
    <link rel="stylesheet" type="text/css" href="<c:url value='/css/kendoui/kendo.common.min.css' />">
    <link rel="stylesheet" type="text/css" href="<c:url value='/css/kendoui/kendo.dataviz.min.css' />">
    <link rel="stylesheet" type="text/css" href="<c:url value='/css/kendoui/kendo.mobile.all.min.css' />">
    
    <!-- Theme -->
	<link rel="stylesheet" type="text/css" href="<c:url value='/css/kendoui/kendo.silver.min.css' />" />
	
	<!--css-->
	<link rel="stylesheet" type="text/css" href="<c:url value='/css/main.css?ver=20201021' />">	
    <link rel="stylesheet" type="text/css" href="<c:url value='/css/common.css?ver=20201021' />"> 
	
	<!--Kendo UI customize css-->
    <link rel="stylesheet" type="text/css" href="<c:url value='/css/reKendo.css' />">
	
    <script type="text/javascript" src="<c:url value='/js/kendoui/jquery.min.js'/>"></script>
    <%-- <script type="text/javascript" src="<c:url value='/js/jquery.i18n.properties-1.0.9.js'/>"</script> --%>
    <script type="text/javascript" src="<c:url value='/js/jquery.form.js'/>"></script>
    
    <script type="text/javascript" src="<c:url value='/js/neos/common.js?ver=20201021' />"></script>
    <script type="text/javascript" src="<c:url value='/js/neos/common.kendo.js?ver=20201021' />"></script>

    <script type="text/javascript" src="<c:url value='/js/neos/neos_common.js?ver=20201021' />"></script>
    
    <script type="text/javascript" src="<c:url value='/js/neos/NeosCodeUtil.js?ver=20201021' />"></script>
	<script type="text/javascript" src="<c:url value='/js/kendoui/kendo.core.min.js'/>"></script>
	<script type="text/javascript" src="<c:url value='/js/kendoui/kendo.all.min.js'/>"></script>
	<%if(langCode.equals("KR")){ %>
    	<script type="text/javascript" src="<c:url value='/js/kendoui/cultures/kendo.culture.ko-KR.min.js'/>"></script>
    <%}else if(langCode.equals("EN")){ %>
    	<script type="text/javascript" src="<c:url value='/js/kendoui/cultures/kendo.culture.en-US.min.js'/>"></script>
    	<link rel="stylesheet" type="text/css" href="<c:url value='/css/lang/en.css' />">
    <%}else if(langCode.equals("JP")){ %>
    	<script type="text/javascript" src="<c:url value='/js/kendoui/cultures/kendo.culture.ja-JP.min.js'/>"></script>
    	<link rel="stylesheet" type="text/css" href="<c:url value='/css/lang/jp.css' />">
    <%}else if(langCode.equals("CN")){ %>
		<script type="text/javascript" src="<c:url value='/js/kendoui/cultures/kendo.culture.zh-CN.min.js'/>"></script>
		<link rel="stylesheet" type="text/css" href="<c:url value='/css/lang/cn.css' />">
	<%}%>
    <!--js-->
    <script type="text/javascript" src="<c:url value='/js/Scripts/common.js?ver=20201021' />"></script>
    
    <script type="text/javascript" src="<c:url value='/js/neos/systemx/systemx.main.js?ver=20201021' />"></script>
    
    <!-- 메인 js -->
    <script type="text/javascript" src="<c:url value='/js/Scripts/jquery.alsEN-1.0.min.js' />"></script>
	<script type="text/javascript" src="<c:url value='/js/Scripts/jquery.bxslider.min.js' />"></script>
	<script type="text/javascript" src="<c:url value='/js/Scripts/jquery.dotdotdot.js' />"></script>
	<script type="text/javascript" src="<c:url value='/js/Scripts/jquery.highlight.js' />"></script>

    

    <script type="text/javascript">
	
    _g_contextPath_ = "${pageContext.request.contextPath}";
	_g_compayCD ="<nptag:commoncode  codeid = 'S_CMP' code='SITE_CODE' />";
    
	var tsearchKeyword = "";
	var eaType = '${params.eaType}'; // 전자결재 영리/비영리 구분
	
	//첨부파일 모듈별 보기옵션 설정값
	var attProjectValue = "${pathSeq300}";	
	var attScheduleValue = "${pathSeq400}";
	var attBoardValue = "${pathSeq500}";
	var attDocValue = "${pathSeq600}";
	var attEaValue = "${pathSeqEa}";
	
	var selectedFileUrl = "";
    var selectedfileNm = "";
    var selectedfileId = "";
    var selectedFileExtsn = "";
	
	if("${attViewOptionValue}" != "1"){
		attProjectValue = "1";	
		attScheduleValue = "1";
		attBoardValue = "1";
		attDocValue = "1";
		attEaValue = "1";
	}
	
	
	
 	$(document).ready(function() {
 		
		// 동작 이벤트 (시간 초기화)
		$(window).bind("click keyup", function () { localStorage.setItem("LATime", (+new Date())); });
 		
 		var searchType = '${params.searchType}';
 		tsearchKeyword = '${params.tsearchKeyword}'; // 통합검색어

 		var boardType = '${params.boardType}'; // Left메뉴 선택 구분
 		console.log("boardType : "+boardType);
 		var fromDate = '${params.fromDate}'; // 검색 시작 일자
 		var toDate = '${params.toDate}'; // 검색 종료 일자
 		var dateDiv = '${params.dateDiv}'; // 기간선택 선택값
 		var tsearchSubKeyword = '${params.tsearchSubKeyword}'; // 결과내 재검색
 		var detailSearchYn = '${params.detailSearchYn}'; // 상세검색 ON 여부
 		var selectDiv = '${params.selectDiv}'; //기간선택, 직접입력
 		var orderDiv = '${params.orderDiv}'; // 정확도순, 최신순
 		var pageIndex = '${params.pageIndex}';
 		var hrEmpSeq = '${params.hrEmpSeq}'; //인물검색
 		if(orderDiv == ""){
 			orderDiv = "B";
 		}
 		
 		$("#tsearchKeyword").val(tsearchKeyword);
 		$("#tsearchKeywordResult").text(tsearchKeyword);
 		$("#tsearchKeywordResultSub").text(tsearchKeyword);
 		$("#tsearchKeywordSubResult").text(tsearchSubKeyword);
 		$("#tsearchSubKeyword").val(tsearchSubKeyword);
 		if(fromDate == ""){ // 날짜 입력값이 없으면 오늘날짜로 셋팅
 			$("#from_date").val(getToDay("-","today"));
 		}else{
 			$("#from_date").val(fromDate);
 		}
 		if(toDate == ""){ // 날짜 입력값이 없으면 오늘날짜로 셋팅
 			$("#to_date").val(getToDay("-","today"));
 		}else{
 			$("#to_date").val(toDate);
 		}
 		form.selectDiv.value = selectDiv;
 		form.boardType.value = boardType;
 		form.orderDiv.value = orderDiv;
 		form.pageIndex.value = pageIndex;
 		form.hrEmpSeq.value = hrEmpSeq;

 		//boardType이 없을 시 전체가 default
 		if(dateDiv == ""){
 			dateDiv = "total";
 		}
 		/*초기값 셋팅 END*/
 		
 		//메일 검색 가져오기
 			
 		//메일 검색 가져오기 끝
 		
 		var bb = "";
	 	
	 	$("#searchButtonHr").click(function(e){
	 		getTotalSearch('4');
	 		//alertTest();
		});
	 	
	 	$("#searchButtonHrTotalSearch").click(function(e){
	 		getTotalSearch('2');
	 		//alertTest();
		});
	 		
	 	//검색반영버튼
	 	$("#searchButton2").click(function(e){
	 		getTotalSearch('2');
		});
	 	
	  	//탭
		$("#tabstrip").kendoTabStrip({
			animation:  {
				open: {
					effects: ""
				}
			}
		}); 
	
		//기본버튼
	   $(".controll_btn button").kendoButton();
	   
	   //시작날짜
	   $("#from_date").kendoDatePicker({
	   	format: "yyyy-MM-dd"
	   });
	   
	   //종료날짜
	   $("#to_date").kendoDatePicker({
	   	format: "yyyy-MM-dd"
	   });
	   
	   $("#combo_sel_1").kendoComboBox({
	   	dataTextField: "text",
	       dataValueField: "value",
	       dataSource : [
	       		{ text : "<%=BizboxAMessage.getMessage("TX000000862","전체")%>", value : "total"},
	       		{ text : "<%=BizboxAMessage.getMessage("TX000018185","1일")%>", value : "today"},
	       		{ text : "<%=BizboxAMessage.getMessage("TX000018186","1주")%>", value : "week"},
	       		{ text : "<%=BizboxAMessage.getMessage("TX000018187","1개월")%>", value : "month"},
	       		{ text : "<%=BizboxAMessage.getMessage("TX000016771","1년")%>", value : "year"}
	       	],
	       value:dateDiv,
           change: function (e) {
           	if(e.sender.selectedIndex == -1)
           		e.sender.value("");
           }
	   });
	  //기간선택 시 선택값 form 입력 및 직접입력 Disabled
      $("input[id=search_radi_1]").click(function() {  //기간선택 시
    	  setRadioStatus("S");
    	  form.selectDiv.value = "S";
      });
      
	  //직접입력 시 선택값 form 입력 및 기간선택 Disabled
      $("input[id=search_radi_2]").click(function() {  //직접입력 시
    	  setRadioStatus("M");
    	  form.selectDiv.value = "M";
      });
	   
	   dot_play();
   	
	   function dot_play(){
			$('.dot1').dotdotdot();
			$('.dot2').each(function() {
				var path = $(this).html().split( '.' );
				if ( path.length > 1 ) {
					var name = path.pop();
					$(this).html( path.join( '.' ) + '<span class="filename">.' + name + '</span>' );
					$(this).dotdotdot({
						after: '.filename',
						wrap: 'letter'
					});						
				}
			});
		}
	   
	   //정확도순, 최신순 정렬버튼 클릭 시 
	   $(".result_type_btn li").click(function(){
		   form.orderDiv.value = $(this).attr("id");
		   setOrderBtnStatus($(this).attr("id"));
		   getTotalSearch('4');
		});
	   
	//페이지 로딩 시 통합검색어 포커스 이동
	$("#tsearchKeyword").focus();
	 
	
	
	//기간선택 시 날짜 계산
	//$("#combo_sel_1").click(function () { getToDay("-",$("#combo_sel_1").val()); });			//알람버튼

	var keywordList = [];
	var replaceKeyword = $("#tsearchKeyword").val();
	if(replaceKeyword.indexOf(" ") > -1){
		keywordList = replaceKeyword.split(" ");
		for(var i = 0; i < keywordList.length ; i++){
			//$('.sub_wrap').highlight(keywordList[i]);
			$('.title_line_txt').highlight(keywordList[i]);
			$('.contents_text_type').highlight(keywordList[i]);
			$('.highlight_h').highlight(keywordList[i]);
			$('.tts_tit').highlight(keywordList[i]);
			$('.pt_div').highlight(keywordList[i]);
			$('.tts_file').highlight(keywordList[i]);
  		}
	}else{
		//$('.sub_wrap').highlight(replaceKeyword);
		$('.title_line_txt').highlight(replaceKeyword);
		$('.contents_text_type').highlight(replaceKeyword);
		$('.highlight_h').highlight(replaceKeyword);
		$('.tts_tit').highlight(replaceKeyword);
		$('.pt_div').highlight(replaceKeyword);
		$('.tts_file').highlight(replaceKeyword);
	}
	
	console.log("asd");
	
	}); // ready end
	 
	
	 
	
	 
  	// 조직도 팝업
  	function orgChartPop() {
  		var url = "<c:url value='/cmm/systemx/orgChartAllEmpInfo.do'/>";
  		openWindow2(url,  "orgChartPop", 1000, 713, 0, 1);
  	}
  	
  	//업무보고 팝업
  	function reportPop(reportSeq, jobType, createSeq, targetEmpSeq, openYn) {
  		var type = "1";
  		if(jobType == "report-2"){
  			type = "2";
  		}
  		
  		var empSeq = '${loginVO.uniqId}';
  		//console.log("empSeq : "+empSeq);
  		var url = "";
  		
  		if(createSeq == empSeq){ // 보고자면
  			url = "<c:url value='http://"+location.host+"/schedule/Views/Common/report/reportInfoPop.do?reportSeq="+reportSeq+"&type="+type+"&kind=0'/>";
  		}else if(targetEmpSeq == empSeq){ // 보고대상자면
  			url = "<c:url value='http://"+location.host+"/schedule/Views/Common/report/reportInfoPop.do?reportSeq="+reportSeq+"&createEmpSeq="+createSeq+"&loginEmpSeq="+empSeq+"&type="+type+"&kind=1'/>";
  		
  		}else if(openYn == "Y"){ // 공개보고서면
  			url = "<c:url value='http://"+location.host+"/schedule/Views/Common/report/reportInfoPop.do?reportSeq="+reportSeq+"&createEmpSeq="+createSeq+"&loginEmpSeq="+empSeq+"&type="+type+"&kind=3'/>";
  		
  		}else{ // 참조보고서
  			url = "<c:url value='http://"+location.host+"/schedule/Views/Common/report/reportInfoPop.do?reportSeq="+reportSeq+"&createEmpSeq="+createSeq+"&loginEmpSeq="+empSeq+"&type="+type+"&kind=2'/>";
  		
  		}
  		

  		openWindow2(url,  "pop", 1000, 711, 1) ;
  	}
  	
  //전자결재(영리) 팝업
  	function eapPop(docSeq, formId) {
  		if(eaType == "ea"){
  			var url = "<c:url value='http://"+location.host+"/ea/edoc/eapproval/docCommonDraftView.do?diKeyCode="+docSeq+"'/>";
  		}else{
  			var url = "<c:url value='http://"+location.host+"/eap/ea/docpop/EAAppDocViewPop.do?doc_id="+docSeq+"&form_id="+formId+"'/>";
  		}

  		openWindow2(url,  "pop", 1000, 711, "yes",0);
  	}
  	
  	//업무관리 페이지이동
  	function projectMove(jobType, pkSeq, groupSeq) {
  		
  		var projectType = "";
  		var projectSeq = "";
  		var workSeq = "";
  		var jobSeq = "";
  		var menuNo = "";
  		var type = "";
  		
  		if(jobType == "project-1"){
  			projectSeq = pkSeq;
  			menuNo = "401020000";
  			type = "P";
  		}else if(jobType == "project-2"){
  			workSeq = pkSeq;
  			menuNo = "401030000";
  			type = "W";
  		}else if(jobType == "project-3"){
  			jobSeq = pkSeq;
  			menuNo = "401040000";
  			type = "J";
  		}
  		
  		//http://bizboxa.duzonnext.com/project/Views/Common/project/projectView.do?pSeq=uc115511&wSeq=&jSeq=&type=P
  		//location.href = "";
  		//parent.menu.mainMov('PROJECT', '/Views/Common/project/projectView.do?pSeq='+projectSeq+'&wSeq='+workSeq+'&jSeq='+jobSeq+'&type='+type+'',menuNo);
  		
  		var url = "<c:url value='http://"+location.host+"/project/Views/Common/project/projectView.do?pSeq="+projectSeq+"&wSeq="+workSeq+"&jSeq="+jobSeq+"&type="+type+"'/>";
  		//var url = "<c:url value='http://"+location.host+"/eap/ea/docpop/EAAppDocViewPop.do?doc_id="+docSeq+"&form_id="+formId+"'/>";

  		openWindow2(url,  "pop", 1100, 911, 0) ;
  	}
  	
  	
    //업무관리 페이지이동
    function projectMove2(jobType, pkSeq, groupSeq, wSeq, pSeq, jSeq) {      

	    var type = "";    
	
	    if(jobType == "project-1"){
	    	type = "P";
	    }else if(jobType == "project-2"){
	    	type = "W";
	    }else if(jobType == "project-3"){
	    	type = "J";
	    }
	
	    var url = "<c:url value='http://"+location.host+"/project/Views/Common/project/projectView.do?pSeq="+pSeq+"&wSeq="+wSeq+"&jSeq="+jSeq+"&type="+type+"'/>";
	
	    openWindow2(url,  "pop", 1100, 911, 0) ;

    }
  	
  	
  	function mailContentMove(){
  		var mailUrl = '${mailUrl}';
  		parent.onclickTopCustomMenu('200000000', '메일',mailUrl, 'mail' ,'','N');
  	}
  	
  //게시판 페이지이동
  	function boardMove(jobType, catSeq, artSeq) {
  		
  		if(jobType == "board-1" || jobType == "board-3"){
  			//parent.menu.mainMove('NOTICE', '/edms/board/viewPost.do?boardNo='+catSeq+'&artNo='+artSeq+'',catSeq);
  			var url = "<c:url value='http://"+location.host+"/edms/board/viewPost.do?boardNo="+catSeq+"&artNo="+artSeq+"'/>";
  		}else if(jobType == "board-2"){
  			//parent.menu.mainMove('SURVEY', '/edms/board/viewPost.do?boardNo=&artNo='+artSeq+'','');
  			///edms/board/happyPollList.do?menu_no=502010000
  			//http://eapdemo.duzon.net/edms/board/happyPollResultView.do?surveyNo=1014
  			var url = "<c:url value='http://"+location.host+"/edms/board/happyPollResultView.do?surveyNo="+catSeq+"'/>";
  		}
  		
  		openWindow2(url,  "pop", 833, 711,"yes", 0) ;
  	}

  //일정 페이지이동
  	function scheduleMove(pkSeq1, pkSeq2) {
  		var url = "<c:url value='http://"+location.host+"/schedule/Views/Common/mCalendar/detail?seq="+pkSeq2+"'/>";
  		openWindow2(url,  "pop", 833, 711,"yes", 0);
  		//parent.menu.mainMove('SCHEDULE', '/Views/Common/mCalendar/detail.do?seq='+pkSeq2+'',pkSeq1);
  		  		
  	}
  
  //노트 페이지이동
  	function noteMove(pkSeq) {
	  
  		var url = "<c:url value='http://"+location.host+"/schedule/Views/Common/note/noteList.do?noteSeq="+pkSeq+"'/>";

  		openWindow2(url,  "pop", 1000, 711, "no", 0) ;
	  
  		//parent.menu.mainMove('NOTE', '/Views/Common/note/noteList.do?noteSeq='+pkSeq+'',''+pkSeq+'');
  		  		
  	}
  
  //문서 페이지이동
  	function edmsMove(wDirCd, artSeqNo) {
  		
  		//http://'+location.host+'/edms/doc/viewPost.do?dir_cd='+wDirCd+'&dir_lvl=0&dir_type=W&currentPage=1&artNo='+artSeqNo+'&dirMngYn=N&hasRead=Y&hasWrite=Y&searchField=&searchValue=&startDate=&endDate=
  		
  		var url = "<c:url value='http://"+location.host+"/edms/doc/viewPost.do?dir_cd="+wDirCd+"&dir_lvl=3&dir_type=W&currentPage=1&artNo="+artSeqNo+"&dirMngYn=N&hasRead=Y&hasWrite=Y&searchField=&searchValue=&startDate=&endDate='/>";

  		openWindow2(url,  "pop", 1000, 711, "yes", 0) ;
  			
  		//parent.menu.mainMove('EDMS', 'http://bizboxa.duzonnext.com/edms/doc/viewPost.do?dir_cd=002001&dir_lvl=3&dir_type=W&currentPage=1&artNo=554&dirMngYn=N&hasRead=Y&hasWrite=Y&searchField=&searchValue=&startDate=&endDate=','601000000');
  		//parent.menu.mainMove('EDMS', '/edms/doc/viewPost.do?dir_cd='+wDirCd+'&dir_lvl=3&dir_type=W&currentPage=1&artNo='+artSeqNo+'&dirMngYn=N&hasRead=Y&hasWrite=Y&searchField=&searchValue=&startDate=&endDate=','601000000');
  	}
  
  	//메일 페이지이동
  	function mailMove(emailAddr, muid) {
  		var gwDomain = window.location.host + (window.location.port == "" ? "" : (":" + window.location.port));
  		var mailUrl = '${mailUrl}';
  		var url = "<c:url value='"+mailUrl+"/readMailPopApi.do?gwDomain=" + gwDomain + "&email="+emailAddr+"&muid="+muid+"'/>";

  		openWindow2(url,  "pop", 1000, 711, "yes",0);
  	}
  
  	
  
  	//첨부파일 본문이동
  	function contentView(keysObj,jobType){
    	keysObj = keysObj.replace(/@/gi,"\"");
    	var obj = JSON.parse(keysObj);
    	if(jobType == "board-1" || jobType == "board-2" || jobType == "board-3"){
    		boardMove(jobType, obj.boardNo, obj.artNo);
    	}
    	if(jobType == "project-1"){
    		projectMove(jobType, obj.prjSeq, '');
    	}
    	if(jobType == "project-2"){
    		projectMove(jobType, obj.workSeq, '');
    	}
    	if(jobType == "project-3"){
    		projectMove(jobType, obj.jobSeq, '');
    	}
    	if(jobType == "eapproval-1" || jobType == "eapproval-2"){ // 전자결재
    		eapPop(obj.doc_id, obj.formId);
    	}
    	if(jobType == "report-1" || jobType == "report-2"){
    		reportPop(obj.reportSeq, jobType, obj.createSeq, obj.targetEmpSeq, obj.openYn);
    	}
    	if(jobType == "edms-1" || jobType == "edms-2"){
    		edmsMove(obj.dir_cd, obj.art_seq_no);
    	}
    	if(jobType == "note"){
    		noteMove(obj.noteSeq);
    	}
    	if(jobType == "schedule-1"){
    		scheduleMove(pkSeq1, pkSeq2)
    	}
    }
  
  	function boardTypeDetail(values){
  		form.boardType.value = values;
  		getTotalSearch('2');
  	}
  	
  	//인물검색
  	function getTotalSearchHr(str,hrEmpSeq){
  		form.hrEmpSeq.value = hrEmpSeq;
  		getTotalSearch(str);
  	}
  	
  	//유효성검사 후 Controller 호출 저장
  	function getTotalSearch(str){
  		if(str != "4"){
  			form.hrEmpSeq.value = "";
  		}
  		
  		var tsearchSubKeyword = "";
  		
  		if(typeof $("#tsearchSubKeyword").val() == "undefined"){
  			tsearchSubKeyword = "";
  		}else{
  			tsearchSubKeyword = $("#tsearchSubKeyword").val();
  		}
  		
  		if($('#all_menu_btn').attr('src')== _g_contextPath_ + '/Images/ico/ico_btn_arr_down01.png'){ // 닫혀 있으면
  			form.detailSearchYn.value = "N";
  			form.tsearchSubKeyword.value = "";
  			form.fromDate.value = "";
  	 		form.toDate.value = "";
  	 		form.dateDiv.value = "";
		}else{ // 열려 있으면
			form.detailSearchYn.value = "Y";
			form.tsearchSubKeyword.value = tsearchSubKeyword;
			form.fromDate.value = $("#from_date").val();
	 		form.toDate.value = $("#to_date").val();
	 		form.dateDiv.value = $("#combo_sel_1").val(); // 기간선택
	 		
	 		if(form.selectDiv.value == "S"){
	 			form.fromDate.value = getToDay("-",$("#combo_sel_1").val());
	 			form.toDate.value = getToDay("-","today");
	 		}
	 		
		}
  		
  		if((tsearchKeyword != $("#tsearchKeyword").val()) || str == "1"){
  			form.detailSearchYn.value = "N";
  			form.tsearchSubKeyword.value = "";
  			form.fromDate.value = "";
  	 		form.toDate.value = "";
  	 		form.dateDiv.value = "";
  	 		form.pageIndex.value = "1";
  		}
  		
  		if(str == "2"){
  			form.pageIndex.value = "1";
  		}
  		
  		if(form.boardType.value == "1"){
  			form.pageIndex.value = "1";
  		}else{
  			
  		}
  		
 		form.tsearchKeyword.value = $("#tsearchKeyword").val();
 		if(form.tsearchKeyword.value == ""){
 			alert("<%=BizboxAMessage.getMessage("TX000018188","검색어 입력은 필수사항입니다.")%>");
 			$("#tsearchKeyword").focus();
 			return;
 		}
 		
 		if(str == "4"){
 			form.hrSearchYn.value = "Y";
 			form.action = "getTotalSearchContentHr.do";
 		}else{
 			form.hrSearchYn.value = "N";
 			form.action = "getTotalSearchContent.do";
 		}
 		
 		showLoading();

		form.submit();
	}
  	
  	//기간선택 시 날짜 계산
  	function getToDay(token,dayDiv) {
		 var now = new Date();
	     var year = now.getFullYear();
	     var month = now.getMonth()+1;
	   	 var day = now.getDate();
	   	 
	   	 if(dayDiv == "week"){
	   		 day = now.getDate() - 7;
	   	 }else if(dayDiv == "month"){
	   		 month = now.getMonth();
	   	 }else if(dayDiv == "year"){
	   		 year = now.getFullYear() - 1;
	   	 }
	   	 
	   	 if(month < 10){ month = "0"+month; }
	   	 if(day < 10){ day = "0"+day; }
	     return year+token+month+token+day;
	}
  	
  	function fnMoneyType(v) {
	 var reg = /(^[+-]?\d+)(\d{3})/;
	  v += '';

	  while (reg.test(v))
	    v = v.replace(reg, '$1' + ',' + '$2');

	  document.write(v);
	}
  	
  	function fnMoneyTypeReturn(v) {
  		 var reg = /(^[+-]?\d+)(\d{3})/;
  		  v += '';

  		  while (reg.test(v))
  		    v = v.replace(reg, '$1' + ',' + '$2');

  		  return v;
  		}
  	
  	function fnGetWeek(getDateVal){
  		var now = new Date(getDateVal).getDay();
  		var weekName = new Array('<%=BizboxAMessage.getMessage("TX000005656","일")%>','<%=BizboxAMessage.getMessage("TX000005657","월")%>','<%=BizboxAMessage.getMessage("TX000005658","화")%>','<%=BizboxAMessage.getMessage("TX000005659","수")%>','<%=BizboxAMessage.getMessage("TX000005660","목")%>','<%=BizboxAMessage.getMessage("TX000005661","금")%>','<%=BizboxAMessage.getMessage("TX000005662","토")%>');
  		
  		return getDateVal+"("+weekName[now]+")";
  	}
  	
  	function fnDateType(v,token) {
  		if(token == "h"){ // 년월일 표시
  			v = v.substring(0,4)+"<%=BizboxAMessage.getMessage("TX000000435","년")%> "+v.substring(4,6)+"<%=BizboxAMessage.getMessage("TX000000436","월")%> "+v.substring(6,8)+"<%=BizboxAMessage.getMessage("TX000000437","일")%>";
  		}else if(token == "s"){ // 일정 날짜 표시
  			var day = fnGetWeek(v.substring(0,4)+"-"+v.substring(5,7)+"-"+v.substring(8,10));
  			v = day+" "+v.substring(11,16);
  		}else{
  			v = v.substring(0,4)+token+v.substring(4,6)+token+v.substring(6,8);
  		}

  		document.write(v);
  	}
  	
  	function fnHangleType(v){
		var str = "";
  		for(var i = 0; i < v.length; i++){
  			if (/.*?[가-힣]+.*?/.test(v.charAt(i)) == true) {
  				str += v.charAt(i);
  			}
  		}
  		
  		if(str == ""){
  			document.write("<%=BizboxAMessage.getMessage("TX000018190","대외공문")%>");
  		}else{
  			document.write(str);
  		}
  	}
  	
  	function fnHangleType2(v){
		var str = "";
  		for(var i = 0; i < v.length; i++){
  			if (/.*?[가-힣]+.*?/.test(v.charAt(i)) == true) {
  				str += v.charAt(i);
  			}
  		}
  		
  		if(str == ""){
  			document.write("<%=BizboxAMessage.getMessage("TX000000612","작성일")%> : ");
  		}else{
  			document.write("<%=BizboxAMessage.getMessage("TX000000494","기안일")%> : ");
  		}
  	}
  	
  	function fnTimeStampFormat(v){
  		var date = new Date(eval(v));
  		var year = date.getFullYear();
  		var month = date.getMonth()+1;
  		var day = date.getDay();

  		var retVal =   year + "-" + (month < 10 ? "0" + month : month) + "-" 
  		                        + (day < 10 ? "0" + day : day);
  		                        
		document.write(retVal);
  	}
  	
  	function pageMove(str){
  		form.pageIndex.value = str;
  		getTotalSearch('3');
  	}
  	 
  	/* function boardFileDownPop(boardNo,fileNm,fileRnm) {
  		
     } */
  	
  	function boardFileDownPop(boardNo,fileNm,fileRnm, linkDoc, jobType, fileSeqNo, fileExtsn) {
    	var fileNmSub = fileNm;
    	var fileNmTmp = fileNm.substring(fileNm.lastIndexOf("/")+1);
    	
    	var boardNoTmp = fileNmSub.substring(0,fileNmSub.lastIndexOf("/"));
    	boardNoTmp = boardNoTmp.substring(boardNoTmp.lastIndexOf("/")+1);
    	//console.log("boardNoTmp : "+boardNoTmp);
    	
    	//<a style="cursor:pointer" onclick="fnFileDownLoad('/edms/doc/downloadFile.do?artNo=${result.pkSeq}&fileNo=${result.fileSn}','${result.pkSeq}','${result.fileSn}','')" class="dot2">
    	
    	var downUrl = "/edms/board/downloadFile.do?boardNo="+boardNoTmp+"&fileNm="+fileNmTmp+"&fileRnm="+fileRnm+"."+fileExtsn;
    	
    	var url = "<a style='cursor:pointer' onclick='fnFileDownLoad(\"" + downUrl + "\",\"" + fileSeqNo + "\",\"" + jobType + "\",\"" + linkDoc + "\",\"" + fileExtsn + "\")\'>"+linkDoc+"</a>";
		//var url = "<a href='/edms/board/downloadFile.do?boardNo="+boardNoTmp+"&fileNm="+fileNmTmp+"&fileRnm="+fileRnm+"'>"+linkDoc+"</a>";
  		document.write(url);
  	}
     
     
    function boardFileImgTag(boardNo,fileNm,fileRnm) {
     	var fileNmSub = fileNm;
     	var fileNmTmp = fileNm.substring(fileNm.lastIndexOf("/")+1);
     	var fileExtsn = fileNmTmp.substring(fileNmTmp.lastIndexOf(".")+1);
     	fileRnm = fileRnm + "." + fileExtsn;
     	
     	var boardNoTmp = fileNmSub.substring(0,fileNmSub.lastIndexOf("/"));
     	boardNoTmp = boardNoTmp.substring(boardNoTmp.lastIndexOf("/")+1);
     	var errorImgTag = "/gw/Images/ico/media_noimg.png";
     	//console.log("boardNoTmp : "+boardNoTmp);
 		var imgTag = "<img id='totalTabImg' width='109' height='66' src='/edms/board/downloadFile.do?boardNo="+boardNoTmp+"&fileNm="+fileNmTmp+"&fileRnm="+fileRnm+"' onerror='this.src="+errorImgTag+"' />";
   		document.write(imgTag);
   	}
    
    function showLoading(){
        $("#loading").show();
    }

    function hideLoading(){
        $("#loading").hide();
    }
    
    //메일함 분류
    function fnMainInBoxNameReturn(v) {
		
    	if(v == "INBOX"){
    		v = "[<%=BizboxAMessage.getMessage("TX000001580","받은편지함")%>]";
    	}else if(v == "SENT"){
    		v = "[<%=BizboxAMessage.getMessage("TX000001581","보낸편지함")%>]";
    	}
    	
   		document.write(v);
   	}
    
    //받는 사람 외 표시
	function fnMailToOther(v) {
		
    	console.log(v);
    	
    	var returnStr = "";
    	var strTail = [];
    	console.log(v.indexOf(","));
    	if(v.indexOf(",") > -1){
    		strTail = v.split(",");
    		console.log("strTail0 : "+strTail[0]);
    		console.log("strTail1 : "+strTail[1]);
    		console.log("strTail.length : "+strTail.length-1);
    		returnStr = strTail[0]+" <%=BizboxAMessage.getMessage("TX000005613","외")%> "+(strTail.length-1)+"<%=BizboxAMessage.getMessage("TX000005614","명")%>";
    	}else{
    		returnStr = v;
    	}
   		document.write(returnStr);
   	}
    
	function tab_nor_Fn(num){

		
		$(".tab"+num).show();
		$(".tab"+num).siblings().hide();
		
		var inx = num -1

		$(".tab_nor li").eq(inx).addClass("on");
		$(".tab_nor li").eq(inx).siblings().removeClass("on");
		
		var searchCnt = '${searchCnt}';
		var eadocCnt = '${eadocCnt}';
		var mailCnt = '0';
		var scheduleCnt = '${scheduleCnt}';
		var projectCnt = '${projectCnt}';
		var boardCnt = '${boardCnt}';
		var edmsCnt = '${edmsCnt}';
		var reportCnt = '${reportCnt}';
		var noteCnt = '${noteCnt}';
		var fileCnt = '${fileCnt}';
		
		/* if(num == 1){
			$("#searchCntDiv").text(fnMoneyType(searchCnt));
		}else if(num == 2){
			$("#searchCntDiv").text(fnMoneyType(eadocCnt));
		}else if(num == 3){
			$("#searchCntDiv").text(0);
		}else if(num == 4){
			$("#searchCntDiv").text(fnMoneyType(scheduleCnt));
		}else if(num == 5){
			$("#searchCntDiv").text(fnMoneyType(projectCnt));
		}else if(num == 6){
			$("#searchCntDiv").text(fnMoneyType(boardCnt));
		}else if(num == 7){
			$("#searchCntDiv").text(fnMoneyType(edmsCnt));
		}else if(num == 8){
			$("#searchCntDiv").text(fnMoneyType(reportCnt));
		}else if(num == 9){
			$("#searchCntDiv").text(fnMoneyType(noteCnt));
		}else if(num == 10){
			$("#searchCntDiv").text(fnMoneyType(fileCnt));
		} */
		
	}
    
 </script>
    
	<!-- contents -->
	<div class="contents_wrap" style="top:0px; margin-top:0px;">
		<!--  <div id="horizontal">-->
		
		<div class="sub_wrap" style="left:0px;overflow:auto;">
			<div class="sub_contents">
				<!-- iframe wrap -->
				<div class="iframe_wrap">
					
					<c:set var="boardType" value="${params.boardType}"/>
					<c:if test="${boardType == '11' || boardType == '0'}">
						<c:set var="boardType" value="1"/>
					</c:if>
					
					<c:if test="${params.hrSearchYn == 'Y'}">
					<!-- 컨텐츠내용영역 -->
					<div class="sub_contents_wrap">
					<c:forEach var="result" items="${hrList}" varStatus="status">
					<div class="result_people">
					<p class="tit_peo mt20"><%=BizboxAMessage.getMessage("TX000020786","인물정보")%></p>
					<div class="pp_div">
						<table>
							<colgroup>
								<col width=""/>
								<col width="53"/>
								<col width="172"/>
								<col width="64"/>
								<col width="82"/>
							</colgroup>
							<tr>
								<td class="pic" rowspan="5">
									<img id="img_picFileIdNew"
										src="${profilePath}/${result.empSeq}_thum.jpg?<%=System.currentTimeMillis()%>"
										onerror="this.src='/gw/Images/bg/mypage_noimg.png'"
										/>
								</td>
								<td class="na_td"colspan="4">
									<span class="match">${result.empName}</span>
									<span class="po">${result.positionName}/${result.dutyName}</span>
								</td>
							</tr>
							<tr>
								<th><%=BizboxAMessage.getMessage("TX000000083","생년월일")%></th>
								<td>${result.bday}</td>
								<th><%=BizboxAMessage.getMessage("TX000005040","사무실번호")%></th>
								<td>${result.telNum}</td>
							</tr>
							<tr>
								<th><%=BizboxAMessage.getMessage("TX000000008","핸드폰")%></th>
								<td>${result.mobileTelNum}</td>
								<th><%=BizboxAMessage.getMessage("TX000000074","팩스번호")%></th>
								<td>${result.faxNum}</td>
							</tr>
							<tr>
								<th><%=BizboxAMessage.getMessage("TX000000949","메일주소")%></th>
								<td>${result.emailAddr}</td>
								<th><%=BizboxAMessage.getMessage("TX000000088","담당업무")%></th>
								<td>${result.mainWork}</td>
							</tr>
							<tr>
								<th><%=BizboxAMessage.getMessage("TX000000098","부서")%></th>
								<td colspan="3">${result.compDeptName}</td>
							</tr>
						</table>
					</div>
					</div>
					
					<c:set var="eadocCnt" value="${eadocCnt}"/>
					<c:set var="scheduleCnt" value="${scheduleCnt}"/>
					<c:set var="projectCnt" value="${projectCnt}"/>
					<c:set var="boardCnt" value="${boardCnt}"/>
					<c:set var="edmsCnt" value="${edmsCnt}"/>
					<c:set var="reportCnt" value="${reportCnt}"/>
					<c:set var="noteCnt" value="${noteCnt}"/>
					<c:set var="fileCnt" value="${fileCnt}"/>
					<fmt:parseNumber value="${eadocCnt+scheduleCnt+projectCnt+boardCnt+edmsCnt+reportCnt+noteCnt+fileCnt}" type="number" var="searchCntNew" integerOnly="true"/>
					
					<div class="mt7 mb15">
						"<span class="match">${result.empName}</span>"<%=BizboxAMessage.getMessage("TX900000362","에 대한 활동이")%> <span id="" class="fwb text_blue"><script language="Javascript">fnMoneyType('${searchCntNew}');</script></span><%=BizboxAMessage.getMessage("TX900000363","건 존재합니다.")%>
					</div>
					</c:forEach>

					<div class="tab_nor st2" >
							<ul>
								<li class="on"><a href="javascript:tab_nor_Fn(1);"><%=BizboxAMessage.getMessage("TX000000862","전체")%><span id="" class="num"><script language="Javascript">fnMoneyType('${searchCntNew}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(2)"><%=BizboxAMessage.getMessage("TX000000479","전자결재")%><span id="" class="num"><script language="Javascript">fnMoneyType('${eadocCnt}');</script></span></a></li>
								<%-- <li><a href="javascript:tab_nor_Fn(3)"><%=BizboxAMessage.getMessage("TX000000262","메일")%><span id="" class="num"><script language="Javascript">fnMoneyType('${mailCnt}');</script></span></a></li> --%>
								<li><a href="javascript:tab_nor_Fn(3)"><%=BizboxAMessage.getMessage("TX000000483","일정")%><span id="" class="num"><script language="Javascript">fnMoneyType('${scheduleCnt}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(4)"><%=BizboxAMessage.getMessage("TX000010151","업무관리")%><span id="" class="num"><script language="Javascript">fnMoneyType('${projectCnt}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(5)"><%=BizboxAMessage.getMessage("TX000011134","게시판")%><span id="" class="num"><script language="Javascript">fnMoneyType('${boardCnt}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(6)"><%=BizboxAMessage.getMessage("TX000008576","문서")%><span id="" class="num"><script language="Javascript">fnMoneyType('${edmsCnt}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(7)"><%=BizboxAMessage.getMessage("TX000006611","업무보고")%><span id="" class="num"><script language="Javascript">fnMoneyType('${reportCnt}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(8)"><%=BizboxAMessage.getMessage("TX000010157","노트")%><span id="" class="num"><script language="Javascript">fnMoneyType('${noteCnt}');</script></span></a></li>
								<li><a href="javascript:tab_nor_Fn(9)"><%=BizboxAMessage.getMessage("TX000000521","첨부파일")%><span id="" class="num"><script language="Javascript">fnMoneyType('${fileCnt}');</script></span></a></li>
							</ul>
					</div>
						
						
					<!-- 검색박스 -->
					<div class="top_box mt20">
						<dl>
							<dt class="ar en_w77" style="width:68px;"><%=BizboxAMessage.getMessage("TX000007032","통합검색")%></dt>
							<dd><input type="text" value="" style="width:185px" id="tsearchKeyword" name="tsearchKeyword" onkeydown="if(event.keyCode==13){javascript:getTotalSearch('4');}" value=""></dd>
							<dd><a href="javascript:;" class="searchButton"  title="검색"><input id="searchButtonHr" type="button" value="<%=BizboxAMessage.getMessage("TX000001289","검색")%>"></a></dd>
							<dd><a href="javascript:;" class="searchButton"  title="통합검색"><input id="searchButtonHrTotalSearch" type="button" value="<%=BizboxAMessage.getMessage("TX000007032","통합검색")%>"></a></dd>
						</dl>
						<span class="btn_Detail"><%=BizboxAMessage.getMessage("TX000005724","상세검색")%><img id="all_menu_btn" src='/gw/Images/ico/ico_btn_arr_down01.png'/></span>
					</div>
					<!-- 상세검색박스 -->
					<div class="SearchDetail" style="display:none;">
						<dl>
							<dt>
								<input type="radio" name="search_radi" id="search_radi_1" class="k-radio" />
								<label class="k-radio-label" for="search_radi_1" style="padding:0.2em 0 0 1.8em;"><%=BizboxAMessage.getMessage("TX000018191","기간선택")%></label>
							</dt>
							<dd><input type="text" id="combo_sel_1" class="kendoComboBox" style="width:60px;" /></dd>
							<dt class="ml30">
								<input type="radio" name="search_radi" id="search_radi_2" class="k-radio" />
								<label class="k-radio-label" for="search_radi_2" style="padding:0.2em 0 0 1.8em;"><%=BizboxAMessage.getMessage("TX000001021","직접입력")%></label>
							</dt>
							<dd>
								<input id="from_date" value="2015-01-01" class="dpWid"/>
								~
								<input id="to_date" value="2015-05-27" class="dpWid"/>
							</dd>
						</dl>
					</div>


					<!-- 통합검색 검색영역 시작 ---------------------------------------------------------------------------------------------->
					<div class="search_result_bar">
						<div class="fl mt7">
							"<span class="match" id="tsearchKeywordResult"></span>"<%=BizboxAMessage.getMessage("TX000013886","에 대한")%> <span id="searchCntDiv" class="fwb text_blue"><script language="Javascript">fnMoneyType('${searchCntNew}');</script></span><%=BizboxAMessage.getMessage("TX900000356","건의 결과를 검색하였습니다.")%>
						</div>
						<div class="fr">							
							<ul class="result_type_btn">
								<li id="A"><a href="#n" id="" onClick="" ><%=BizboxAMessage.getMessage("TX000018194","정확도순")%></a></li>
								<li id="B"><a href="#n" id="" onClick="" ><%=BizboxAMessage.getMessage("TX000018195","최신순")%></a></li>
							</ul>
						</div>
					</div>



					<div class="tab_area">
							<!-- 탭 -->
							<div class="tab1">

								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.eadocYn == 'Y'}">
						<!-- 전자결재(영리) ---------------------------------------------------------------------------------------------->
						<c:if test="${eadocCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000479","전자결재")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${eadocCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(2);" class="more_btn"><%=BizboxAMessage.getMessage("TX000000479","전자결재")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${eadocList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
										<script language="Javascript">fnHangleType('${result.formNm}');</script>
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:eapPop('${result.pkSeq}','${result.formId}');">
												${result.docTitle}
											</a>
										</h3>
										<ul class="misc">
											<li><span id=""><script language="Javascript">fnHangleType2('${result.formNm}');</script>
											<c:if test="${fn:length(result.docDate) > 10}">
												${fn:substring(fn:replace(result.docDate,'T',' '),0,10)}
											</c:if>
											<c:if test="${fn:length(result.docDate) < 10}">
												<script language="Javascript">fnDateType('${result.docDate}','-');</script>
											</c:if>  
											</span></li>
										</ul>
									</div>
									<c:if test="${result.docContents != ''}">
									<div class="contens_line">
										<ul class="contents_list_type">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000000663","문서번호")%> : </dt>
													<dd>${result.docNo}</dd>
												</dl>
											</li>
										</ul>
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.docContents) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.docContents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.docContents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.docContents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.docContents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.docContents) <= 230}">
													${result.docContents}
												</c:when>
												<c:when test="${fn:length(result.docContents) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:eapPop('${result.pkSeq}','${result.formId}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(eadocMap) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
		
						</div>
						</c:if>
						<!-- //전자결재(영리) 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						
						
						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.eadocYn == 'Y'}">
						<!-- 전자결재(비영리) ---------------------------------------------------------------------------------------------->
						<c:if test="${eapprovalCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000479","전자결재")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${eapprovalCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(2);" class="more_btn"><%=BizboxAMessage.getMessage("TX000000479","전자결재")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${eapprovalList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<script language="Javascript">fnHangleType('${result.formNm}');</script>
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:eapPop('${result.pkSeq}','${result.formId}');">
												${result.docTitle}
											</a>
										</h3>
										<ul class="misc">
											<li><span id=""><%=BizboxAMessage.getMessage("TX000000494","기안일")%> : 
											<c:if test="${fn:length(result.docDate) > 10}">
												${fn:substring(fn:replace(result.docDate,'T',' '),0,10)}
											</c:if>
											</span>
											</li>
										</ul>
									</div>
									<c:if test="${result.docContents != ''}">
									<div class="contens_line">
										<ul class="contents_list_type">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000007371","문서구분")%> : </dt>
													<dd>${result.docNo}</dd>
												</dl>
											</li>
										</ul>
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.docContents) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.docContents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.docContents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.docContents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.docContents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.docContents) <= 230}">
													${result.docContents}
												</c:when>
												<c:when test="${fn:length(result.docContents) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:eapPop('${result.pkSeq}','${result.formId}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(eapprovalList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
						</div>
						</c:if>
						<!-- //전자결재(비영리) 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						
						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.scheduleYn == 'Y'}">
						<!-- 일정 ---------------------------------------------------------------------------------------------->
						<c:if test="${scheduleCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000483","일정")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${scheduleCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(3);" class="more_btn"><%=BizboxAMessage.getMessage("TX000000483","일정")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
								<c:forEach var="result" items="${scheduleList}" varStatus="status">
								<c:if test="${result.pkSeq != ''}">
									<c:set var="pkSeqS" value="${fn:split(result.pkSeq,',')}"/>
									<c:forEach var="ps" items="${pkSeqS}" varStatus="s">
										<c:if test="${s.count == 1}"><c:set var="pkSeq1" value="${ps}"/></c:if>
										<c:if test="${s.count == 2}"><c:set var="pkSeq2" value="${ps}"/></c:if>
									</c:forEach>
								</c:if>
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'schedule-1'}">
												<c:if test="${result.gbnCode == 'G' || result.gbnCode == 'D'}">
													공유
												</c:if>
												<c:if test="${result.gbnCode == 'E'}">
													개인
												</c:if>
												<c:if test="${result.gbnCode == 'P'}">
													프로젝트
												</c:if>
												<c:if test="${result.gbnCode != 'G' && result.gbnCode != 'D' && result.gbnCode != 'E' && result.gbnCode != 'P'}">
													공유
												</c:if>
											</c:if>
											<c:if test="${result.jobType == 'schedule-2'}">
												자원
											</c:if>
										</span>
										<h3 class="title_line_txt">
										<a href="javascript:scheduleMove('${pkSeq1}','${pkSeq2}');">
											<c:choose>
												<c:when test="${result.jobType == 'schedule-1'}">
													${result.schTitle}
												</c:when>
												<c:when test="${result.jobType == 'schedule-2'}">
													${result.reqText}
												</c:when>
											</c:choose>
											</a>
										</h3>
										<ul class="misc">
											<li><span id="">
											<c:if test="${fn:length(result.startDate) > 10}">
												<script language="Javascript">fnDateType('${fn:substring(fn:replace(result.startDate,"T"," "),0,16)}','s');</script>
												<%-- ${fn:substring(fn:replace(result.startDate,"T"," "),0,16)} --%>
											</c:if>
											~
											<c:if test="${fn:length(result.endDate) > 10}">
											<script language="Javascript">fnDateType('${fn:substring(fn:replace(result.endDate,"T"," "),0,16)}','s');</script>
											<%-- ${fn:substring(fn:replace(result.endDate,"T"," "),0,16)} --%>
											</c:if>
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'schedule-1' && result.contents != '') || (result.jobType == 'schedule-2' && result.descText != '')}">
									<div class="contens_line">
										<%-- <c:if test="${result.jobType == 'schedule-1'}">
											<c:if test="${result.gbnCode == 'P'}">
												<ul class="contents_list_type">
													<li>
														<dl>
															<dt>프로젝트명 :&nbsp;</dt>
															<dd>프로젝트명컬럼없음</dd>
														</dl>
													</li>
												</ul>
											</c:if>
										</c:if> --%>
										<c:if test="${result.jobType == 'schedule-2'}">
											<ul class="contents_list_type">
												<li>
													<dl>
														<dt>자원명 : </dt>
														<dd class="highlight">${result.resName} </dd>
													</dl>
												</li>
											</ul>
										</c:if>
										<p class="contents_text_type">
										<c:choose>
												<c:when test="${fn:length(result.contents) > 230 && result.jobType == 'schedule-1'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.contents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.contents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.contents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.contents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.descText) > 230 && result.jobType == 'schedule-2'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.descText, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.descText,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.descText,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.descText,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.contents) <= 230 && result.jobType == 'schedule-1'}">
													${result.contents}
												</c:when>
												<c:when test="${fn:length(result.descText) <= 230 && result.jobType == 'schedule-2'}">
													${result.descText}
												</c:when>
											</c:choose>
											<a href="javascript:scheduleMove('${pkSeq1}','${pkSeq2}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(scheduleList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
						</div>
						</c:if>
						<!-- //일정 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						
						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.projectYn == 'Y'}">
						<!-- 업무관리 ---------------------------------------------------------------------------------------------->
						<c:if test="${projectCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000010151","업무관리")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${projectCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(4);" class="more_btn"><%=BizboxAMessage.getMessage("TX000010151","업무관리")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<!-- 업무관리 -->
							<c:forEach var="result" items="${projectList}" varStatus="status">
								<c:if test="${result.jobType == 'project-1' || result.jobType == 'project-2' || result.jobType == 'project-3'}">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'project-1'}">
												프로젝트
											</c:if>
											<c:if test="${result.jobType == 'project-2'}">
												업무
											</c:if>
											<c:if test="${result.jobType == 'project-3'}">
												할일
											</c:if>
										</span>
										<h3 class="title_line_txt">
										<a href="javascript:projectMove2('${result.jobType}','${result.pkSeq}','${result.groupSeq},'${result.workSeq}','${result.prjSeq}','');">
											<c:choose>
												<c:when test="${result.jobType == 'project-1'}">
														${result.prjName}
												</c:when>
												<c:when test="${result.jobType == 'project-2'}">
														${result.workName}
												</c:when>
												<c:when test="${result.jobType == 'project-3'}">
														${result.jobName}
												</c:when>
											</c:choose>
										</a>
										</h3>
										<ul class="misc">
											<li><span id="">
											<c:if test="${result.jobType == 'project-1'}"> <!-- 프로젝트 -->
												<%-- <c:if test="${fn:length(result.prjSdDate) > 10}">
													${fn:substring(result.prjSdDate,'T',' '),0,10)}
												</c:if>
												&nbsp;~&nbsp;
												<c:if test="${fn:length(result.prjEdDate) > 10}">
													${fn:substring(result.prjEdDate,'T',' '),0,10)}
												</c:if> --%>
												<script language="Javascript">fnDateType('${result.prjSdDate}','-');</script>
												~
												<script language="Javascript">fnDateType('${result.prjEdDate}','-');</script>
											</c:if>
											<c:if test="${result.jobType == 'project-2'}"> <!-- 업무 --> 
												<%-- <c:if test="${fn:length(result.workSdDate) > 10}">
													${fn:substring(result.workSdDate,'T',' '),0,10)}
												</c:if>
												&nbsp;~&nbsp;
												<c:if test="${fn:length(result.workEdDate) > 10}">
													${fn:substring(result.workEdDate,'T',' '),0,10)}
												</c:if> --%>
												<script language="Javascript">fnDateType('${result.workSdDate}','-');</script>
												~
												<script language="Javascript">fnDateType('${result.workEdDate}','-');</script>
											</c:if>
											<c:if test="${result.jobType == 'project-3'}"> <!-- 할일 -->
												<%-- <c:if test="${fn:length(result.jobSdDate) > 10}">
													${fn:substring(result.jobSdDate,'T',' '),0,10)}
												</c:if>
												&nbsp;~&nbsp;
												<c:if test="${fn:length(result.jobEdDate) > 10}">
													${fn:substring(result.jobEdDate,'T',' '),0,10)}
												</c:if> --%>
												<script language="Javascript">fnDateType('${result.jobSdDate}','-');</script>
												~
												<script language="Javascript">fnDateType('${result.jobEdDate}','-');</script>
											</c:if>
											
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'project-1' && result.dcRmk != '') || (result.jobType == 'project-2' && result.workContents != '') || (result.jobType == 'project-3' && result.jobDetail != '')}">
									<div class="contens_line">
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.jobDetail) > 230 && result.jobType == 'project-3' && params.tsearchSubKeyword != ''}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.jobDetail, params.tsearchSubKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.jobDetail,keyIndexOf-(230-fn:length(params.tsearchSubKeyword)),keyIndexOf+fn:length(params.tsearchSubKeyword)), params.tsearchSubKeyword, subKeyword)}
													</c:when>
													<c:otherwise>
														${fn:substring(result.jobDetail,0,230), params.tsearchSubKeyword, subKeyword)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.jobDetail,0,230), params.tsearchSubKeyword, subKeyword)} --%>
												</c:when>
												<c:when test="${fn:length(result.dcRmk) > 230 && result.jobType == 'project-1'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.dcRmk, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.dcRmk,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.dcRmk,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.dcRmk,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.workContents) > 230 && result.jobType == 'project-2'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.workContents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.workContents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.workContents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.workContents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.jobDetail) > 230 && result.jobType == 'project-3'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.jobDetail, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.jobDetail,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.jobDetail,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.jobDetail,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.dcRmk) <= 230 && esult.jobType == 'project-1'}">
													${result.dcRmk}
												</c:when>
												<c:when test="${fn:length(result.workContents) <= 230 && result.jobType == 'project-2'}">
													${result.workContents}
												</c:when>
												<c:when test="${fn:length(result.jobDetail) <= 230 && result.jobType == 'project-3'}">
													${result.jobDetail}
												</c:when>
												<c:when test="${fn:length(result.dcRmk) == 0 && esult.jobType == 'project-1'}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
												<c:when test="${fn:length(result.workContents) == 0 && result.jobType == 'project-2'}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
												<c:when test="${fn:length(result.jobDetail) == 0 && result.jobType == 'project-3'}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:projectMove('${result.jobType}','${result.pkSeq}','${result.groupSeq},'${result.workSeq}','${result.prjSeq}','');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
								</c:if>
							</c:forEach>
							
							<%-- <c:if test="${fn:length(projectList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
							
						</div>
						</c:if>
						<!-- //업무관리 종료 ---------------------------------------------------------------------------------------->
						</c:if>

						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.boardYn == 'Y'}">
						<!-- 게시판 ---------------------------------------------------------------------------------------------->
						<c:if test="${boardCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000011134","게시판")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${boardCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(5);" class="more_btn"><%=BizboxAMessage.getMessage("TX000011134","게시판")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
								<c:forEach var="result" items="${boardList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'board-1' || result.jobType == 'board-3'}">
												${result.catTitle}
											</c:if>
											<c:if test="${result.jobType == 'board-2'}">
												<%=BizboxAMessage.getMessage("TX000002747","설문조사")%>
											</c:if>
										</span>
										<h3 class="title_line_txt">
											<c:if test="${result.jobType == 'board-1' || result.jobType == 'board-3'}">
												<a href="javascript:boardMove('${result.jobType}','${result.catSeqNo}','${result.artSeqNo}');">
													<%-- ${result.artTitle} --%>
													${result.artTitle}
												</a>
											</c:if>
											<c:if test="${result.jobType == 'board-2'}">
												<a href="javascript:boardMove('${result.jobType}','${result.pkSeq}','');">
													<%-- ${result.artTitle} --%>
													${result.artTitle}
												</a>
											</c:if>
										</h3>
										<ul class="misc">
											<li><span id="">
											<c:if test="${result.jobType == 'board-1' || result.jobType == 'board-3'}">
												<c:if test="${fn:length(result.writeDate) > 10}">
													${fn:substring(fn:replace(result.writeDate,'T',' '),0,10)}
												</c:if>
											</c:if>
											<c:if test="${result.jobType == 'board-2'}">
												<c:if test="${fn:length(result.startDate) > 10}">
													${fn:substring(fn:replace(result.startDate,'T',' '),0,10)}
												</c:if>
												~
												<c:if test="${fn:length(result.endDate) > 10}">
													${fn:substring(fn:replace(result.endDate,'T',' '),0,10)}
												</c:if>
											</c:if>
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'board-1' && result.artContent != '') || (result.jobType == 'board-3' && result.artContent != '')}">
									<div class="contens_line">
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.artContent) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.artContent, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.artContent,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.artContent,0,230)}
													</c:otherwise>
													</c:choose>
												</c:when>
												<c:when test="${fn:length(result.artContent) <= 230}">
													${result.artContent}
												</c:when>
												<c:when test="${fn:length(result.artContent) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:boardMove('${result.jobType}','${result.catSeqNo}','${result.artSeqNo}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
											
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(boardList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							
							</ul>
							
						</div>
						</c:if>
						<!-- //게시판 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						
						


						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.edmsYn == 'Y'}">
						<!-- 문서 ---------------------------------------------------------------------------------------------->
						<c:if test="${edmsCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000008576","문서")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${edmsCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(6);" class="more_btn"><%=BizboxAMessage.getMessage("TX000008576","문서")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${edmsList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											${result.dirNm}
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:edmsMove('${result.wDirCd}','${result.artSeqNo}');">
												${result.artTitle}
											</a>
										</h3>
										<ul class="misc">
											<li><span id=""><%=BizboxAMessage.getMessage("TX000000612","작성일")%> : 
												<c:if test="${fn:length(result.writeDate) > 10}">
													${fn:substring(fn:replace(result.writeDate,'T',' '),0,10)}
												</c:if> 
											</span></li>
										</ul>
									</div>
									<c:if test="${result.artContent != ''}">
									<div class="contens_line">
										<ul class="contents_list_type docu_ul">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000000663","문서번호")%> : </dt>
													<dd>${result.artSeqNm}</dd>
												</dl>
											</li>
										</ul>
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.artContent) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.artContent, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.artContent,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.artContent,0,230), params.tsearchKeyword, subKeyword)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.artContent,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.artContent) <= 230}">
													${result.artContent}
												</c:when>
												<c:when test="${fn:length(result.artContent) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:edmsMove('${result.wDirCd}','${result.artSeqNo}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(edmsList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
							
						</div>
						</c:if>
						<!-- //문서 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						
						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.reportYn == 'Y'}">
						<!-- 업무보고 ---------------------------------------------------------------------------------------------->
						<c:if test="${reportCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000006611","업무보고")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${reportCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(7);" class="more_btn"><%=BizboxAMessage.getMessage("TX000006611","업무보고")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${reportList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'report-1'}">
												<%=BizboxAMessage.getMessage("TX000006542","일일")%>
											</c:if>
											<c:if test="${result.jobType == 'report-2'}">
												<%=BizboxAMessage.getMessage("TX000006781","수시")%>
											</c:if>
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:reportPop('${result.reportSeq}','${result.jobType}','${result.createSeq}','${result.targetEmpSeq}','${result.openYn}');">
												${result.title}
											</a>
										</h3>
										<ul class="misc">
											<li><span id="">보고일 : 
											<script language="Javascript">fnDateType('${result.reportDate}','-');</script>
											</span></li>
										</ul>
									</div>
<%-- 									<c:if test="${(result.jobType == 'report-1') || (result.jobType == 'report-2' && result.contents != '')}"> --%>
<!-- 									<div class="contens_line"> -->
<!-- 										<ul class="contents_list_type"> -->
<%-- 											<c:if test="${result.jobType == 'report-1'}"> --%>
<!-- 											<li> -->
<!-- 												<dl> -->
<%-- 													<dt><%=BizboxAMessage.getMessage("TX000006607","주요일정")%> : </dt> --%>
<!-- 													<dd class="highlight_h"> -->
<%-- 														<c:if test="${result.contents1 == ''}"> --%>
<!-- 															&nbsp; -->
<%-- 														</c:if> --%>
<%-- 														${result.contents1}  --%>
<!-- 													</dd> -->
<!-- 												</dl> -->
<!-- 											</li> -->
<%-- 											</c:if> --%>
<!-- 											<div class="contents_text_type"> -->
<!-- 											<li> -->
<!-- 												<dl> -->
<%-- 													<dt><%=BizboxAMessage.getMessage("TX000000672","주요업무")%> : </dt> --%>
<!-- 													<dd> -->
<%-- 													<c:choose> --%>
<%-- 														<c:when test="${fn:length(result.contents2) > 230 && result.jobType == 'report-1'}"> --%>
<%-- 															<c:set var="keyIndexOf" value="${fn:indexOf(result.contents2, params.tsearchKeyword)}"/> --%>
<%-- 															<c:choose> --%>
<%-- 															<c:when test="${keyIndexOf > 230}"> --%>
<%-- 																${fn:substring(result.contents2,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))} --%>
<%-- 															</c:when> --%>
<%-- 															<c:otherwise> --%>
<%-- 																${fn:substring(result.contents2,0,230)} --%>
<%-- 															</c:otherwise> --%>
<%-- 															</c:choose> --%>
<%-- 															${fn:substring(result.contents2,0,230)} --%>
<%-- 														</c:when> --%>
<%-- 														<c:when test="${fn:length(result.contents) > 230 && result.jobType == 'report-2'}"> --%>
<%-- 															<c:set var="keyIndexOf" value="${fn:indexOf(result.contents, params.tsearchKeyword)}"/> --%>
<%-- 															<c:choose> --%>
<%-- 															<c:when test="${keyIndexOf > 230}"> --%>
<%-- 																${fn:substring(result.contents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))} --%>
<%-- 															</c:when> --%>
<%-- 															<c:otherwise> --%>
<%-- 																${fn:substring(result.contents,0,230)} --%>
<%-- 															</c:otherwise> --%>
<%-- 															</c:choose> --%>
<%-- 															${fn:substring(result.contents,0,230)} --%>
<%-- 														</c:when> --%>
<%-- 														<c:when test="${fn:length(result.contents2) <= 230 && result.jobType == 'report-1'}"> --%>
<%-- 															${result.contents2} --%>
<%-- 														</c:when> --%>
<%-- 														<c:when test="${fn:length(result.contents) <= 230 && result.jobType == 'report-2'}"> --%>
<%-- 															${result.contents} --%>
<%-- 														</c:when> --%>
<%-- 														<c:when test="${fn:length(result.contents2) == 0 && result.jobType == 'report-1'}"> --%>
<%-- 															<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%> --%>
<%-- 														</c:when> --%>
<%-- 														<c:when test="${fn:length(result.contents) == 0 && result.jobType == 'report-2'}"> --%>
<%-- 															<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%> --%>
<%-- 														</c:when> --%>
<%-- 													</c:choose> --%>
<%-- 													<a href="javascript:reportPop('${result.reportSeq}','${result.jobType}','${result.createSeq}','${result.targetEmpSeq}','${result.openYn}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a> --%>
<!-- 												</dl> -->
<!-- 											</li> -->
<!-- 											</div> -->
<!-- 										</ul> -->
<!-- 									</div> -->
<%-- 									</c:if> --%>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(reportMap) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
						</div>
						</c:if>
						<!-- //업무보고 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						
						<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.noteYn == 'Y'}">
						<!-- 노트 ---------------------------------------------------------------------------------------------->
				 		<c:if test="${noteCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000010157","노트")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${noteCnt}');</script>)
								</span></h2>
									<a href="javascript:tab_nor_Fn(8);" class="more_btn"><%=BizboxAMessage.getMessage("TX000010157","노트")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${noteList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
										<c:if test="${result.folderName == ''}">
											<%=BizboxAMessage.getMessage("TX000010157","노트")%>
										</c:if>
										${result.folderName}
										</span>
										<h3 class="title_line_txt">
										<a href="javascript:noteMove('${result.pkSeq}');">
											${result.noteName}
										</a>
										</h3>
										<ul class="misc">
											<li><span id="">
												${fn:replace(result.noteDate,'T',' ')}
											</span></li>
										</ul>
									</div>
									<c:if test="${result.contents != ''}">
									<div class="contens_line">
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.contents) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.contents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.contents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.contents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.contents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.contents) <= 230}">
													${result.contents}
												</c:when>
												<c:when test="${fn:length(result.contents) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:noteMove('${result.pkSeq}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(eadocMap) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
		
						</div>
						</c:if>
						</c:if>
						<!-- //노트 종료 ---------------------------------------------------------------------------------------->
						
						<!-- 첨부파일 ---------------------------------------------------------------------------------------------->
						<c:if test="${fileCnt != 0}">
						<div class="result_file">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000521","첨부파일")%><span id="" class="text_blue">(<script language="Javascript">fnMoneyType('${fileCnt}');</script>)</span></h2>
									<a href="javascript:tab_nor_Fn(9);" class="more_btn"><%=BizboxAMessage.getMessage("TX000000521","첨부파일")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
						
							<c:if test="${fileCnt != 0}">
							<div class="tab_page mt10">
								<div class="tab_style"  id="tabstrip">
								<ul>
									<li class="k-state-active"><%=BizboxAMessage.getMessage("TX000000862","전체")%></li>
									<li><%=BizboxAMessage.getMessage("TX000005937","이미지")%></li>
									<li><%=BizboxAMessage.getMessage("TX000008576","문서")%></li>
									<li><%=BizboxAMessage.getMessage("TX000018199","멀티미디어")%></li>
									<li><%=BizboxAMessage.getMessage("TX000005400","기타")%></li>
								</ul>
								<div  class="tab1" style="min-heiht:300px;"><!-- 전체 -->
									<c:forEach var="result" items="${fileList}" varStatus="status">
									<div class="tts_div">
										<p class="tts_tit">
										<!-- <a href="#n">콘셉트 아이디어 <span class="match">문서</span>정리정리정리정리정리정리정리정리정리정리</a>  -->
										<a href="javascript:contentView("${fn:replace(result.keys,'\"','@')}','${result.jobType}');">
										<c:choose>
											<c:when test="${fn:length(result.title) > 15}">
												<c:set var="keyIndexOf" value="${fn:indexOf(result.title, params.tsearchKeyword)}"/>
												<c:choose>
												<c:when test="${keyIndexOf > 15}">
													${fn:substring(result.title,keyIndexOf-(15-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
												</c:when>
												<c:when test="${fn:length(result.title) > 15}">
													${fn:substring(result.title,0,15)}...
												</c:when>
												<c:otherwise>
													${result.title}
												</c:otherwise>
												</c:choose>
												<%-- ${fn:substring(result.contents,0,230)} --%>
											</c:when>
											<c:when test="${fn:length(result.title) <= 15}">
												${result.title}
											</c:when>
										</c:choose>
										</a>
										</p>
										<div class="tts_con">
											<div class="tts_pictxt">
												<div class="ico">
													<img src="/gw/Images/ico/file_ico2/ico_file_${fn:toLowerCase(result.fileExtsn)}.png" alt="" />
												</div>
												<div class="pt_div">
													<div class="dot1">
													<c:choose>
													<%-- 전체 탭에서 이미지일 경우 --%>
													<c:when test="${fn:toLowerCase(result.fileExtsn) == 'jpg' || fn:toLowerCase(result.fileExtsn) == 'jpeg' || fn:toLowerCase(result.fileExtsn) == 'gif' || fn:toLowerCase(result.fileExtsn) == 'png' || fn:toLowerCase(result.fileExtsn) == 'bmp'}">
													
														<c:choose>
															<c:when test="${result.jobType == 'board-1' || result.jobType == 'board-2'}">
																<script language="Javascript">boardFileImgTag('${result.pkSeq}','${result.filePath}','${result.fileName}');</script>
															</c:when>
															<c:otherwise>
																<img id="totalTabImg" width="109" height="66" src="<c:url value='/cmm/file/fileDownloadProc.do?fileId=${result.fileId}&fileSn=${result.fileSn}' />" onerror="this.src='/gw/Images/ico/media_noimg.png'" />
															</c:otherwise>
														</c:choose>
													

														
													</c:when>
													<%-- 전체 탭에서 동영상일 경우 --%>
													<c:when test="${fn:toLowerCase(result.fileExtsn) == 'mp4' || fn:toLowerCase(result.fileExtsn) == 'mov' || fn:toLowerCase(result.fileExtsn) == 'avi' || fn:toLowerCase(result.fileExtsn) == 'asf'
																 || fn:toLowerCase(result.fileExtsn) == 'wmv' || fn:toLowerCase(result.fileExtsn) == 'mpeg' || fn:toLowerCase(result.fileExtsn) == 'mpg' || fn:toLowerCase(result.fileExtsn) == 'mp3'
																 || fn:toLowerCase(result.fileExtsn) == 'wma' || fn:toLowerCase(result.fileExtsn) == 'wav' || fn:toLowerCase(result.fileExtsn) == 'flv'}">
														<img src="/gw/Images/ico/media_noimg.png" alt="" />
													</c:when>
													<c:otherwise>
														<c:choose>
														<c:when test="${fn:length(result.fileContent) > 30}">
															<c:set var="keyIndexOf" value="${fn:indexOf(result.fileContent, params.tsearchKeyword)}"/>
															<c:choose>
															<c:when test="${keyIndexOf > 30}">
																${fn:substring(result.fileContent,keyIndexOf-(30-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
															</c:when>
															<c:otherwise>
																${result.fileContent}
															</c:otherwise>
															</c:choose>
															<%-- ${fn:substring(result.contents,0,230)} --%>
														</c:when>
														<c:when test="${fn:length(result.fileContent) == 0}">
															텍스트가 포함되어 있지 않아 미리보기 지원이 되지 않습니다.
														</c:when>
														<c:when test="${fn:length(result.fileContent) <= 30}">
															${result.fileContent}
														</c:when>
														</c:choose>
													</c:otherwise>
													</c:choose><%-- ${fn:substring(result.artContent,0,230)} --%>
													</div>
												</div>
											</div>
											<div class="tts_file">
											
											
											<c:choose>
												<c:when test="${result.jobType == 'board-1' || result.jobType == 'board-2'}">
													<script language="Javascript">boardFileDownPop('${result.pkSeq}','${result.filePath}','${result.fileName}','${result.fileName}','${result.jobType}','${result.fileSn}','${result.fileExtsn}');</script>
												</c:when>
												<c:when test="${result.jobType == 'edms-1' || result.jobType == 'edms-2'}">
													<a style="cursor:pointer" onclick="fnFileDownLoad('/edms/doc/downloadFile.do?artNo=${result.pkSeq}&fileNo=${result.fileSn}','${result.fileSn}','${result.jobType}','${result.fileName}','${result.fileExtsn}')" class="dot2">
														${result.fileName}
													</a>
												</c:when>
												<c:otherwise>
													 <a style="cursor:pointer" onclick="fnFileDownLoad('/gw/cmm/file/fileDownloadProc.do?fileId=${result.fileId}&fileSn=${result.fileSn}','${result.fileId}','${result.jobType}','${result.fileName}','${result.fileExtsn}')" class="dot2">
														${result.fileName}
													</a>
												</c:otherwise>
											</c:choose>
											</div>
											<div class="na_dat">
												<span class="na"><!-- 홍길동 --></span>
												<span class="dat">
												${fn:substring(fn:replace(result.createDate,"T"," "),0,10)}
												<%-- <script language="Javascript">fnTimeStampFormat('${result.timeStamp}');</script> --%>
												</span>
											</div>
										</div><!--tts_con-->
									</div><!--tts_div-->
									</c:forEach>
								</div><!-- tab1 -->
	
								</div><!-- tab_style-->
							</div><!-- tab_page-->
							</c:if>
						</div>
						</c:if>
						<!-- //첨부파일 종료 ---------------------------------------------------------------------------------------->

							</div>
							
							
							<!-- 전자결재 -->
							<div class="tab2" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.eadocYn == 'Y'}">
						<!-- 전자결재(영리) ---------------------------------------------------------------------------------------------->
						<c:if test="${eadocCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000479","전자결재")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${eadocCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${eadocHrList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
										<script language="Javascript">fnHangleType('${result.formNm}');</script>
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:eapPop('${result.pkSeq}','${result.formId}');">
												${result.docTitle}
											</a>
										</h3>
										<ul class="misc">
											<li><span id=""><script language="Javascript">fnHangleType2('${result.formNm}');</script>
											<c:if test="${fn:length(result.docDate) > 10}">
												${fn:substring(fn:replace(result.docDate,'T',' '),0,10)}
											</c:if>
											<c:if test="${fn:length(result.docDate) < 10}">
												<script language="Javascript">fnDateType('${result.docDate}','-');</script>
											</c:if>  
											</span></li>
										</ul>
									</div>
									<c:if test="${result.docContents != ''}">
									<div class="contens_line">
										<ul class="contents_list_type">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000000663","문서번호")%> : </dt>
													<dd>${result.docNo}</dd>
												</dl>
											</li>
										</ul>
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.docContents) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.docContents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.docContents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.docContents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.docContents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.docContents) <= 230}">
													${result.docContents}
												</c:when>
												<c:when test="${fn:length(result.docContents) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:eapPop('${result.pkSeq}','${result.formId}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>

							</ul>
		
						</div>
						</c:if>
						<!-- //전자결재(영리) 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${eadocCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
						</div>	
							
							<!-- 탭 3-->
							<!-- <div class="tab3" style="display:none;">
								tab3
							</div> -->

							<!-- 일정-->
							<div class="tab3" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.scheduleYn == 'Y'}">
						<!-- 일정 ---------------------------------------------------------------------------------------------->
						<c:if test="${scheduleCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000483","일정")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${scheduleCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
								<c:forEach var="result" items="${scheduleHrList}" varStatus="status">
								<c:if test="${result.pkSeq != ''}">
									<c:set var="pkSeqS" value="${fn:split(result.pkSeq,',')}"/>
									<c:forEach var="ps" items="${pkSeqS}" varStatus="s">
										<c:if test="${s.count == 1}"><c:set var="pkSeq1" value="${ps}"/></c:if>
										<c:if test="${s.count == 2}"><c:set var="pkSeq2" value="${ps}"/></c:if>
									</c:forEach>
								</c:if>
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'schedule-1'}">
												<c:if test="${result.gbnCode == 'G' || result.gbnCode == 'D'}">
													공유
												</c:if>
												<c:if test="${result.gbnCode == 'E'}">
													개인
												</c:if>
												<c:if test="${result.gbnCode == 'P'}">
													프로젝트
												</c:if>
												<c:if test="${result.gbnCode != 'G' && result.gbnCode != 'D' && result.gbnCode != 'E' && result.gbnCode != 'P'}">
													공유
												</c:if>
											</c:if>
											<c:if test="${result.jobType == 'schedule-2'}">
												자원
											</c:if>
										</span>
										<h3 class="title_line_txt">
										<a href="javascript:scheduleMove('${pkSeq1}','${pkSeq2}');">
											<c:choose>
												<c:when test="${result.jobType == 'schedule-1'}">
													${result.schTitle}
												</c:when>
												<c:when test="${result.jobType == 'schedule-2'}">
													${result.reqText}
												</c:when>
											</c:choose>
											</a>
										</h3>
										<ul class="misc">
											<li><span id="">
											<c:if test="${fn:length(result.startDate) > 10}">
												<script language="Javascript">fnDateType('${fn:substring(fn:replace(result.startDate,"T"," "),0,16)}','s');</script>
												<%-- ${fn:substring(fn:replace(result.startDate,"T"," "),0,16)} --%>
											</c:if>
											~
											<c:if test="${fn:length(result.endDate) > 10}">
											<script language="Javascript">fnDateType('${fn:substring(fn:replace(result.endDate,"T"," "),0,16)}','s');</script>
											<%-- ${fn:substring(fn:replace(result.endDate,"T"," "),0,16)} --%>
											</c:if>
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'schedule-1' && result.contents != '') || (result.jobType == 'schedule-2' && result.descText != '')}">
									<div class="contens_line">
										<%-- <c:if test="${result.jobType == 'schedule-1'}">
											<c:if test="${result.gbnCode == 'P'}">
												<ul class="contents_list_type">
													<li>
														<dl>
															<dt>프로젝트명 :&nbsp;</dt>
															<dd>프로젝트명컬럼없음</dd>
														</dl>
													</li>
												</ul>
											</c:if>
										</c:if> --%>
										<c:if test="${result.jobType == 'schedule-2'}">
											<ul class="contents_list_type">
												<li>
													<dl>
														<dt>자원명 : </dt>
														<dd class="highlight">${result.resName} </dd>
													</dl>
												</li>
											</ul>
										</c:if>
										<p class="contents_text_type">
										<c:choose>
												<c:when test="${fn:length(result.contents) > 230 && result.jobType == 'schedule-1'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.contents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.contents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.contents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.contents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.descText) > 230 && result.jobType == 'schedule-2'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.descText, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.descText,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.descText,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.descText,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.contents) <= 230 && result.jobType == 'schedule-1'}">
													${result.contents}
												</c:when>
												<c:when test="${fn:length(result.descText) <= 230 && result.jobType == 'schedule-2'}">
													${result.descText}
												</c:when>
											</c:choose>
											<a href="javascript:scheduleMove('${pkSeq1}','${pkSeq2}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(scheduleList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
						</div>
						</c:if>
						<!-- //일정 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${scheduleCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

							<!-- 탭 5-->
							<div class="tab4" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.projectYn == 'Y'}">
						<!-- 업무관리 ---------------------------------------------------------------------------------------------->
						<c:if test="${boardType == '1' || boardType == '2'}">
						<c:if test="${projectCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000010151","업무관리")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${projectCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<!-- 업무관리 -->
							<c:forEach var="result" items="${projectHrList}" varStatus="status">
								<c:if test="${result.jobType == 'project-1' || result.jobType == 'project-2' || result.jobType == 'project-3'}">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'project-1'}">
												프로젝트
											</c:if>
											<c:if test="${result.jobType == 'project-2'}">
												업무
											</c:if>
											<c:if test="${result.jobType == 'project-3'}">
												할일
											</c:if>
										</span>
										<h3 class="title_line_txt">
										<a href="javascript:projectMove('${result.jobType}','${result.pkSeq}','${result.groupSeq}');">
											<c:choose>
												<c:when test="${result.jobType == 'project-1'}">
														${result.prjName}
												</c:when>
												<c:when test="${result.jobType == 'project-2'}">
														${result.workName}
												</c:when>
												<c:when test="${result.jobType == 'project-3'}">
														${result.jobName}
												</c:when>
											</c:choose>
										</a>
										</h3>
										<ul class="misc">
											<li><span id="">
											<c:if test="${result.jobType == 'project-1'}"> <!-- 프로젝트 -->
												<%-- <c:if test="${fn:length(result.prjSdDate) > 10}">
													${fn:substring(result.prjSdDate,'T',' '),0,10)}
												</c:if>
												&nbsp;~&nbsp;
												<c:if test="${fn:length(result.prjEdDate) > 10}">
													${fn:substring(result.prjEdDate,'T',' '),0,10)}
												</c:if> --%>
												<script language="Javascript">fnDateType('${result.prjSdDate}','-');</script>
												~
												<script language="Javascript">fnDateType('${result.prjEdDate}','-');</script>
											</c:if>
											<c:if test="${result.jobType == 'project-2'}"> <!-- 업무 --> 
												<%-- <c:if test="${fn:length(result.workSdDate) > 10}">
													${fn:substring(result.workSdDate,'T',' '),0,10)}
												</c:if>
												&nbsp;~&nbsp;
												<c:if test="${fn:length(result.workEdDate) > 10}">
													${fn:substring(result.workEdDate,'T',' '),0,10)}
												</c:if> --%>
												<script language="Javascript">fnDateType('${result.workSdDate}','-');</script>
												~
												<script language="Javascript">fnDateType('${result.workEdDate}','-');</script>
											</c:if>
											<c:if test="${result.jobType == 'project-3'}"> <!-- 할일 -->
												<%-- <c:if test="${fn:length(result.jobSdDate) > 10}">
													${fn:substring(result.jobSdDate,'T',' '),0,10)}
												</c:if>
												&nbsp;~&nbsp;
												<c:if test="${fn:length(result.jobEdDate) > 10}">
													${fn:substring(result.jobEdDate,'T',' '),0,10)}
												</c:if> --%>
												<script language="Javascript">fnDateType('${result.jobSdDate}','-');</script>
												~
												<script language="Javascript">fnDateType('${result.jobEdDate}','-');</script>
											</c:if>
											
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'project-1' && result.dcRmk != '') || (result.jobType == 'project-2' && result.workContents != '') || (result.jobType == 'project-3' && result.jobDetail != '')}">
									<div class="contens_line">
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.jobDetail) > 230 && result.jobType == 'project-3' && params.tsearchSubKeyword != ''}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.jobDetail, params.tsearchSubKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.jobDetail,keyIndexOf-(230-fn:length(params.tsearchSubKeyword)),keyIndexOf+fn:length(params.tsearchSubKeyword)), params.tsearchSubKeyword, subKeyword)}
													</c:when>
													<c:otherwise>
														${fn:substring(result.jobDetail,0,230), params.tsearchSubKeyword, subKeyword)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.jobDetail,0,230), params.tsearchSubKeyword, subKeyword)} --%>
												</c:when>
												<c:when test="${fn:length(result.dcRmk) > 230 && result.jobType == 'project-1'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.dcRmk, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.dcRmk,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.dcRmk,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.dcRmk,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.workContents) > 230 && result.jobType == 'project-2'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.workContents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.workContents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.workContents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.workContents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.jobDetail) > 230 && result.jobType == 'project-3'}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.jobDetail, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.jobDetail,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.jobDetail,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.jobDetail,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.dcRmk) <= 230 && esult.jobType == 'project-1'}">
													${result.dcRmk}
												</c:when>
												<c:when test="${fn:length(result.workContents) <= 230 && result.jobType == 'project-2'}">
													${result.workContents}
												</c:when>
												<c:when test="${fn:length(result.jobDetail) <= 230 && result.jobType == 'project-3'}">
													${result.jobDetail}
												</c:when>
												<c:when test="${fn:length(result.dcRmk) == 0 && esult.jobType == 'project-1'}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
												<c:when test="${fn:length(result.workContents) == 0 && result.jobType == 'project-2'}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
												<c:when test="${fn:length(result.jobDetail) == 0 && result.jobType == 'project-3'}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:projectMove('${result.jobType}','${result.pkSeq}','${result.groupSeq}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
								</c:if>
							</c:forEach>
							
							<%-- <c:if test="${fn:length(projectList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
							
						</div>
						</c:if>
						</c:if>
						<!-- //업무관리 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${projectCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

							<!-- 탭 6-->
							<div class="tab5" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.boardYn == 'Y'}">
						<!-- 게시판 ---------------------------------------------------------------------------------------------->
						<c:if test="${boardType == '1' || boardType == '9'}">
						<c:if test="${boardCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000011134","게시판")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${boardCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
								<c:forEach var="result" items="${boardHrList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'board-1' || result.jobType == 'board-3'}">
												${result.catTitle}
											</c:if>
											<c:if test="${result.jobType == 'board-2'}">
												<%=BizboxAMessage.getMessage("TX000002747","설문조사")%>
											</c:if>
										</span>
										<h3 class="title_line_txt">
											<c:if test="${result.jobType == 'board-1' || result.jobType == 'board-3'}">
												<a href="javascript:boardMove('${result.jobType}','${result.catSeqNo}','${result.artSeqNo}');">
													<%-- ${result.artTitle} --%>
													${result.artTitle}
												</a>
											</c:if>
											<c:if test="${result.jobType == 'board-2'}">
												<a href="javascript:boardMove('${result.jobType}','${result.pkSeq}','');">
													<%-- ${result.artTitle} --%>
													${result.artTitle}
												</a>
											</c:if>
										</h3>
										<ul class="misc">
											<li><span id="">
											<c:if test="${result.jobType == 'board-1' || result.jobType == 'board-3'}">
												<c:if test="${fn:length(result.writeDate) > 10}">
													${fn:substring(fn:replace(result.writeDate,'T',' '),0,10)}
												</c:if>
											</c:if>
											<c:if test="${result.jobType == 'board-2'}">
												<c:if test="${fn:length(result.startDate) > 10}">
													${fn:substring(fn:replace(result.startDate,'T',' '),0,10)}
												</c:if>
												~
												<c:if test="${fn:length(result.endDate) > 10}">
													${fn:substring(fn:replace(result.endDate,'T',' '),0,10)}
												</c:if>
											</c:if>
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'board-1' && result.artContent != '') || (result.jobType == 'board-3' && result.artContent != '')}">
									<div class="contens_line">
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.artContent) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.artContent, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.artContent,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.artContent,0,230)}
													</c:otherwise>
													</c:choose>
												</c:when>
												<c:when test="${fn:length(result.artContent) <= 230}">
													${result.artContent}
												</c:when>
												<c:when test="${fn:length(result.artContent) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:boardMove('${result.jobType}','${result.catSeqNo}','${result.artSeqNo}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
											
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(boardList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							
							</ul>
							
						</div>
						</c:if>
						</c:if>
						<!-- //게시판 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${boardCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

							<!-- 문서-->
							<div class="tab6" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.edmsYn == 'Y'}">
						<!-- 문서 ---------------------------------------------------------------------------------------------->
						<c:if test="${boardType == '1' || boardType == '8'}">
						<c:if test="${edmsCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000008576","문서")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${edmsCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${edmsHrList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											${result.dirNm}
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:edmsMove('${result.wDirCd}','${result.artSeqNo}');">
												${result.artTitle}
											</a>
										</h3>
										<ul class="misc">
											<li><span id=""><%=BizboxAMessage.getMessage("TX000000612","작성일")%> : 
												<c:if test="${fn:length(result.writeDate) > 10}">
													${fn:substring(fn:replace(result.writeDate,'T',' '),0,10)}
												</c:if> 
											</span></li>
										</ul>
									</div>
									<c:if test="${result.artContent != ''}">
									<div class="contens_line">
										<ul class="contents_list_type docu_ul">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000000663","문서번호")%> : </dt>
													<dd>${result.artSeqNm}</dd>
												</dl>
											</li>
										</ul>
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.artContent) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.artContent, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.artContent,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.artContent,0,230), params.tsearchKeyword, subKeyword)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.artContent,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.artContent) <= 230}">
													${result.artContent}
												</c:when>
												<c:when test="${fn:length(result.artContent) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:edmsMove('${result.wDirCd}','${result.artSeqNo}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(edmsList) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
							
						</div>
						</c:if>
						</c:if>
						<!-- //문서 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${edmsCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

							<!-- 업무보고-->
							<div class="tab7" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.reportYn == 'Y'}">
						<!-- 업무보고 ---------------------------------------------------------------------------------------------->
						<c:if test="${boardType == '1' || boardType == '5'}">
						<c:if test="${reportCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000006611","업무보고")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${reportCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${reportHrList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
											<c:if test="${result.jobType == 'report-1'}">
												<%=BizboxAMessage.getMessage("TX000006542","일일")%>
											</c:if>
											<c:if test="${result.jobType == 'report-2'}">
												<%=BizboxAMessage.getMessage("TX000006781","수시")%>
											</c:if>
										</span>
										<h3 class="title_line_txt">
											<a href="javascript:reportPop('${result.reportSeq}','${result.jobType}','${result.createSeq}','${result.targetEmpSeq}','${result.openYn}');">
												${result.title}
											</a>
										</h3>
										<ul class="misc">
											<li><span id=""><%=BizboxAMessage.getMessage("TX000008462","보고일")%> : 
											<script language="Javascript">fnDateType('${result.reportDate}','-');</script>
											</span></li>
										</ul>
									</div>
									<c:if test="${(result.jobType == 'report-1') || (result.jobType == 'report-2' && result.contents != '')}">
									<div class="contens_line">
										<ul class="contents_list_type">
											<c:if test="${result.jobType == 'report-1'}">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000006607","주요일정")%> : </dt>
													<dd class="highlight_h">
														<c:if test="${result.contents1 == ''}">
															&nbsp;
														</c:if>
														${result.contents1} 
													</dd>
												</dl>
											</li>
											</c:if>
											<div class="contents_text_type">
											<li>
												<dl>
													<dt><%=BizboxAMessage.getMessage("TX000000672","주요업무")%> : </dt>
													<dd>
													<c:choose>
														<c:when test="${fn:length(result.contents2) > 230 && result.jobType == 'report-1'}">
															<c:set var="keyIndexOf" value="${fn:indexOf(result.contents2, params.tsearchKeyword)}"/>
															<c:choose>
															<c:when test="${keyIndexOf > 230}">
																${fn:substring(result.contents2,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
															</c:when>
															<c:otherwise>
																${fn:substring(result.contents2,0,230)}
															</c:otherwise>
															</c:choose>
															<%-- ${fn:substring(result.contents2,0,230)} --%>
														</c:when>
														<c:when test="${fn:length(result.contents) > 230 && result.jobType == 'report-2'}">
															<c:set var="keyIndexOf" value="${fn:indexOf(result.contents, params.tsearchKeyword)}"/>
															<c:choose>
															<c:when test="${keyIndexOf > 230}">
																${fn:substring(result.contents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
															</c:when>
															<c:otherwise>
																${fn:substring(result.contents,0,230)}
															</c:otherwise>
															</c:choose>
															<%-- ${fn:substring(result.contents,0,230)} --%>
														</c:when>
														<c:when test="${fn:length(result.contents2) <= 230 && result.jobType == 'report-1'}">
															${result.contents2}
														</c:when>
														<c:when test="${fn:length(result.contents) <= 230 && result.jobType == 'report-2'}">
															${result.contents}
														</c:when>
														<c:when test="${fn:length(result.contents2) == 0 && result.jobType == 'report-1'}">
															<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
														</c:when>
														<c:when test="${fn:length(result.contents) == 0 && result.jobType == 'report-2'}">
															<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
														</c:when>
													</c:choose>
													<a href="javascript:reportPop('${result.reportSeq}','${result.jobType}','${result.createSeq}','${result.targetEmpSeq}','${result.openYn}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
												</dl>
											</li>
											</div>
										</ul>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(reportMap) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
						</div>
						</c:if>
						</c:if>
						<!-- //업무보고 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${reportCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

							<!-- 노트 -->
							<div class="tab8" style="display:none;">
								<!-- 메뉴 권한 체크 -->
						<c:if test="${menuAuthMap.noteYn == 'Y'}">
						<!-- 노트 ---------------------------------------------------------------------------------------------->
				 		<c:if test="${boardType == '1' || boardType == '4'}">
				 		<c:if test="${noteCnt != 0}">
						<div class="result_works">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000010157","노트")%><span id="" class="text_blue">
								(<script language="Javascript">fnMoneyType('${noteCnt}');</script>)
								</span></h2>
								<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000018196","전체 검색결과")%></a><!--전체 검색결과-->
							</div>
							<ul id="" class="list_style_1">
							<c:forEach var="result" items="${noteHrList}" varStatus="status">
								<li class="list">
									<div class="title_line">
										<span class="box_txt">
										<c:if test="${result.folderName == ''}">
											<%=BizboxAMessage.getMessage("TX000010157","노트")%>
										</c:if>
										${result.folderName}
										</span>
										<h3 class="title_line_txt">
										<a href="javascript:noteMove('${result.pkSeq}');">
											${result.noteName}
										</a>
										</h3>
										<ul class="misc">
											<li><span id="">
												${fn:replace(result.noteDate,'T',' ')}
											</span></li>
										</ul>
									</div>
									<c:if test="${result.contents != ''}">
									<div class="contens_line">
										<p class="contents_text_type">
											<c:choose>
												<c:when test="${fn:length(result.contents) > 230}">
													<c:set var="keyIndexOf" value="${fn:indexOf(result.contents, params.tsearchKeyword)}"/>
													<c:choose>
													<c:when test="${keyIndexOf > 230}">
														${fn:substring(result.contents,keyIndexOf-(230-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
													</c:when>
													<c:otherwise>
														${fn:substring(result.contents,0,230)}
													</c:otherwise>
													</c:choose>
													<%-- ${fn:substring(result.contents,0,230)} --%>
												</c:when>
												<c:when test="${fn:length(result.contents) <= 230}">
													${result.contents}
												</c:when>
												<c:when test="${fn:length(result.contents) == 0}">
													<%=BizboxAMessage.getMessage("TX000018198","내용 없음")%>
												</c:when>
											</c:choose>
											<a href="javascript:noteMove('${result.pkSeq}');"><span class="text_more">··· <%=BizboxAMessage.getMessage("TX000018197","더보기")%></span></a>
										</p>
									</div>
									</c:if>
								</li>
							</c:forEach>
							<%-- <c:if test="${fn:length(eadocMap) == 0}">
							<li class="list">
								<div class="contens_line">
									<p class="contents_text_type">
										<span class=match>${params.tsearchKeyword}</span>에 대한 검색 결과가 없습니다.
									</p>
								</div>
							</li>
							</c:if> --%>
							</ul>
		
						</div>
						</c:if>
						</c:if>
						<!-- //노트 종료 ---------------------------------------------------------------------------------------->
						</c:if>
						<c:if test="${noteCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

							<!-- 첨부파일 -->
							<div class="tab9" style="display:none;">
								<!-- 첨부파일 ---------------------------------------------------------------------------------------------->
						<c:if test="${fileCnt != 0}">
						<div class="result_file">
							<div class="result_title">
								<h2><%=BizboxAMessage.getMessage("TX000000521","첨부파일")%><span id="" class="text_blue">(<script language="Javascript">fnMoneyType('${fileCnt}');</script>)</span></h2>
									<a href="javascript:tab_nor_Fn(1);" class="more_btn"><%=BizboxAMessage.getMessage("TX000000521","첨부파일")%> <%=BizboxAMessage.getMessage("TX000018197","더보기")%></a><!--전체 검색결과-->
							</div>
						
							<c:if test="${fileCnt != 0}">
							<div class="tab_page mt10">
								<div class="tab_style"  id="tabstrip">
								<ul>
									<li class="k-state-active"><%=BizboxAMessage.getMessage("TX000000862","전체")%></li>
									<li><%=BizboxAMessage.getMessage("TX000005937","이미지")%></li>
									<li><%=BizboxAMessage.getMessage("TX000008576","문서")%></li>
									<li><%=BizboxAMessage.getMessage("TX000018199","멀티미디어")%></li>
									<li><%=BizboxAMessage.getMessage("TX000005400","기타")%></li>
								</ul>
								<div  class="tab1" style="min-heiht:300px;"><!-- 전체 -->
									<c:forEach var="result" items="${fileHrList}" varStatus="status">
									<div class="tts_div">
										<p class="tts_tit">
										<!-- <a href="#n">콘셉트 아이디어 <span class="match">문서</span>정리정리정리정리정리정리정리정리정리정리</a>  -->
										<a href="javascript:contentView("${fn:replace(result.keys,'\"','@')}','${result.jobType}');">
										<c:choose>
											<c:when test="${fn:length(result.title) > 15}">
												<c:set var="keyIndexOf" value="${fn:indexOf(result.title, params.tsearchKeyword)}"/>
												<c:choose>
												<c:when test="${keyIndexOf > 15}">
													${fn:substring(result.title,keyIndexOf-(15-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
												</c:when>
												<c:when test="${fn:length(result.title) > 15}">
													${fn:substring(result.title,0,15)}...
												</c:when>
												<c:otherwise>
													${result.title}
												</c:otherwise>
												</c:choose>
												<%-- ${fn:substring(result.contents,0,230)} --%>
											</c:when>
											<c:when test="${fn:length(result.title) <= 15}">
												${result.title}
											</c:when>
										</c:choose>
										</a>
										</p>
										<div class="tts_con">
											<div class="tts_pictxt">
												<div class="ico">
													<img src="/gw/Images/ico/file_ico2/ico_file_${fn:toLowerCase(result.fileExtsn)}.png" alt="" />
												</div>
												<div class="pt_div">
													<div class="dot1">
													<c:choose>
													<%-- 전체 탭에서 이미지일 경우 --%>
													<c:when test="${fn:toLowerCase(result.fileExtsn) == 'jpg' || fn:toLowerCase(result.fileExtsn) == 'jpeg' || fn:toLowerCase(result.fileExtsn) == 'gif' || fn:toLowerCase(result.fileExtsn) == 'png' || fn:toLowerCase(result.fileExtsn) == 'bmp'}">
													
														<c:choose>
															<c:when test="${result.jobType == 'board-1' || result.jobType == 'board-2'}">
																<script language="Javascript">boardFileImgTag('${result.pkSeq}','${result.filePath}','${result.fileName}');</script>
															</c:when>
															<c:otherwise>
																<img id="totalTabImg" width="109" height="66" src="<c:url value='/cmm/file/fileDownloadProc.do?fileId=${result.fileId}&fileSn=${result.fileSn}' />" onerror="this.src='/gw/Images/ico/media_noimg.png'" />
															</c:otherwise>
														</c:choose>
													

														
													</c:when>
													<%-- 전체 탭에서 동영상일 경우 --%>
													<c:when test="${fn:toLowerCase(result.fileExtsn) == 'mp4' || fn:toLowerCase(result.fileExtsn) == 'mov' || fn:toLowerCase(result.fileExtsn) == 'avi' || fn:toLowerCase(result.fileExtsn) == 'asf'
																 || fn:toLowerCase(result.fileExtsn) == 'wmv' || fn:toLowerCase(result.fileExtsn) == 'mpeg' || fn:toLowerCase(result.fileExtsn) == 'mpg' || fn:toLowerCase(result.fileExtsn) == 'mp3'
																 || fn:toLowerCase(result.fileExtsn) == 'wma' || fn:toLowerCase(result.fileExtsn) == 'wav' || fn:toLowerCase(result.fileExtsn) == 'flv'}">
														<img src="/gw/Images/ico/media_noimg.png" alt="" />
													</c:when>
													<c:otherwise>
														<c:choose>
														<c:when test="${fn:length(result.fileContent) > 30}">
															<c:set var="keyIndexOf" value="${fn:indexOf(result.fileContent, params.tsearchKeyword)}"/>
															<c:choose>
															<c:when test="${keyIndexOf > 30}">
																${fn:substring(result.fileContent,keyIndexOf-(30-fn:length(params.tsearchKeyword)),keyIndexOf+fn:length(params.tsearchKeyword))}
															</c:when>
															<c:otherwise>
																${result.fileContent}
															</c:otherwise>
															</c:choose>
															<%-- ${fn:substring(result.contents,0,230)} --%>
														</c:when>
														<c:when test="${fn:length(result.fileContent) == 0}">
															텍스트가 포함되어 있지 않아 미리보기 지원이 되지 않습니다.
														</c:when>
														<c:when test="${fn:length(result.fileContent) <= 30}">
															${result.fileContent}
														</c:when>
														</c:choose>
													</c:otherwise>
													</c:choose><%-- ${fn:substring(result.artContent,0,230)} --%>
													</div>
												</div>
											</div>
											<div class="tts_file">
											
											
											<c:choose>
												<c:when test="${result.jobType == 'board-1' || result.jobType == 'board-2'}">
													<script language="Javascript">boardFileDownPop('${result.pkSeq}','${result.filePath}','${result.fileName}','${result.fileName}','${result.jobType}','${result.fileSn}','${result.fileExtsn}');</script>
												</c:when>
												<c:when test="${result.jobType == 'edms-1' || result.jobType == 'edms-2'}">
													<a style="cursor:pointer" onclick="fnFileDownLoad('/edms/doc/downloadFile.do?artNo=${result.pkSeq}&fileNo=${result.fileSn}','${result.fileSn}','${result.jobType}','${result.fileName}','${result.fileExtsn}')" class="dot2">
														${result.fileName}
													</a>
												</c:when>
												<c:otherwise>
													 <a style="cursor:pointer" onclick="fnFileDownLoad('/gw/cmm/file/fileDownloadProc.do?fileId=${result.fileId}&fileSn=${result.fileSn}','${result.fileId}','${result.jobType}','${result.fileName}','${result.fileExtsn}')" class="dot2">
														${result.fileName}
													</a>
												</c:otherwise>
											</c:choose>
											</div>
											<div class="na_dat">
												<span class="na"><!-- 홍길동 --></span>
												<span class="dat">
												${fn:substring(fn:replace(result.createDate,"T"," "),0,10)}
												<%-- <script language="Javascript">fnTimeStampFormat('${result.timeStamp}');</script> --%>
												</span>
											</div>
										</div><!--tts_con-->
									</div><!--tts_div-->
									</c:forEach>
								</div><!-- tab1 -->
	
								</div><!-- tab_style-->
							</div><!-- tab_page-->
							</c:if>
						</div>
						</c:if>
						<!-- //첨부파일 종료 ---------------------------------------------------------------------------------------->
						<c:if test="${fileCnt < 1}">
						<!-- 검색결과없음 ------------------------------------------------------------------------------------------->
						<div id="" class="non_result fwb ac"><span><%=BizboxAMessage.getMessage("TX000007470","검색 결과가 없습니다.")%></span></div>
						<!-- //검색결과없음 ------------------------------------------------------------------------------------------->
						</c:if>
							</div>

						</div><!--// tab_area -->
						
						<!-- //통합검색 검색영역 종료 -------------------------------------------------------------------------------------------->					
					</div><!-- //sub_contents_wrap -->
					</c:if>
					
				</div><!-- iframe wrap -->
			</div><!-- //sub_contents -->
		</div><!-- //sub_wrap -->
		
		<!--</div> //#horizontal -->					
		
		<div id="" class="downfile_sel_pop posi_fix" style="top:133px;left:690px; display: none;" onmouseleave="fnMouseOut();">
		   	<ul>
		   		<li><a href="#n" onclick="fnFileDirectDown();"><%=BizboxAMessage.getMessage("TX000022068","PC저장")%></a></li>
		   		<li><a href="#n" onclick="fnFileViewerPop();"><%=BizboxAMessage.getMessage("TX000022069","뷰어열기")%></a></li>
		   	</ul>
		</div>
		
	</div>
	<div id="loading" style="display:none;position: absolute;left:50%;top:30%; margin: 0; padding: 0;"><img src="/gw/Images/ico/loading.gif"></div>
	<form id="form" name="form" action="getTotalSearchContentHr.do" method="post">  
	<input type="hidden" id="tsearchKeyword" name="tsearchKeyword" value="" /> <!-- 메인 키워드 -->
	<input type="hidden" id="tsearchSubKeyword" name="tsearchSubKeyword" value="" /> <!-- 상세검색 키워드 -->
	<input type="hidden" id="boardType" name="boardType" value="" /> <!-- 레프트메뉴 구분 -->
	<input type="hidden" id="fromDate" name="fromDate" value="" /> <!-- 검색 시작 일자 -->
	<input type="hidden" id="toDate" name="toDate" value="" /> <!-- 검색 종료 일자 -->
	<input type="hidden" id="dateDiv" name="dateDiv" value="" /> <!-- 기간선택, 임의선택 여부 -->
	<input type="hidden" id="detailSearchYn" name="detailSearchYn" value="N" /> <!-- 상세검색 ON/OFF 여부 (Y/N) -->
	<input type="hidden" id="selectDiv" name="selectDiv" value="S"/> <!-- 기간선택값 -->
	<input type="hidden" id="orderDiv" name="orderDiv" value="B"/> <!-- 정렬구분 -->
	<input type="hidden" id="pageIndex" name="pageIndex" value="1"/> <!-- 페이징처리 -->
	<input type="hidden" id="hrSearchYn" name="hrSearchYn" value="Y"/> <!-- 인물 검색 여부 -->
	<input type="hidden" id="hrEmpSeq" name="hrEmpSeq" value=""/> <!-- 인물 검색 선택된 empSeq -->
</form>

<form id="docViewrPopForm" name="docViewrPopForm" action="docViewerPop.do" method="post">
    <input type="hidden" name="groupSeq" />
    <input type="hidden" name="fileId" />
    <input type="hidden" name="fileSn" />
    <input type="hidden" name="moduleTp" />
</form>

<script type="text/javascript">
	var detailSearchYn = '${params.detailSearchYn}'; // 상세검색 ON 여부
	//화면이 다 로드 된 후에 실행합니다.
	$(window).load(function() {
		if(detailSearchYn == "Y"){
			$(".SearchDetail").show();
			$('#all_menu_btn').attr('src', _g_contextPath_ + '/Images/ico/ico_btn_arr_up01.png');
		}
		nonResult();
		
		//페이지 검색 시 기간선택, 직접입력 셋팅
		setRadioStatus(selectDiv);
		
		//페이지 검색 시 정확도, 최신순 셋팅
		setOrderBtnStatus(orderDiv);
		
	});
	
	$(window).resize(function() { 
		nonResult(); //검색결과 없을때 문구
	});
	
	//검색결과 없을때 
	function nonResult(){
		var subContents = $(".sub_contents").height() - 51;	
		var topBox = $(".top_box").height() + 22;	
		var searchDetail = $(".SearchDetail").height() + 31;
		var searchResultBar = $(".search_result_bar").height() + 11;
		var nonResult = subContents - (topBox + searchDetail + searchResultBar);

		$(".non_result").height(nonResult);	
		$(".non_result").css("line-height",nonResult+"px");
	}
	
	
	//첨부파일 다운로드
	function fnFileDownLoad(url, fileId, moduleTp, fileNm, fileExtsn){
		var optionValue = "";
		
		if(moduleTp == "project-1" || moduleTp == "project-2" || moduleTp == "project-3"){
			optionValue = attProjectValue;
		}else if(moduleTp == "schedule-1" || moduleTp == "schedule-2" || moduleTp == "note" || moduleTp == "report-1" || moduleTp == "report-2"){
			optionValue = attScheduleValue;
		}else if(moduleTp == "board-1" || moduleTp == "board-2" || moduleTp == "board-3"){
			optionValue = attBoardValue;
		}else if(moduleTp == "edms-1" || moduleTp == "edms-2" || moduleTp == "edms-3"){
			optionValue = attDocValue;
		}else if(moduleTp == "eadoc-1" || moduleTp == "eadoc-2" || moduleTp == "eapproval-1" || moduleTp == "eapproval-2"){
			optionValue = attEaValue;
		}
		
		
		if(optionValue == "-1"){
    		return;
    	}
		
		
		if(optionValue == "0"){
    		var extsn = fileExtsn;
			var checkExtsn = ".hwp.doc.docx.ppt.pptx.xls.xlsx";
			if(checkExtsn.indexOf(extsn) == -1){
				 this.location.href = url;
			     return false;
			}    		
			else{
	    		selectedFileUrl = url;
	    	    selectedfileNm = fileNm;
	    	    selectedfileId = fileId;    	
	    	    selectedFileExtsn = fileExtsn;
	    		
	    		$(".downfile_sel_pop").show();
	    		x = event.pageX;	
				y = event.pageY;
				$(".downfile_sel_pop").css({top:y+"px",left:x+"px"})
	    		return
			}
    	}
		
		if(optionValue == "1"){
		    this.location.href = url;
	        return false;
		}
		//문서뷰어
		else if(optionValue == "2"){
			var extsn = fileExtsn;
			var checkExtsn = ".hwp.doc.docx.ppt.pptx.xls.xlsx";
			if(checkExtsn.indexOf(extsn) != -1){
				fnDocViewerPop(url, fileNm, fileId);
			}else{
				alert("<%=BizboxAMessage.getMessage("TX900000361","해당 파일은 지원되지 않는 형식입니다.\\n[제공 확장자:hwp, doc, docx, ppt, pptx, xls, xlsx]")%>");
				return;
			}
		}
	}
	
	
	
	function getExtensionOfFilename(filename) { 
    	var _fileLen = filename.length; 
    	var _lastDot = filename.lastIndexOf('.'); 
    	// 확장자 명만 추출한 후 소문자로 변경
    	var _fileExt = filename.substring(_lastDot, _fileLen).toLowerCase(); 
    	return _fileExt; 
   	} 
	
	function fnMouseOut(){
    	$(".downfile_sel_pop").hide();
    }
	
	function fnFileDirectDown(){
    	this.location.href = selectedFileUrl;
        return false;
    }
    
    function fnFileViewerPop(){
    	var extsn = selectedFileExtsn;
		var checkExtsn = ".hwp.doc.docx.ppt.pptx.xls.xlsx";
		if(checkExtsn.indexOf(extsn) != -1){
			fnDocViewerPop(selectedFileUrl, selectedfileNm, selectedfileId);
		}else{
			alert("<%=BizboxAMessage.getMessage("TX900000361","해당 파일은 지원되지 않는 형식입니다.\\n[제공 확장자:hwp, doc, docx, ppt, pptx, xls, xlsx]")%>");
		}
    }
    
    
    function fnDocViewerPop(fileUrl, fileNm, fileId){
    	var fileSn = "";
    	var moduleTp = "";
    	
    	if(fileUrl.indexOf("gw/cmm/file/fileDownloadProc.do") != -1){    	
	    	fileId = getQueryVariable(fileUrl, 'fileId');
	    	fileSn = getQueryVariable(fileUrl, 'fileSn');	    	
	    	moduleTp = "gw";
			if(fileSn == "" || fileSn == null)
				fileSn = "0";
    	}
    	else if(fileUrl.indexOf("ea/edoc/eapproval/workflow/EDocAttachFileDownload.do") != -1){
    		fileId = getQueryVariable(fileUrl, 'fileId');
	    	fileSn = getQueryVariable(fileUrl, 'fileSn');	    	
	    	moduleTp = "gw";
			if(fileSn == "" || fileSn == null)
				fileSn = "0";
    	}
    	
    	//게시판 url예외처리
    	else if(fileUrl.indexOf("edms/board/downloadFile.do") != -1){
    		moduleTp = "board";
    	}
    	
    	//문서 url예외처리
    	else if(fileUrl.indexOf("edms/doc/downloadFile.do") != -1){
    		moduleTp = "doc";
    	}
    	
		fnDocViewer(fileId, fileSn, moduleTp);
    }
    
    function fnDocViewer(fileId, fileSn, moduleTp){
		var timestamp = new Date().getTime();
	 	var docViewrPopForm = document.docViewrPopForm;
	 	window.open("", "docViewerPop" + timestamp, "width=1000,height=800,history=no,resizable=yes,status=no,scrollbars=no,menubar=no");
	 	docViewrPopForm.target = "docViewerPop" + timestamp ;
	 	docViewrPopForm.groupSeq.value = "";
	 	docViewrPopForm.fileId.value = fileId;
	 	docViewrPopForm.fileSn.value = fileSn;
	 	docViewrPopForm.moduleTp.value = moduleTp;
	 	docViewrPopForm.submit();    
    }
    
    function getQueryVariable(fileUrl, strPara) {
        var params = {};
        fileUrl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(str, key, value) { params[key] = value; });
        return params[strPara];
     }
    
  //기간선택, 직접입력 선택 시 disabled
	function setRadioStatus(selectDiv){
		if(selectDiv == "S"){
			$("#combo_sel_1").data("kendoComboBox").enable(true);
	    	$("#from_date").attr("disabled", true);
	    	$("#from_date").data("kendoDatePicker").enable(false);
	    	$("#to_date").attr("disabled", true);
	    	$("#to_date").data("kendoDatePicker").enable(false);
	    	$("#search_radi_1").attr("checked", true);
		}else if(selectDiv == "M"){
			$("#combo_sel_1").data("kendoComboBox").enable(false);
	    	$("#from_date").attr("disabled", false);
	    	$("#from_date").data("kendoDatePicker").enable(true);
	    	$("#to_date").attr("disabled", false);
	    	$("#to_date").data("kendoDatePicker").enable(true);
	    	$("#search_radi_2").attr("checked", true);
		}
	}



//페이지 검색 시 정확도, 최신순 버튼 선택
	function setOrderBtnStatus(selectDiv){
		 if(selectDiv == "A"){
			 $("#B").removeClass("on");
			 $("#A").addClass("on");
		 }else{
			 $("#A").removeClass("on");
			 $("#B").addClass("on");
		 }
	 }
    
</script>