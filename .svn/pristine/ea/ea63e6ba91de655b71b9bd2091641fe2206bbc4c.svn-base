(function(h,g){"function"===typeof define&&define.amd?define(function(){return g(h,h.document)}):"object"===typeof exports?module.exports=h.document?g(h,h.document):function(c){return g(c,c.document)}:h.Pudd=g(h,h.document)})("undefined"!==typeof window?window:this,function(h,g){if("object"!==typeof this.Pudd){var c=this.Pudd=function(a){return new c.Doc(a)};c.extend=function(){var a,b,c,e;a=[].slice.call(arguments);b=a.pop();for(e=a.length-1;0<=e;e--)if(a[e])for(c in b)a[e].prototype[c]=b[c]};c.invent=
function(a){var b=a.init;a.inherit&&(b.prototype=new a.inherit);a.extend&&c.extend(b,a.extend);return b};c.regex={rquickExpr:/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,delimiter:/[\s,]+/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/};c.define={eventList:"click blur mousedown mouseup mousemove mouseover mouseout mouseenter mousewheel change focus focusin focusout keydown keypress keyup scroll dragstart drag dragend dragover dragenter dragleave drop pagerClick portletinsert portletsetting selectiveInputChange".split(" "),
tagList:"a area b blockquote br button caption center col colgroup dd div dl dt em fieldset font form h1 h2 h3 h4 h5 h6 hr i img input label li ol option p pre s script select span strike strong style sub sup table tbody td textarea tfoot th thead title tr u ul".split(" ")};c.querySelectAll=function(a,b){var f=[],e,d;a&&"string"===typeof a?(e=c.regex.rquickExpr.exec(a))?e[1]?(d=b.getElementById(e[1]))&&d.id===e[1]&&f.push(d):e[2]?[].push.apply(f,[].slice.call(b.getElementsByTagName(e[2]))):e[3]&&
[].push.apply(f,[].slice.call(b.getElementsByClassName(e[3]))):[].push.apply(f,[].slice.call(b.querySelectorAll(a))):(d=a)&&1===d.nodeType&&f.push(a);return f};c.camelCase=function(a){return a.toLowerCase().replace(/-(.)/g,function(a,c){return c.toUpperCase()})};c.getInstance=function(a){return a instanceof c.Element?a:a.instance?a.instance:new c.Element(a)};c.Doc=c.invent({init:function(a){this.nodes=null;this.length=0;a&&"string"===typeof a?(this.nodes=c.querySelectAll(a,g),this.length=this.nodes.length):
a&&"object"===typeof a&&(a instanceof Array?(this.nodes=a,this.length=this.nodes.length):!a||1!==a.nodeType&&9!==a.nodeType||(this.nodes=[],this.nodes.push(a),this.length=this.nodes.length))},extend:{each:function(a){for(var b=0;b<this.nodes.length;b++)a.apply(this.nodes[b],[this.nodes[b],b]);return this},on:function(a,b){this.each(function(f,e){c.getInstance(f).on(a,b)})},parent:function(){var a=[];this.each(function(b,f){var e=c.getInstance(b);a.push(e.parent().node)});return c(a)},find:function(a){var b=
[];a&&"string"===typeof a&&this.each(function(f,e){var d=c.getInstance(f);[].push.apply(b,[].slice.call(c.querySelectAll(a,d.node)))});return c(b)},hasClass:function(a){return 0<this.nodes.length?c.getInstance(this.nodes[0]).hasClass(a):!1},addClass:function(a){this.each(function(b,f){c.getInstance(b).addClass(a)});return this},removeClass:function(a){this.each(function(b,f){c.getInstance(b).removeClass(a)});return this},show:function(){this.each(function(a,b){c.getInstance(a).show()});return this},
hide:function(){this.each(function(a,b){c.getInstance(a).hide()});return this},append:function(a){a instanceof c.Element&&(a=a.node);this.each(function(b,f){c.getInstance(b).append(a)});return this},attr:function(a,b){if(null==a){if(this.nodes&&0<this.nodes.length){var f=c.getInstance(this.nodes[0]);return f.attr(a,b)}return null}if(null!==b&&null==b)return this.nodes&&0<this.nodes.length?(f=c.getInstance(this.nodes[0]),f.attr(a,b)):null;this.each(function(e,d){c.getInstance(e).attr(a,b)});return this},
val:function(a){if(null==a)return this.nodes&&0<this.nodes.length?c.getInstance(this.nodes[0]).val(a):null;this.each(function(b,f){c.getInstance(b).val(a)});return this},text:function(a){if(null==a)return this.nodes&&0<this.nodes.length?c.getInstance(this.nodes[0]).text(a):null;this.each(function(b,f){c.getInstance(b).text(a)});return this},create:function(a){this.each(function(b,f){var e=g.createElement("div");e.innerHTML=a;for(var d=c.getInstance(b);0<e.childNodes.length;)d.append(e.childNodes[0]);
c.initControlByNode(b)});return this},getPuddObject:function(a){var b=!0===a?[]:null;this.each(function(f,e){var d=c.getInstance(f);!0===a?b.push(d):0==e&&(b=d)});return b},puddTextBox:function(a){var b=[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","text");this.appendChild(d);d=new c.Element.Control.TextBox(d);d.setup(a);b.push(d)});return b},puddPassword:function(a){var b=[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","password");
this.appendChild(d);d=new c.Element.Control.Password(d);d.setup(a);b.push(d)});return b},puddRadio:function(a){var b=[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","radio");this.appendChild(d);d=new c.Element.Control.Radio(d);d.setup(a);b.push(d)});return b},puddButton:function(a){var b=[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","button");this.appendChild(d);d=new c.Element.Control.Button(d);d.setup(a);b.push(d)});return b},puddFileBox:function(a){var b=
[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","file");this.appendChild(d);d=new c.Element.Control.FileBox(d);d.setup(a);b.push(d)});return b},puddTextArea:function(a){var b=[];this.each(function(f,e){var d=g.createElement("textarea");this.appendChild(d);d=new c.Element.Control.TextArea(d);d.setup(a);b.push(d)});return b},puddCheckBox:function(a){var b=[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","checkbox");this.appendChild(d);d=
new c.Element.Control.CheckBox(d);d.setup(a);b.push(d)});return b},puddComboBox:function(a){var b=[];this.each(function(f,e){var d=g.createElement("select");this.appendChild(d);d=new c.Element.Control.ComboBox(d);d.setup(a);b.push(d)});return b},puddDatePicker:function(a){var b=[];this.each(function(f,e){var d=g.createElement("input");d.setAttribute("type","text");this.appendChild(d);d=new c.Element.Control.DatePicker(d);d.setup(a);b.push(d)});return b},puddCalendar:function(a){var b=[];this.each(function(f,
e){var d=new c.Element.Component.Calendar(this);d.setup(a);b.push(d)});return b},puddPager:function(a){var b=[];this.each(function(f,e){var d=new c.Element.Component.Pager(this);d.setup(a);b.push(d)});return b},puddSelectiveInput:function(a){var b=[];this.each(function(f,e){var d=new c.Element.Component.SelectiveInput(this);d.setup(a);b.push(d)});return b},puddGrid:function(a){var b=[];this.each(function(f,e){var d=new c.Element.Component.GridTable(this);d.setup(a);b.push(d)});return b},puddPortlet:function(a){var b=
[];this.each(function(f,e){var d=new c.Element.Component.Portlet(this);d.setup(a);b.push(d)});return b}}});c.puddDialog=function(a){var b=g.createElement("div");g.body.appendChild(b);b=new c.Element.Component.Dialog(b);b.setup(a);return b};c.initControl=function(a){(a?new c.Doc("div"):new c.Doc("div.puddSetup")).each(function(a,f){var b=this.getAttribute("pudd-type");b&&"string"===typeof b&&(b=b.toLowerCase().trim(),"gridtable"==b&&(new c.Element.Component.GridTable(this)).setup(null))});(a?new c.Doc("input, select, textarea, div"):
new c.Doc(".puddSetup")).each(function(a,f){c.initControlProcess(a)})};c.initControlByNode=function(a){c.querySelectAll(".puddSetup",a).forEach(function(a,f){c.initControlProcess(a)})};c.initControlProcess=function(a){var b=a.nodeName.toLowerCase();"input"==b?(b=a.getAttribute("type"),"text"==b?(b=a.getAttribute("pudd-type"))&&"datepicker"==b.toLowerCase().trim()?(new c.Element.Control.DatePicker(a)).setup():(new c.Element.Control.TextBox(a)).setup():"password"==b?(new c.Element.Control.Password(a)).setup():
"checkbox"==b?(new c.Element.Control.CheckBox(a)).setup():"radio"==b?(new c.Element.Control.Radio(a)).setup():"button"==b?(new c.Element.Control.Button(a)).setup():"file"==b&&(new c.Element.Control.FileBox(a)).setup()):"select"==b?(new c.Element.Control.ComboBox(a)).setup():"textarea"==b?(new c.Element.Control.TextArea(a)).setup():"div"==b&&(b=a.getAttribute("pudd-type"))&&"string"===typeof b&&(b=b.toLowerCase().trim(),"calendar"==b?(new c.Element.Component.Calendar(a)).setup():"gridtable"!=b&&("pager"==
b?(new c.Element.Component.Pager(a)).setup(null):"selectiveinput"==b&&(new c.Element.Component.SelectiveInput(a)).setup(null)))};return c}});(function(){"object"!==typeof pudding&&(window.pudding={skinName:"PUDD-COLOR-blue",autoApply:!1})})();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});
(function(){function h(g,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");a.initCustomEvent(g,c.bubbles,c.cancelable,c.detail);return a}if("function"===typeof window.CustomEvent)return!1;h.prototype=window.Event.prototype;window.CustomEvent=h})();
!function(h,g){"undefined"!=typeof module?module.exports=g():"function"==typeof define&&"object"==typeof define.amd?define(g):this[h]=g()}("puddready",function(){var h=[],g,c="object"===typeof document&&document,a=c&&c.documentElement.doScroll,b=c&&(a?/^loaded|^c/:/^loaded|^i|^c/).test(c.readyState);!b&&c&&c.addEventListener("DOMContentLoaded",g=function(){c.removeEventListener("DOMContentLoaded",g);for(b=1;g=h.shift();)g()});return function(a){b?setTimeout(a,0):h.push(a)}});
puddready(function(){pudding&&"boolean"===typeof pudding.autoApply&&pudding.autoApply?(pudding.autoApply=!1,Pudd.initControl(!0)):Pudd.initControl()});

Pudd.Config={className:{PUDD:"PUDD",Success:"Success",Error:"Error",Warning:"Warning",PUDD_UI_inputField:"PUDD-UI-inputField",PUDD_UI_searchField:"PUDD-UI-searchField",PUDD_UI_passwordField:"PUDD-UI-passwordField",PUDD_UI_ChkRadi:"PUDD-UI-ChkRadi",UI_ON:"UI-ON",UI_Disa:"UI-Disa",PUDD_UI_checkbox:"PUDD-UI-checkbox",PUDD_UI_ONLY:"PUDD-UI-ONLY",PUDDCheckBox:"PUDDCheckBox",PUDD_UI_radio:"PUDD-UI-radio",PUDDRadio:"PUDDRadio",PUDD_UI_Button:"PUDD-UI-Button",PUDD_UI_iconImgButton:"PUDD-UI-iconImgButton",
PUDD_UI_iconImgtextButton:"PUDD-UI-iconImgtextButton",PUDD_UI_iconSvgButton:"PUDD-UI-iconSvgButton",PUDD_UI_iconSvgtextButton:"PUDD-UI-iconSvgtextButton",PUDD_UI_fileField:"PUDD-UI-fileField",UI_Union:"UI-Union",PUDD_UI_selectBox:"PUDD-UI-selectBox",PUDD_UI_textArea:"PUDD-UI-textArea",PUDD_UI_datePicker:"PUDD-UI-datePicker",basic:"basic",month:"month",PUDD_UI_calendar:"PUDD-UI-calender",PUDD_UI_GridTable:"PUDD-UI-GridTable",PUDD_UI_editTable:"PUDD-UI-editTable",scrollable:"scrollable",PUDD_UI_pager:"PUDD-UI-pager",
PUDD_UI_selective_input:"PUDD-UI-selective-input",PUDD_UI_dialog:"PUDD-UI-Dialog"},svgSet:{SUCCESS:'<svg viewBox="0 0 24 24"><path d="M12.001,0.075C5.417,0.075,0.072,5.417,0.072,12c0,6.582,5.342,11.926,11.929,11.926c6.584,0,11.927-5.342,11.927-11.926 C23.927,5.419,18.583,0.075,12.001,0.075z M9.833,18.443L9.797,18.41L9.71,18.498l-5.686-5.791L6.5,10.235l3.24,3.303l6.963-7.122 l2.473,2.47L9.833,18.443z"></path></svg>',ERROR:'<svg viewBox="0 0 24 24"><rect x="0.001" y="0.002" fill="none"></rect><path d="M12.062,1.335l-12,19.719h23.875L12.062,1.335z M13.324,19.162h-2.523v-2.521h2.523V19.162z M10.783,14.746V8.418h2.539 v6.328H10.783z"></path></svg>',
WARNING:'<svg viewBox="0 0 24 24"><path d="M12,0.054C5.407,0.054,0.054,5.407,0.054,12c0,6.596,5.353,11.946,11.946,11.946 c6.593,0,11.946-5.351,11.946-11.946C23.946,5.407,18.593,0.054,12,0.054z M13.627,18.859h-3.446v-3.546h3.446V18.859z M13.627,13.685h-3.446V5.081h3.446V13.685z"></path></svg>',SECURE:'<svg viewBox="0 0 24 24"><path d="M12.003,0.201L1.958,4.574v6.629c0,6.069,4.285,11.215,10.045,12.596 c5.757-1.381,10.042-6.527,10.042-12.596V4.731L12.003,0.201z M12.003,12.077h8.388c-0.591,4.507-4.234,8.833-8.388,10.09V12.091 H3.632V5.967l8.371-3.399V12.077z"></path></svg>',
MAGNIFIER:'<svg viewBox="0 0 24 24"><path d="M23.94,22.054l-5.712-5.677c3.033-3.973,2.775-9.656-0.857-13.287c-1.979-1.981-4.574-2.97-7.17-2.97 c-2.593,0-5.188,0.989-7.167,2.969c-3.958,3.958-3.958,10.376,0,14.337c1.979,1.98,4.574,2.971,7.167,2.971 c2.204,0,4.383-0.756,6.207-2.182l5.708,5.665L23.94,22.054z M4.374,16.083c-1.557-1.555-2.414-3.624-2.414-5.826 c0-2.201,0.857-4.27,2.412-5.827c1.555-1.557,3.625-2.415,5.829-2.415s4.27,0.858,5.826,2.413 c1.562,1.557,2.417,3.626,2.417,5.827c0,2.202-0.86,4.272-2.417,5.828c-1.553,1.559-3.625,2.416-5.826,2.416 C7.999,18.499,5.928,17.642,4.374,16.083z"></path></svg>',
CLIP:'<svg viewBox="0 0 24 24"><path d="M 8.818 21.525 c -1.39 0 -2.778 -0.528 -3.835 -1.586 c -2.113 -2.113 -2.115 -5.556 -0.002 -7.669 l 8.636 -8.636 c 0.75 -0.749 1.744 -1.161 2.803 -1.161 c 0.002 0 0.002 0 0.002 0 c 1.059 0 2.055 0.412 2.801 1.161 c 1.547 1.545 1.547 4.061 0 5.605 l -7.219 7.233 c -0.979 0.978 -2.566 0.978 -3.543 0 C 7.987 16 7.729 15.371 7.729 14.702 s 0.26 -1.298 0.733 -1.771 l 6.544 -6.543 l 1.131 1.131 l -6.544 6.543 c -0.171 0.172 -0.265 0.397 -0.265 0.64 c 0 0.241 0.094 0.469 0.266 0.64 c 0.352 0.352 0.926 0.352 1.277 0 l 7.221 -7.233 c 0.922 -0.922 0.922 -2.422 0 -3.344 c -0.445 -0.446 -1.039 -0.692 -1.67 -0.692 l 0 0 c -0.633 0.001 -1.227 0.247 -1.674 0.693 L 6.112 13.4 c -1.488 1.49 -1.488 3.918 0.002 5.408 c 1.49 1.489 3.918 1.489 5.408 0 l 7.948 -7.949 l 1.131 1.131 l -7.949 7.949 C 11.597 20.997 10.208 21.525 8.818 21.525 Z" /></svg>',
CHECK:'<svg viewBox="0 0 24 24"><path d="M22.285,1.715V22.22H1.725V1.715H22.285 M24,0H0.01v23.935H24V0L24,0z"></path><polygon points="20.542,8.304 18.185,5.943 9.958,14.085 5.827,9.956 3.467,12.317 9.92,18.824 "></polygon></svg>',CHECK_DISABLE:'<svg viewBox="0 0 24 24"><g><path d="M0.01,0H24v23.934H0.01V0z"></path></g><path d="M22.285,1.715V22.22H1.725V1.715H22.285 M24,0H0.01v23.934H24V0L24,0z"></path><polygon points="20.542,8.307 18.185,5.945 9.961,14.091 5.827,9.958 3.467,12.319 9.92,18.828"></polygon></svg>',
DASH:'<svg viewBox="0 0 24 24"><g><path d="M22.285,1.697v20.504H1.725V1.697H22.285 M24-0.018H0.01v23.934H24V-0.018L24-0.018z"></path></g><rect x="5.152" y="10.274" width="13.705" height="3.357"></rect></svg>',DASH_DISABLE:'<svg viewBox="0 0 24 24"><g><g><path d="M0.022-0.018H24v23.921H0.022V-0.018z"></path></g><path d="M22.286,1.696v20.494H1.736V1.696H22.286 M24-0.018H0.022v23.921H24V-0.018L24-0.018z"></path></g><rect x="5.164" y="10.269" width="13.697" height="3.354"></rect></svg>',RADIO:'<svg viewBox="0 0 24 24" ><path d="M11.998,1.73c5.663,0,10.27,4.607,10.27,10.27c0,5.662-4.607,10.271-10.27,10.271 C6.336,22.271,1.732,17.662,1.732,12C1.732,6.337,6.336,1.73,11.998,1.73 M11.998,0.022C5.385,0.022,0.024,5.388,0.024,12 c0,6.615,5.361,11.979,11.974,11.979c6.617,0,11.978-5.363,11.978-11.979C23.976,5.388,18.614,0.022,11.998,0.022L11.998,0.022z"></path><circle cx="11.998" cy="12" r="5.009"></circle></svg>',
RADIO_DISABLE:'<svg viewBox="0 0 24 24" ><g><path d="M11.985-0.009c6.609,0,11.963,5.355,11.963,11.963c0,6.604-5.354,11.96-11.963,11.96 c-6.604,0-11.959-5.356-11.959-11.96C0.026,5.347,5.381-0.009,11.985-0.009z"></path></g><path d="M11.985,1.697c5.655,0,10.256,4.602,10.256,10.258c0,5.655-4.601,10.253-10.256,10.253 c-5.655,0-10.253-4.599-10.253-10.253C1.732,6.298,6.331,1.697,11.985,1.697 M11.985-0.009c-6.604,0-11.959,5.355-11.959,11.963 c0,6.604,5.355,11.96,11.959,11.96c6.609,0,11.963-5.356,11.963-11.96C23.948,5.347,18.595-0.009,11.985-0.009L11.985-0.009z"></path><circle cx="11.998" cy="12" r="5.009"></circle></svg>',
CALENDAR:'<svg viewBox="0 0 24 24"><path d="M13.652,10.314h-3.335v3.38h3.335V10.314z M18.75,10.314h-3.335v3.38h3.335V10.314z M13.652,15.412 h-3.335v3.38h3.335V15.412z M22.212,1.795h-1.689V0.119h-3.405v1.676H6.919V0.119H3.577v1.676H1.788 c-0.937,0-1.699,0.761-1.699,1.699V22.18c0,0.94,0.762,1.699,1.699,1.699h20.424c0.939,0,1.699-0.759,1.699-1.699V3.494 C23.911,2.556,23.151,1.795,22.212,1.795z M22.152,22.235H1.818V6.957h20.334V22.235z M8.556,15.412H5.22v3.38h3.336V15.412z M8.556,10.314H5.22v3.38h3.336V10.314z M18.75,15.412h-3.335v3.38h3.335V15.412z"></path></svg>'},
"const":{ID_TEXTBOX:1,ID_COMBOBOX:2,ID_DATEPICKER:3,ID_CHECKBOX:4,ID_KEYCODE_TAB:9,ID_KEYCODE_ENTER:13,ID_KEYCODE_ESCAPE:27,ID_KEYCODE_SPACE:32,ID_KEYCODE_ARROW_LEFT:37,ID_KEYCODE_ARROW_TOP:38,ID_KEYCODE_ARROW_RIGHT:39,ID_KEYCODE_ARROW_BOTTOM:40}};

Pudd.Fn={getLayerHeight:function(a){var b;a.style("top:-2000px");a.show();b=a.node.offsetHeight;a.hide();return b},showLayer:function(a,b,d,c,g){if(a){a=document.body.getBoundingClientRect().height;var e=document.documentElement.scrollLeft,f=document.documentElement.scrollTop;0>a-c.top-g-d?(b.style("left:"+(c.left+e)+"px"),b.style("top:"+(c.top-d+f)+"px")):(b.style("left:"+(c.left+e)+"px"),b.style("top:"+(c.bottom+f)+"px"));b.style("width:"+(c.right-c.left-2)+"px");b.addClass("animated03s");b.addClass("fadeIn");
b.show()}else b.removeClass("animated03s"),b.removeClass("fadeIn"),b.hide()},eventHover:function(a){a.hover=!1;a&&"object"===typeof a&&a instanceof Pudd.Element&&(a.on("mouseenter",function(a){Pudd.getInstance(this).hover=!0}),a.on("mousemove",function(a){Pudd.getInstance(this).hover=!0}),a.on("mouseout",function(a){Pudd.getInstance(this).hover=!1}))},scrollPosSink:function(a,b){a.node.scrollHeight>a.node.clientHeight&&(a.node.scrollTop=b.node.offsetTop+b.node.offsetHeight-a.node.clientHeight)},getUserAgentType:function(){var a=
{},b=navigator.userAgent.toLowerCase();a.ff=-1<b.indexOf("firefox")?!0:!1;a.wk=-1<b.indexOf("webkit")?!0:!1;a.cr=!1;a.sa=!1;a.wk&&(a.cr=-1<b.indexOf("chrome")?!0:!1,a.cr||(a.sa=!0));a.op=-1<b.indexOf("opera")?!0:!1;a.ie=-1<b.indexOf("msie")?!0:!1;a.ff||a.wk||a.op||a.ie||(a.ie=-1<b.indexOf("trident")?!0:!1);return a}};

Pudd.Element=Pudd.invent({init:function(a){this.node=null;if(!a||1!==a.nodeType&&9!==a.nodeType){var b;(b=a)&&"string"===typeof b&&(b=b.toLowerCase().trim(),-1!=Pudd.define.tagList.indexOf(b)&&(this.node=document.createElement(b),this.node.instance=this))}else this.node=a,this.node.instance=this},extend:{attr:function(a,b){if(null==a){a={};b=this.node.attributes;for(var c=b.length-1;0<=c;c--)a[b[c].nodeName]=b[c].nodeValue;return a}if(null===b)this.node.removeAttribute(a);else{if(null==b)return this.node.getAttribute(a);
this.node.setAttribute(a,b)}return this},classes:function(){var a=this.attr("class");return null==a?[]:a.trim().split(Pudd.regex.delimiter)},hasClass:function(a){return-1!=this.classes().indexOf(a)},addClass:function(a){a=a.split(" ");for(var b in a){var c=a[b].trim();if(""!=c&&!this.hasClass(c)){var d=this.classes();d.push(c);this.attr("class",d.join(" "))}}return this},removeClass:function(a){this.hasClass(a)&&this.attr("class",this.classes().filter(function(b){return b!=a}).join(" "));return this},
before:function(a){this.node&&this.node.parentNode&&this.node.parentNode.insertBefore(a,this.node)},after:function(a){this.node&&this.node.parentNode&&this.node.parentNode.insertBefore(a,this.node.nextSibling)},insertHTML:function(a,b){if("string"===typeof a){var c=document.createElement("div");c.innerHTML=a;if(b)for(;0<c.childNodes.length;)this.append(c.childNodes[0]);else for(;0<c.childNodes.length;)this.after(c.childNodes[c.childNodes.length-1])}},on:function(a,b){-1!=Pudd.define.eventList.indexOf(a)&&
(this.node.addEventListener?this.node.addEventListener(a,b,!1):this.node.attachEvent&&this.node.attachEvent("on"+a,b))},off:function(a,b){-1!=Pudd.define.eventList.indexOf(a)&&(this.node.removeEventListener?this.node.removeEventListener(a,b,!1):this.node.detachEvent&&this.node.detachEvent("on"+a,b))},style:function(a,b){if(0==arguments.length)return this.node.style.cssText||"";if(2>arguments.length)if(Pudd.regex.isCss.test(a))for(a=a.split(/\s*;\s*/).filter(function(a){return!!a}).map(function(a){return a.split(/\s*:\s*/)});b=
a.pop();)this.style(b[0],b[1]);else return this.node.style[Pudd.camelCase(a)];else this.node.style[Pudd.camelCase(a)]=null===b||Pudd.regex.isBlank.test(b)?"":b;return this},show:function(){this.style("display:block;");return this},hide:function(){this.style("display:none;");return this},offset:function(a){var b={left:0,top:0,right:0,bottom:0},c=this.node.getBoundingClientRect();b.left=parseInt(c.left,10);b.top=parseInt(c.top,10);b.right=parseInt(c.right,10);b.bottom=parseInt(c.bottom,10);var d=c=
0;a&&(c=parseInt(document.documentElement.scrollTop,10),d=parseInt(document.documentElement.scrollLeft,10));b.left+=d;b.top+=c;b.right+=d;b.bottom+=c;return b},text:function(a){if("select"==this.node.nodeName.toLowerCase()){if(null==a)return 0<=this.node.selectedIndex?this.node.options[this.node.selectedIndex].textContent||"":""}else{if(null==a)return this.node.textContent||"";"string"===typeof this.node.textContent&&(this.node.textContent=a)}return this},val:function(a){if(null==a)return this.node.value||
"";"string"===typeof this.node.value&&(this.node.value=a);return this},append:function(a){a instanceof Pudd.Element&&(a=a.node);this.node.appendChild(a)},fire:function(a,b,c){var d=document.createEvent("Event");d.initEvent(a,b,c);this.node.dispatchEvent(d)},parent:function(){return this.node.parentNode?Pudd.getInstance(this.node.parentNode):null}}});

Pudd.Element.Control=Pudd.invent({init:function(a){this.optObject=this.infoMsgObj=this.toolTipObj=this.containerObj=null;this.constructor.call(this,a)},inherit:Pudd.Element,extend:{setupContainer:function(){var a=document.createElement("div");this.before(a);a.appendChild(this.node);this.containerObj=new Pudd.Element(a);this.containerObj.addClass(Pudd.Config.className.PUDD);this.containerObj.addClass(pudding.skinName);this.removeClass("puddSetup")},parseOption:function(a,b){if(a)a.attributes=a.attributes?
a.attributes:null,a.controlAttributes=a.controlAttributes?a.controlAttributes:null,a.disabled=!0===a.disabled?!0:!1,a.iconSvg=this.getCodeIconSvg(a.iconSvg),a.info="string"===typeof a.info?a.info.toLowerCase().trim():null,a.infoMsg="string"===typeof a.infoMsg?a.infoMsg:null,a.tooltip="boolean"===typeof a.tooltip?a.tooltip:!1,a.tooltipMsg="string"===typeof a.tooltipMsg?a.tooltipMsg.trim():null,b&&"function"===typeof b&&(a=b.call(this,a,!0));else{a={attributes:null};var c=this.attr("pudd-style");c&&
"string"===typeof c&&""!=c&&(a.attributes={},a.attributes.style=c);a.disabled=!1;null!=this.attr("disabled")&&(a.disabled=!0);a.iconSvg=this.getCodeIconSvg(this.attr("pudd-icon-svg"));a.info=null;(c=this.attr("pudd-info"))&&"string"===typeof c&&""!=c&&(a.info=c.toLowerCase().trim());a.infoMsg=null;(c=this.attr("pudd-info-msg"))&&"string"===typeof c&&""!=c&&(a.infoMsg=c.trim());a.tooltip=!1;(c=this.attr("pudd-tooltip"))&&"string"===typeof c&&"true"==c.toLowerCase().trim()&&(a.tooltip=!0);a.tooltipMsg=
this.attr("pudd-tooltip-msg");b&&"function"===typeof b&&(a=b.call(this,a,!1))}return a},setupAttributes:function(a){if(this.optObject&&this.optObject.attributes){var b=this.optObject.attributes;if(a&&"object"===typeof a&&a instanceof Pudd.Element)for(var c in b)"style"==c?a.style(b[c]):a.attr(c,b[c]);else if(this.containerObj)for(c in b)"style"==c?this.containerObj.style(b[c]):this.containerObj.attr(c,b[c])}},setupControlAttributes:function(){if(this.optObject&&this.optObject.controlAttributes){var a=
this.optObject.controlAttributes,b;for(b in a)"style"==b?this.style(a[b]):this.attr(b,a[b])}},setupIconSvg:function(a){if(this.optObject){var b=this.optObject.iconSvg;b&&(this.insertHTML(b),a&&"function"===typeof a&&a.call(this))}},getCodeIconSvg:function(a){if(a&&"string"===typeof a&&""!=a){a=a.toLowerCase().trim();if("success"==a)return Pudd.Config.svgSet.SUCCESS;if("error"==a)return Pudd.Config.svgSet.ERROR;if("warning"==a)return Pudd.Config.svgSet.WARNING;if("secure"==a)return Pudd.Config.svgSet.SECURE;
if("magnifier"==a)return Pudd.Config.svgSet.MAGNIFIER;if("clip"==a)return Pudd.Config.svgSet.CLIP}return null},setupInfoMsg:function(){this.optObject&&this.optObject.info&&(infoStr=this.optObject.info,"success"==infoStr?this.containerObj.addClass(Pudd.Config.className.Success):"error"==infoStr?this.containerObj.addClass(Pudd.Config.className.Error):"warning"==infoStr&&this.containerObj.addClass(Pudd.Config.className.Warning),this.optObject.infoMsg&&""!=this.optObject.infoMsg&&this.processInfoMsg(this.optObject.infoMsg))},
processInfoMsg:function(a){if(this.containerObj){var b=document.createElement("div");this.containerObj.append(b);a=document.createTextNode(a);b.appendChild(a);this.infoMsgObj=new Pudd.Element(b);this.infoMsgObj.addClass("informationText");this.infoMsgObj.addClass("animated03s");this.infoMsgObj.addClass("fadeInRight")}},setupToolTip:function(){if(this.optObject&&this.optObject.tooltip)if(null!=this.optObject.tooltipMsg)this.processToolTip(this.optObject.tooltipMsg);else{var a=this.attr("value");this.processToolTip(null==
a?"":a)}},processToolTip:function(a){if(this.containerObj){var b=document.createElement("div");this.containerObj.append(b);a=document.createTextNode(a);b.appendChild(a);this.toolTipObj=new Pudd.Element(b);this.toolTipObj.addClass("toolTip");this.toolTipObj.addClass("animated03s");this.toolTipObj.addClass("fadeInUp");this.toolTipObj.hide()}},eventToolTip:function(){var a=this;this.toolTipObj&&this.containerObj&&(this.containerObj.on("mouseenter",function(b){b=a.containerObj.node.getBoundingClientRect();
a.toolTipObj.style("top:"+(b.bottom+9)+"px");a.toolTipObj.show()}),this.containerObj.on("mouseout",function(b){a.toolTipObj.hide()}),this.containerObj.on("mousewheel",function(b){a.toolTipObj.hide()}))}}});

Pudd.Element.Control.TextBox=Pudd.invent({init:function(b){this.listBox=this.anchorSearchObj=null;this.constructor.call(this,b)},inherit:Pudd.Element.Control,extend:{setup:function(b){this.setupContainer();this.optObject=this.parseOption(b,function(a,b){if(b)a.inputType="string"===typeof a.inputType?"search"==a.inputType.toLowerCase().trim()?"search":null:null,a.fnSearch&&"function"===typeof a.fnSearch||(a.fnSearch=null),a.combobox=a.combobox?a.combobox:null,a.readonly=!0===a.readonly?!0:!1,a.readonly&&
this.attr("readonly","readonly"),a.disabled&&this.attr("disabled","disabled"),a.value=a.value||"",this.attr("value",a.value);else{a.inputType=null;var c=this.attr("pudd-input-type");c&&"string"===typeof c&&"search"==c.toLowerCase().trim()&&(a.inputType="search");a.fnSearch=null;a.combobox=null;a.readonly=!1;null!=this.attr("readonly")&&(a.readonly=!0);a.value=this.attr("value")||""}return a});this.setupAttributes();this.setupControlAttributes();"search"==this.optObject.inputType?(this.containerObj.addClass(Pudd.Config.className.PUDD_UI_searchField),
b=document.createElement("a"),this.containerObj.append(b),this.anchorSearchObj=new Pudd.Element(b),this.anchorSearchObj.insertHTML(Pudd.Config.svgSet.MAGNIFIER,!0),this.optObject.disabled||null==this.optObject.fnSearch||(this.anchorSearchObj.addClass("btn"),this.anchorSearchObj.attr("href","javascript:;"))):(this.containerObj.addClass(Pudd.Config.className.PUDD_UI_inputField),this.setupIconSvg());this.setupInfoMsg();this.setupToolTip();this.setupAutoComplete();this.setupEvent();return this},setupAutoComplete:function(){if(this.optObject.combobox){this.listBox=
new Pudd.Util.ListBox(this.containerObj.node);this.listBox.initListBox("autoComplete");var b=this.optObject.combobox;if(b.dataSource&&b.dataTextField){var a=b.dataSource.read(!0),c;for(c in a)this.listBox.appendOptionItem(c,a[c][b.dataTextField],!1)}}},setupEvent:function(){var b=this;this.eventToolTip();if(this.anchorSearchObj&&this.anchorSearchObj.hasClass("btn")&&this.optObject.fnSearch)this.anchorSearchObj.on("click",function(a){b.optObject.fnSearch.call(b)});if(this.listBox){b=this;this.on("focusin",
function(a){b.listBox.showListBox(!0,b.containerObj)});this.on("focusout",function(a){b.listBox.getListBoxHover()||b.listBox.showListBox(!1,null)});this.listBox.eventListBox(function(a,d){b.node.value=d},function(a){b.node.focus()},function(a){b.listBox.showListBox(!1,null)});var a=Pudd.getInstance(document);a.on("scroll",function(a){}.bind(this));a.on("mousewheel",function(a){}.bind(this));a.on("keydown",function(a){!this.listBox.getDisplayListBox()||a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_TOP&&
a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ENTER&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ESCAPE||(a.preventDefault(),this.listBox.eventKeyDown(a),a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ENTER&&a.keyCode==Pudd.Config["const"].ID_KEYCODE_ESCAPE&&this.listBox.showListBox(!1,null))}.bind(this))}}}});

Pudd.Element.Control.Password=Pudd.invent({init:function(b){this.constructor.call(this,b)},inherit:Pudd.Element.Control,extend:{setup:function(b){this.setupContainer(b);this.containerObj.addClass(Pudd.Config.className.PUDD_UI_passwordField);this.optObject=this.parseOption(b,function(a,b){b?(a.readonly=!0===a.readonly?!0:!1,a.readonly&&this.attr("readonly","readonly"),a.disabled&&this.attr("disabled","disabled"),a.value=a.value||"",this.attr("value",a.value)):(a.readonly=!1,null!=this.attr("readonly")&&
(a.readonly=!0),a.value=this.attr("value")||"");return a});this.setupAttributes();this.setupControlAttributes();this.setupIconSvg();this.setupInfoMsg();this.setupToolTip();this.setupEvent();return this},setupEvent:function(){this.eventToolTip()}}});

Pudd.Element.Control.CheckBox=Pudd.invent({init:function(a){this.labelObj=null;this.constructor.call(this,a)},inherit:Pudd.Element.Control,extend:{setup:function(a){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_checkbox);this.containerObj.addClass(Pudd.Config.className.PUDD_UI_ChkRadi);this.optObject=this.parseOption(a,function(a,c){if(c)a.checked=!0===a.checked?!0:!1,a.checkType="string"===typeof a.checkType?"dash"==a.checkType.toLowerCase().trim()?"dash":null:null,
a.label="string"===typeof a.label?a.label:null,a.value=a.value||"",this.attr("value",a.value);else{a.checked=!1;null!=this.attr("checked")&&(a.checked=!0);a.checkType=null;var b=this.attr("pudd-check-type");b&&"string"===typeof b&&"dash"==b.toLowerCase().trim()&&(a.checkType="dash");a.label=this.attr("pudd-label")?this.attr("pudd-label"):null;a.value=this.attr("value")||""}return a});this.setupAttributes();this.setupControlAttributes();this.optObject.checked&&(this.containerObj.addClass(Pudd.Config.className.UI_ON),
null==this.attr("checked")&&this.attr("checked","true"));this.optObject.disabled&&this.containerObj.addClass(Pudd.Config.className.UI_Disa);a="";a="dash"==this.optObject.checkType?this.optObject.disabled?Pudd.Config.svgSet.DASH_DISABLE:Pudd.Config.svgSet.DASH:this.optObject.disabled?Pudd.Config.svgSet.CHECK_DISABLE:Pudd.Config.svgSet.CHECK;this.insertHTML(a);this.setupLabel(this.optObject.label);this.addClass(Pudd.Config.className.PUDDCheckBox);this.setupEvent();return this},setupLabel:function(a){if(a&&
this.containerObj){var b=document.createElement("label");this.containerObj.append(b);this.labelObj=new Pudd.Element(b);a&&"string"===typeof a&&""!==a?(a=document.createTextNode(a),this.labelObj.append(a)):this.containerObj.addClass(Pudd.Config.className.PUDD_UI_ONLY)}},setupEvent:function(){if(this.containerObj){var a=this;this.containerObj.on("click",function(b){a.containerObj.hasClass("UI-Disa")||(a.fire("click",!1,!1),null!=a.attr("checked")?(a.attr("checked",null),a.node.checked=!1,a.containerObj.removeClass(Pudd.Config.className.UI_ON)):
(a.attr("checked","true"),a.node.checked=!0,a.containerObj.addClass(Pudd.Config.className.UI_ON)))})}},getChecked:function(){return this.node.checked},setChecked:function(a){a?(this.attr("checked","true"),this.node.checked=!0,this.containerObj.addClass(Pudd.Config.className.UI_ON)):(this.attr("checked",null),this.node.checked=!1,this.containerObj.removeClass(Pudd.Config.className.UI_ON))}}});

Pudd.Element.Control.Radio=Pudd.invent({init:function(b){this.labelObj=null;this.constructor.call(this,b)},inherit:Pudd.Element.Control,extend:{setup:function(b){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_radio);this.containerObj.addClass(Pudd.Config.className.PUDD_UI_ChkRadi);this.optObject=this.parseOption(b,function(a,b){if(b)a.label="string"===typeof a.label?a.label:null,a.checked=!0===a.checked?!0:!1,a.checked&&this.attr("checked","checked"),a.disabled&&this.attr("disabled",
"disabled"),a.value=a.value||"",this.attr("value",a.value);else{var c=this.attr("pudd-label");a.label=c&&"string"===typeof c?c:null;a.checked=!1;null!=this.attr("checked")&&(a.checked=!0);a.value=this.attr("value")||""}return a});this.setupAttributes();this.setupControlAttributes();this.optObject.checked&&this.containerObj.addClass(Pudd.Config.className.UI_ON);this.optObject.disabled&&this.containerObj.addClass(Pudd.Config.className.UI_Disa);b="";b=this.optObject.disabled?Pudd.Config.svgSet.RADIO_DISABLE:
Pudd.Config.svgSet.RADIO;this.insertHTML(b);this.optObject.label&&this.setupLabel(this.optObject.label);this.addClass(Pudd.Config.className.PUDDRadio);this.setupEvent();return this},setupLabel:function(b){if(this.containerObj){var a=document.createElement("label");this.containerObj.append(a);this.labelObj=new Pudd.Element(a);b&&"string"===typeof b&&""!==b&&(b=document.createTextNode(b),this.labelObj.append(b))}},setupEvent:function(){if(this.containerObj)this.containerObj.on("click",function(b){this.containerObj.hasClass("UI-Disa")||
(this.resetStateRadioGroup(),this.attr("checked","true"),this.node.checked=!0,this.containerObj.addClass(Pudd.Config.className.UI_ON),this.fire("click",!0,!0))}.bind(this))},resetStateRadioGroup:function(){var b=this.attr("name");Pudd.querySelectAll('input[type="radio"][name='+b+"]",document).forEach(function(b,d){var a=Pudd.getInstance(b);a.node.checked&&(a.attr("checked",null),a.node.checked=!1,a.containerObj.removeClass(Pudd.Config.className.UI_ON))})},getChecked:function(){return this.node.checked},
setChecked:function(b){b?(this.resetStateRadioGroup(),this.attr("checked","true"),this.node.checked=!0,this.containerObj.addClass(Pudd.Config.className.UI_ON)):(this.attr("checked",null),this.node.checked=!1,this.containerObj.removeClass(Pudd.Config.className.UI_ON))}}});

Pudd.Element.Control.Button=Pudd.invent({init:function(b){this.constructor.call(this,b)},inherit:Pudd.Element.Control,extend:{setup:function(b){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_Button);this.optObject=this.parseOption(b,function(a,b){if(b)a.disabled&&this.attr("disabled","disabled"),a.iconClass="string"===typeof a.iconClass?a.iconClass.trim():null,a.iconAlign="string"===typeof a.iconAlign?a.iconAlign.toLowerCase().trim():null,a.value=a.value||"",this.attr("value",
a.value);else{a.iconClass=null;var c=this.attr("pudd-icon-class");c&&"string"===typeof c&&(a.iconClass=c.trim());a.iconAlign=null;(c=this.attr("pudd-icon-align"))&&"string"===typeof c&&(a.iconAlign=c.toLowerCase().trim());a.value=this.attr("value")||""}return a});this.setupAttributes();this.setupControlAttributes();this.optObject.iconClass?(this.addClass("ico"),this.addClass(this.optObject.iconClass),""==this.optObject.value?this.containerObj.addClass(Pudd.Config.className.PUDD_UI_iconImgButton):
(this.addClass("right"==this.optObject.iconAlign?"ico_ar":"ico_al"),this.containerObj.addClass(Pudd.Config.className.PUDD_UI_iconImgtextButton))):""==this.optObject.value?this.setupIconSvg(function(){this.containerObj.addClass(Pudd.Config.className.PUDD_UI_iconSvgButton)}.bind(this)):this.optObject.iconSvg&&(b=document.createElement("div"),this.containerObj.append(b),b=new Pudd.Element(b),b.insertHTML(this.optObject.iconSvg,!0),"right"==this.optObject.iconAlign?(this.addClass("ico_ar"),b.addClass("svgR_box")):
(this.addClass("ico_al"),b.addClass("svgL_box")),this.containerObj.addClass(Pudd.Config.className.PUDD_UI_iconSvgtextButton));this.setupToolTip();this.setupEvent();return this},setupEvent:function(){this.eventToolTip()}}});

Pudd.Element.Control.FileBox=Pudd.invent({init:function(a){this.anchorObj=this.fieldObj=null;this.constructor.call(this,a)},inherit:Pudd.Element.Control,extend:{setup:function(a){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_fileField);this.optObject=this.parseOption(a);this.optObject=this.parseOption(a,function(a,c){if(c)"string"===typeof a.fileType&&"union"==a.fileType.toLowerCase().trim()&&(a.fileType="union");else{a.fileType=null;var b=this.attr("pudd-file-type");
null!=b&&"union"==b.toLowerCase().trim()&&(a.fileType="union")}return a});"union"==this.optObject.fileType&&this.containerObj.addClass(Pudd.Config.className.UI_Union);this.addClass("hiddenField");this.setupField();this.setupAnchorButton();this.setupAttributes(this.fieldObj);this.setupControlAttributes();this.setupEvent();return this},setupField:function(){var a=document.createElement("input");this.containerObj.append(a);this.fieldObj=new Pudd.Element(a);this.fieldObj.attr("type","text");this.fieldObj.attr("readonly",
"true");this.fieldObj.attr("placeholder","\ud30c\uc77c\uc744 \ucca8\ubd80\ud574\uc8fc\uc138\uc694");this.fieldObj.addClass("cloneField")},setupAnchorButton:function(){var a=document.createElement("a");this.containerObj.append(a);this.anchorObj=new Pudd.Element(a);this.anchorObj.addClass("btn_file");this.anchorObj.attr("href","javascript:;");this.anchorObj.text("\ucca8\ubd80\ud30c\uc77c")},setupEvent:function(){var a=this;this.fieldObj.on("mousedown",function(a){a.preventDefault()});this.anchorObj.on("click",
function(b){a.node.click()});this.on("change",function(b){a.fieldObj.node.value=this.value})}}});

Pudd.Element.Control.ComboBox=Pudd.invent({init:function(a){this.listBox=this.fieldButtonObj=this.fieldSpanObj=this.fieldObj=null;this.constructor.call(this,a)},inherit:Pudd.Element.Control,extend:{setup:function(a){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_selectBox);this.optObject=this.parseOption(a,function(a,f){if(f){if(a.dataSource&&a.dataValueField&&a.dataTextField){var b=a.dataSource.read(!0),d;for(d in b){var e=b[d],c=document.createElement("option");c.value=
e[a.dataValueField];c.textContent=e[a.dataTextField];this.append(c)}0<this.node.options.length&&(this.node.selectedIndex=0,a.selectedIndex&&(this.node.selectedIndex=a.selectedIndex))}a.scrollListHide=a.scrollListHide?!0:!1}else a.scrollListHide=!1,(b=this.attr("pudd-scroll-list-hide"))&&"string"===typeof b&&"true"==b.toLowerCase().trim()&&(a.scrollListHide=!0);return a});this.listBox=new Pudd.Util.ListBox(this.containerObj.node);this.setupAttributes();this.setupControlAttributes();this.addClass("hiddenSelect");
this.setupField();this.setupClone();this.setSelectedOption();this.setupEvent();return this},setupField:function(){var a=document.createElement("div");this.containerObj.append(a);this.fieldObj=new Pudd.Element(a);this.fieldObj.attr("tabindex","1");this.fieldObj.addClass("selectField");this.optObject.disabled&&this.fieldObj.addClass("disabled");var b=document.createElement("span");a.appendChild(b);this.fieldSpanObj=new Pudd.Element(b);this.fieldSpanObj.addClass("selectText");b=document.createElement("button");
a.appendChild(b);this.fieldButtonObj=new Pudd.Element(b);this.fieldButtonObj.addClass("selectFieldBtn");a=document.createElement("span");b.appendChild(a);this.selectFieldButtonSpanObj=new Pudd.Element(a);this.selectFieldButtonSpanObj.addClass("arr")},setupClone:function(){this.listBox.initListBox("cloneList");for(var a=0;a<this.node.options.length;a++)this.listBox.appendOptionItem(a,this.node.options[a].textContent,!1)},setSelectedOption:function(){var a=this.node.selectedIndex;0>a||(this.listBox.setOptionSelected(a),
this.fieldSpanObj&&this.fieldSpanObj.text(this.listBox.getOptionText(a)))},setSelectedIndex:function(a){0>a||this.node.options.length<=a||(this.node.selectedIndex=a,this.setSelectedOption(a))},showListBox:function(a,b){a?(b=b?b:this.fieldObj,this.fieldObj.addClass("on")):this.fieldObj.removeClass("on");this.listBox.showListBox(a,b)},getDisplayListBox:function(){return this.listBox.getDisplayListBox()},setupEvent:function(){window.attachEvent&&Pudd.Fn.eventHover(this.fieldObj);var a=this;this.fieldObj.on("click",
function(b){a.fieldObj.hasClass("disabled")||(a.fieldObj.hasClass("on")?(a.fieldObj.removeClass("on"),a.fieldObj.node.blur()):(a.fieldObj.addClass("on"),window.attachEvent&&a.fieldObj.node.focus(),a.showListBox(!0,null)))});this.fieldObj.on("blur",function(b){window.attachEvent&&a.fieldObj.hover?a.showListBox(!1,null):(a.fieldObj.removeClass("on"),a.listBox.getListBoxHover()||a.showListBox(!1,null))});this.listBox.eventListBox(function(b,g){a.fieldSpanObj.text(g);a.node.selectedIndex=b;a.fire("change",
!0,!0)},function(b){a.fieldObj.node.focus()},function(b){a.showListBox(!1,null);a.fieldObj.node.blur()});var b=Pudd.getInstance(document);b.on("scroll",function(a){this.optObject.scrollListHide&&(this.showListBox(!1,null),this.fieldObj.node.blur())}.bind(this));b.on("mousewheel",function(a){this.optObject.scrollListHide&&(this.showListBox(!1,null),this.fieldObj.node.blur())}.bind(this));b.on("keydown",function(a){!this.listBox.getDisplayListBox()||a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_TOP&&
a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ENTER&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ESCAPE||(a.preventDefault(),this.listBox.eventKeyDown(a),a.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER?this.fieldObj.node.blur():a.keyCode==Pudd.Config["const"].ID_KEYCODE_ESCAPE&&(this.showListBox(!1,null),this.fieldObj.node.blur()))}.bind(this))}}});

Pudd.Element.Control.TextArea=Pudd.invent({init:function(b){this.hintObj=null;this.constructor.call(this,b)},inherit:Pudd.Element.Control,extend:{setup:function(b){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_textArea);this.optObject=this.parseOption(b,function(a,b){if(b)a.hint="string"===typeof a.hint?a.hint.trim():null,a.readonly=!0===a.readonly?!0:!1,a.readonly&&this.attr("readonly","readonly"),a.disabled&&this.attr("disabled","disabled"),"string"===typeof a.value&&
this.val(a.value);else{var c=this.attr("pudd-hint");a.hint=c&&"string"===typeof c?c:null;a.readonly=!1;null!=this.attr("readonly")&&(a.readonly=!0);a.value=this.attr("value")||""}return a});this.setupAttributes();this.setupControlAttributes();this.optObject.hint&&this.setupHint(this.optObject.hint);this.setupInfoMsg();this.setupEvent();return this},setupHint:function(b){if(this.containerObj){var a=document.createElement("span");this.containerObj.append(a);b=document.createTextNode(b);a.appendChild(b);
this.hintObj=new Pudd.Element(a);this.hintObj.addClass("hintText");this.attr("placeholder",null)}},setupEvent:function(){this.hintObj&&(this.on("focusin",function(b){(b=Pudd.getInstance(this).hintObj)&&b.hide()}),this.on("focusout",function(b){b=Pudd.getInstance(this);b.hintObj&&""==b.node.value&&b.hintObj.show()}))}}});

Pudd.Element.Control.DatePicker=Pudd.invent({init:function(a){this.calendarObj=this.dropCalWrapHeight=this.dropCalWrapObj=this.anchorObj=null;this.constructor.call(this,a)},inherit:Pudd.Element.Control,extend:{setup:function(a){this.setupContainer();this.containerObj.addClass(Pudd.Config.className.PUDD_UI_datePicker);this.optObject=this.parseOption(a,function(a,c){if(c){var b="string"===typeof a.typeDisplay?a.typeDisplay.toLowerCase().trim():null;a.displayType=1;"month"==b&&(a.displayType=2);a.value=
a.value||"";this.attr("value",a.value);a.disabled&&this.attr("disabled","disabled")}else a.displayType=1,(b=this.attr("pudd-type-display"))&&"string"===typeof b&&"month"==b.toLowerCase().trim()&&(a.displayType=2);return a});this.attr("readonly","readonly");2==this.optObject.displayType?this.containerObj.addClass(Pudd.Config.className.month):this.containerObj.addClass(Pudd.Config.className.basic);this.setupAttributes();this.setupControlAttributes();this.setupToolTip();a=document.createElement("a");
this.containerObj.append(a);this.anchorObj=new Pudd.Element(a);this.anchorObj.addClass("btn");this.anchorObj.attr("href","javascript:;");this.anchorObj.insertHTML(Pudd.Config.svgSet.CALENDAR,!0);a=document.createElement("div");document.body.appendChild(a);this.dropCalWrapObj=new Pudd.Element(a);this.dropCalWrapObj.addClass("dropCalWrap");this.dropCalWrapObj.hide();a=document.createElement("div");this.dropCalWrapObj.append(a);var b={};1!=this.optObject.displayType&&2==this.optObject.displayType&&(b.typeDisplay=
"month");b.value=this.attr("value");this.calendarObj=new Pudd.Element.Component.Calendar(a);this.calendarObj.setup(b);var c=this;this.calendarObj.registerCallback(function(a){c.attr("value",a);c.val(a);window.setTimeout(function(){c.showCalendar(!1,null);c.node.blur()},100);c.fire("change",!0,!0)});this.setupEvent();return this},setupEvent:function(){this.eventToolTip();Pudd.Fn.eventHover(this.dropCalWrapObj);var a=this;this.on("click",function(c){a.hasClass("on")?(a.removeClass("on"),a.node.blur()):
a.showCalendar(!0,null)});this.on("blur",function(c){a.dropCalWrapObj.hover?a.getDisplayCalendar()&&a.node.focus():a.showCalendar(!1,null)});var b=Pudd.getInstance(document);b.on("scroll",function(a){this.showCalendar(!1,null);this.node.blur()}.bind(this));b.on("keydown",function(a){if(this.getDisplayCalendar())if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ESCAPE)a.preventDefault(),this.showCalendar(!1,null),this.node.blur();else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_LEFT||a.keyCode==
Pudd.Config["const"].ID_KEYCODE_ARROW_TOP||a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_RIGHT||a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM||a.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER)a.preventDefault(),this.calendarObj.eventKeydown(a)}.bind(this))},showCalendar:function(a,b){if(a){this.calendarObj.assignNewValue(this.val());this.addClass("on");null==this.dropCalWrapHeight&&(this.dropCalWrapHeight=Pudd.Fn.getLayerHeight(this.dropCalWrapObj));b=b?b:this;var c=b.node.getBoundingClientRect();
Pudd.Fn.showLayer(!0,this.dropCalWrapObj,this.dropCalWrapHeight,c,b.node.offsetHeight)}else this.calendarObj.setKeyPosMarkStyle(!1),this.calendarObj.newKeyPos(!1),this.removeClass("on"),Pudd.Fn.showLayer(!1,this.dropCalWrapObj,null,null,null)},assignNewValue:function(a){this.val(a);this.calendarObj.assignNewValue(a)},getDisplayCalendar:function(){if(!this.dropCalWrapObj)return!1;var a=this.dropCalWrapObj.style("display"),a=a.toLowerCase().trim();return"block"==a?!0:!1}}});

Pudd.Element.Component=Pudd.invent({init:function(a){this.optObject=null;this.constructor.call(this,a)},inherit:Pudd.Element,extend:{setupContainer:function(a){if("boolean"!==typeof a||!1!==a)this.addClass(Pudd.Config.className.PUDD),this.addClass(pudding.skinName);this.removeClass("puddSetup")},getPositiveNumber:function(a,b){return"number"!==typeof a?isNaN(a)?b:parseInt(a,10):0>=a?b:a}}});

Pudd.Element.Component.Calendar=Pudd.invent({init:function(a){this.dateTextObj=this.selectAreaObj=this.wrapperObj=this.monthAnchorCollection=this.dateAnchorCollection=this.fnCallback=this.userSelectedDate=this.userSelectedMonth=this.userSelectedYear=this.curDateObj=this.selectMonth=this.selectYear=this.dateObj=null;this.selectDateArr=["prevYear","prevMonth","nextMonth","nextYear"];this.selectDateObjArr=null;this.weekName="\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("");this.weekCnt=6;this.monthGroupObj=
this.calendarTableObj=null;this.groupRowCnt=3;this.groupColCnt=4;this.keyPos=this.infoBtnObj=null;this.constructor.call(this,a)},inherit:Pudd.Element.Component,extend:{setup:function(a){this.setupContainer();this.addClass(Pudd.Config.className.PUDD_UI_calendar);this.optObject=this.parseOption(a);this.initDate(this.optObject.displayType,this.optObject.value);this.setupWrapper();this.selectDateObjArr=[];this.setupSelectArea(this.optObject.displayType);this.setupCalendarArea(this.optObject.displayType);
this.setupInfoArea(this.optObject.displayType);this.setupEvent(this.optObject.displayType);return this},parseOption:function(a){if(a)a.typeDisplay="string"===typeof a.typeDisplay?a.typeDisplay.toLowerCase().trim():null,a.displayType=1,"month"==a.typeDisplay&&(a.displayType=2),a.value="string"===typeof a.value?a.value:"";else{a={displayType:1};var b=this.attr("pudd-type-display");b&&"string"===typeof b&&"month"==b.toLowerCase().trim()&&(a.displayType=2);a.value="";(b=this.attr("pudd-value"))&&"string"===
typeof b&&(a.value=b.toLowerCase().trim())}return a},initDate:function(a,b){this.dateObj||(this.dateObj=new Pudd.Util.Date);if(b){var c=b.split("-");1==a?3==c.length&&(this.dateObj.reset(parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)),this.userSelectedYear=this.dateObj.getYear(),this.userSelectedMonth=this.dateObj.getMonth(),this.userSelectedDate=this.dateObj.getDate()):2==a&&2==c.length&&(this.dateObj.reset(parseInt(c[0],10),parseInt(c[1],10),1),this.userSelectedYear=this.dateObj.getYear(),
this.userSelectedMonth=this.dateObj.getMonth(),this.userSelectedDate=1)}this.selectYear=this.dateObj.getYear();this.selectMonth=this.dateObj.getMonth();1==a&&this.dateObj.getCalendarMatrix();this.curDateObj=new Date},setupWrapper:function(){var a=document.createElement("div");this.append(a);this.wrapperObj=new Pudd.Element(a);this.wrapperObj.addClass("calendarWrap")},setupSelectArea:function(a){var b=document.createElement("div");this.wrapperObj.append(b);this.selectAreaObj=new Pudd.Element(b);this.selectAreaObj.addClass("selectDate");
b=document.createElement("span");this.selectAreaObj.append(b);this.dateTextObj=new Pudd.Element(b);this.dateTextObj.addClass("dateText");1==a?this.dateTextObj.text(this.dateObj.getYearString()+"."+this.dateObj.getMonthString()):2==a&&this.dateTextObj.text(this.dateObj.getYearString());var c=this;this.selectDateArr.forEach(function(b,e){var d=document.createElement("a");d.className=b;var f=document.createElement("span");f.className="arr";d.appendChild(f);c.selectAreaObj.append(d);c.selectDateObjArr[e]=
new Pudd.Element(d);2==a&&("prevYear"!=b&&"nextYear"!=b||c.selectDateObjArr[e].hide())})},setupCalendarArea:function(a){var b=document.createElement("div");this.wrapperObj.append(b);if(1==a){b.className="calendarTable";var c=document.createElement("table");b.appendChild(c);this.calendarTableObj=new Pudd.Element(c);this.setupCalendarArea_week_name(c,a);this.setupCalendarArea_table(c,a);this.mappingCalendarArea_date(c,a)}else 2==a&&(b.className="monthBtn",this.monthGroupObj=new Pudd.Element(b),this.setupCalendarArea_month(a),
this.userSelectedYear=this.selectYear,this.userSelectedMonth=this.selectMonth,this.mappingCalendarArea_month(a))},setupCalendarArea_week_name:function(a,b){if(1==b){var c=document.createElement("tr");a.appendChild(c);for(var d=0;d<this.weekName.length;d++){var e=document.createElement("th");c.appendChild(e);e.textContent=this.weekName[d];0==d&&(e.className="sun")}}},setupCalendarArea_table:function(a,b){if(1==b)for(var c=0;c<this.weekCnt;c++){var d=document.createElement("tr");a.appendChild(d);for(var e=
0;e<this.weekName.length;e++){var g=document.createElement("td");d.appendChild(g);var f=document.createElement("a");g.appendChild(f);f.style.height="24px";f.style.lineHeight="24px";f.setAttribute("href","javascript:;");f=new Pudd.Element(f);f.row=c;f.col=e;(new Pudd.Element(g)).aObj=f}}},mappingCalendarArea_date:function(a,b){if(1==b)for(var c=this.curDateObj.getFullYear(),d=this.curDateObj.getMonth()+1,e=this.curDateObj.getDate(),g=1;g<a.rows.length;g++)for(var f=a.rows[g].cells.length,l=0;l<f;l++){var m=
a.rows[g].cells[l],n=m.childNodes[0];m.className="";var h=g-1,k=l;n.textContent=this.dateObj.calendarMatrix[h][k];0==l?m.className=this.dateObj.calendarCurMatrix[h][k]?e==this.dateObj.calendarCurMatrix[h][k]&&this.selectYear==c&&this.selectMonth==d?"sun today":"sun":"sun otherMonth":this.dateObj.calendarCurMatrix[h][k]?e==this.dateObj.calendarCurMatrix[h][k]&&this.selectYear==c&&this.selectMonth==d&&(m.className="today"):m.className="otherMonth";n.className=this.selectYear==this.userSelectedYear&&
this.selectMonth==this.userSelectedMonth&&this.dateObj.calendarCurMatrix[h][k]==this.userSelectedDate?"selected":""}},setupCalendarArea_month:function(a){if(2==a){this.curDateObj.getFullYear();this.curDateObj.getMonth();a=1;for(var b=0;b<this.groupRowCnt;b++){var c=document.createElement("div");this.monthGroupObj.append(c);c.className="fnBtn";var d=document.createElement("div");c.appendChild(d);d.className="group";for(c=0;c<this.groupColCnt;c++){var e=document.createElement("a");d.appendChild(e);
e.className="Btn";(new Pudd.Element(e)).idx=a;var g=document.createElement("span");e.appendChild(g);g.textContent=a++ +"\uc6d4"}}}},mappingCalendarArea_month:function(a){if(2==a)for(this.getAnchorCollection(a),a=0;a<this.monthAnchorCollection.length;a++)this.monthAnchorCollection[a].className=this.selectYear==this.userSelectedYear&&this.selectMonth==this.userSelectedMonth&&a==this.userSelectedMonth-1?"Btn on":"Btn"},setupInfoArea:function(a){if(1==a){a=document.createElement("div");this.wrapperObj.append(a);
a.className="fnBottom";var b=document.createElement("a");a.appendChild(b);this.infoBtnObj=new Pudd.Element(b);b.className="todayBtn";b.setAttribute("href","javascript:;");var c=document.createElement("span");b.appendChild(c);c.textContent="\uc624\ub298";b=document.createElement("span");a.appendChild(b);b.className="infoText";b.textContent=this.dateObj.getFormatDateString(this.curDateObj)}},setupEvent:function(a){var b=this;this.selectDateObjArr.forEach(function(c,d){c.on("click",function(c){var e=
"fadeInRight";if(0==d||1==d)e="fadeInLeft";1==a&&(b.calendarTableObj.addClass("animated05s"),b.calendarTableObj.addClass(e));b.changeYearMonth(d,a);1==a&&window.setTimeout(function(){b.calendarTableObj.removeClass("animated05s");b.calendarTableObj.removeClass(e)},400)})});if(1==a){if(this.getAnchorCollection(a),this.dateAnchorCollection.forEach(function(c,d){Pudd.getInstance(c).on("click",function(c){b.switchAnchorClass(this,a)})}),this.infoBtnObj)this.infoBtnObj.on("click",function(c){b.clickInfoButton(a)})}else 2==
a&&(this.getAnchorCollection(a),this.monthAnchorCollection.forEach(function(c,d){Pudd.getInstance(c).on("click",function(c){b.switchAnchorClass(this,a)})}))},getAnchorCollection:function(a){1==a?this.dateAnchorCollection||(this.dateAnchorCollection=Pudd.querySelectAll(".calendarTable table td a",this.wrapperObj.node)):2!=a||this.monthAnchorCollection||(this.monthAnchorCollection=Pudd.querySelectAll(".monthBtn div div a",this.wrapperObj.node))},switchAnchorClass:function(a,b){if(1==b){var c=Pudd.getInstance(a),
d=this.dateObj.calendarMatrix[c.row][c.col];0==this.dateObj.calendarCurMatrix[c.row][c.col]?2>c.row?(1==this.selectMonth?(this.userSelectedYear=this.selectYear-1,this.userSelectedMonth=12):(this.userSelectedYear=this.selectYear,this.userSelectedMonth=this.selectMonth-1),this.userSelectedDate=d):4<c.row&&(12==this.selectMonth?(this.userSelectedYear=this.selectYear+1,this.userSelectedMonth=1):(this.userSelectedYear=this.selectYear,this.userSelectedMonth=this.selectMonth+1),this.userSelectedDate=d):
(this.userSelectedYear=this.selectYear,this.userSelectedMonth=this.selectMonth,this.userSelectedDate=d);this.getAnchorCollection(b);this.dateAnchorCollection.forEach(function(a,b){Pudd.getInstance(a).removeClass("selected")});c.addClass("selected");this.fnCallback&&"function"===typeof this.fnCallback&&(c=new Date(this.userSelectedYear,this.userSelectedMonth-1,this.userSelectedDate),c=this.dateObj.getFormatDateString(c),this.fnCallback.call(this,c))}else 2==b&&(c=Pudd.getInstance(a),this.userSelectedYear=
this.selectYear,this.selectMonth=this.userSelectedMonth=c.idx,this.getAnchorCollection(b),this.monthAnchorCollection.forEach(function(a,b){Pudd.getInstance(a).removeClass("on")}),c.addClass("on"),this.fnCallback&&"function"===typeof this.fnCallback&&(c=new Date(this.userSelectedYear,this.userSelectedMonth-1,1),c=this.dateObj.getFormatMonthString(c),this.fnCallback.call(this,c)))},clickInfoButton:function(a){var b=this.curDateObj.getFullYear(),c=this.curDateObj.getMonth()+1,d=this.curDateObj.getDate();
this.userSelectedYear=b;this.userSelectedMonth=c;this.userSelectedDate=d;b==this.selectYear&&c==this.selectMonth?this.mappingCalendarArea_date(this.calendarTableObj.node,a):(this.calendarTableObj.addClass("animated05s"),this.calendarTableObj.addClass("fadeInRight"),this.dateObj.reset(b,c,1),this.initDate(a),this.dateTextObj.text(this.dateObj.getYearString()+"."+this.dateObj.getMonthString()),this.mappingCalendarArea_date(this.calendarTableObj.node,a),window.setTimeout(function(){this.calendarTableObj.removeClass("animated05s");
this.calendarTableObj.removeClass("fadeInRight")}.bind(this),500));this.fnCallback&&"function"===typeof this.fnCallback&&(a=this.dateObj.getFormatDateString(new Date(this.userSelectedYear,this.userSelectedMonth-1,this.userSelectedDate)),this.fnCallback.call(this,a))},changeYearMonth:function(a,b){if(1==b)0==a?this.dateObj.reset(this.selectYear-1,this.selectMonth,1):1==a?1==this.selectMonth?this.dateObj.reset(this.selectYear-1,12,1):this.dateObj.reset(this.selectYear,this.selectMonth-1,1):2==a?12==
this.selectMonth?this.dateObj.reset(this.selectYear+1,1,1):this.dateObj.reset(this.selectYear,this.selectMonth+1,1):3==a&&this.dateObj.reset(this.selectYear+1,this.selectMonth,1),this.initDate(b),this.dateTextObj.text(this.dateObj.getYearString()+"."+this.dateObj.getMonthString()),this.mappingCalendarArea_date(this.calendarTableObj.node,b);else if(2==b&&0!=a){if(1==a)this.dateObj.reset(this.selectYear-1,this.selectMonth,1);else if(2==a)this.dateObj.reset(this.selectYear+1,this.selectMonth,1);else if(3==
a)return;this.initDate(b);this.dateTextObj.text(this.dateObj.getYearString());this.mappingCalendarArea_month(b)}},registerCallback:function(a){this.fnCallback=a},assignNewValue:function(a){this.initDate(this.optObject.displayType,a);1==this.optObject.displayType?(this.dateTextObj.text(this.dateObj.getYearString()+"."+this.dateObj.getMonthString()),this.mappingCalendarArea_date(this.calendarTableObj.node,this.optObject.displayType)):2==this.optObject.displayType&&(this.dateTextObj.text(this.dateObj.getYearString()),
this.mappingCalendarArea_month(this.optObject.displayType))},eventKeydown:function(a){var b=this.optObject.displayType;if(!this.keyPos)if(1==b){var c=Pudd.querySelectAll(".calendarTable table td a.selected",this.wrapperObj.node);1==c.length&&(this.newKeyPos(!0),aObj=Pudd.getInstance(c[0]),this.keyPos.row=aObj.row+1,this.keyPos.col=aObj.col);if(!this.keyPos&&(c=Pudd.querySelectAll(".calendarTable table td.today",this.wrapperObj.node),1==c.length)){this.newKeyPos(!0);var c=c[0],d=c.parentNode;this.keyPos.row=
d.rowIndex;this.keyPos.col=c.cellIndex}}else 2==b&&(c=Pudd.querySelectAll(".monthBtn div div a.on",this.node),1==c.length&&(this.newKeyPos(!0),aObj=Pudd.getInstance(c[0]),this.keyPos.idxMonth=aObj.idx-1));if(this.keyPos)if(1==b)a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_LEFT?-1!=this.keyPos.yearMonth?0!=this.keyPos.yearMonth&&(this.setKeyPosMarkStyle(!1),this.keyPos.yearMonth--,this.setKeyPosMarkStyle(!0)):-1!=this.keyPos.row&&-1!=this.keyPos.col&&(0==this.keyPos.col?this.changeYearMonth(1,
b):(this.setKeyPosMarkStyle(!1),this.keyPos.col--),this.setKeyPosMarkStyle(!0)):a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_TOP?-1!=this.keyPos.row&&-1!=this.keyPos.col?(1==this.keyPos.row?(this.setKeyPosMarkStyle(!1),this.keyPos.yearMonth=0==this.keyPos.col?0:1==this.keyPos.col||2==this.keyPos.col?1:3==this.keyPos.col||4==this.keyPos.col||5==this.keyPos.col?2:3,this.keyPos.row=-1,this.keyPos.col=-1):(this.setKeyPosMarkStyle(!1),this.keyPos.row--),this.setKeyPosMarkStyle(!0)):this.keyPos.info&&
(this.setKeyPosMarkStyle(!1),this.keyPos.row=6,this.keyPos.col=0,this.keyPos.info=!1,this.setKeyPosMarkStyle(!0)):a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_RIGHT?-1!=this.keyPos.yearMonth?this.keyPos.yearMonth<this.selectDateObjArr.length-1&&(this.setKeyPosMarkStyle(!1),this.keyPos.yearMonth++,this.setKeyPosMarkStyle(!0)):-1!=this.keyPos.row&&-1!=this.keyPos.col&&(this.keyPos.col==this.weekName.length-1?this.changeYearMonth(2,b):(this.setKeyPosMarkStyle(!1),this.keyPos.col++),this.setKeyPosMarkStyle(!0)):
a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM?-1!=this.keyPos.yearMonth?(this.setKeyPosMarkStyle(!1),this.keyPos.col=0==this.keyPos.yearMonth?0:1==this.keyPos.yearMonth?1:2==this.keyPos.yearMonth?5:6,this.keyPos.row=1,this.keyPos.yearMonth=-1,this.setKeyPosMarkStyle(!0)):-1!=this.keyPos.row&&-1!=this.keyPos.col&&(this.keyPos.row==this.weekCnt?(this.setKeyPosMarkStyle(!1),this.keyPos.row=-1,this.keyPos.col=-1,this.keyPos.info=!0):(this.setKeyPosMarkStyle(!1),this.keyPos.row++),this.setKeyPosMarkStyle(!0)):
a.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER&&(-1!=this.keyPos.yearMonth?this.changeYearMonth(this.keyPos.yearMonth,b):-1!=this.keyPos.row&&-1!=this.keyPos.col?(d=this.calendarTableObj.node.rows[this.keyPos.row],c=d.cells[this.keyPos.col],a=Pudd.getInstance(c),this.switchAnchorClass(a.aObj.node,b)):this.keyPos.info&&this.clickInfoButton(b));else if(2==b)if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_LEFT)-1!=this.keyPos.yearMonth?2==this.keyPos.yearMonth&&(this.setKeyPosMarkStyle(!1),this.keyPos.yearMonth=
1,this.setKeyPosMarkStyle(!0)):-1!=this.keyPos.idxMonth&&(a=this.keyPos.idxMonth%this.groupColCnt,0==a?this.changeYearMonth(1,b):(this.setKeyPosMarkStyle(!1),this.keyPos.idxMonth--,this.setKeyPosMarkStyle(!0)));else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_TOP)-1!=this.keyPos.idxMonth&&(b=parseInt(this.keyPos.idxMonth/this.groupColCnt,10),0==b?(this.setKeyPosMarkStyle(!1),a=this.keyPos.idxMonth%this.groupColCnt,this.keyPos.yearMonth=0==a||1==a?1:2,this.keyPos.idxMonth=-1):(this.setKeyPosMarkStyle(!1),
this.keyPos.idxMonth-=this.groupColCnt),this.setKeyPosMarkStyle(!0));else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_RIGHT)-1!=this.keyPos.yearMonth?1==this.keyPos.yearMonth&&(this.setKeyPosMarkStyle(!1),this.keyPos.yearMonth=2,this.setKeyPosMarkStyle(!0)):-1!=this.keyPos.idxMonth&&(a=this.keyPos.idxMonth%this.groupColCnt,a==this.groupColCnt-1?this.changeYearMonth(2,b):(this.setKeyPosMarkStyle(!1),this.keyPos.idxMonth++,this.setKeyPosMarkStyle(!0)));else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM)if(-1!=
this.keyPos.yearMonth){this.setKeyPosMarkStyle(!1);if(1==this.keyPos.yearMonth)this.keyPos.idxMonth=0;else if(2==this.keyPos.yearMonth)this.keyPos.idxMonth=3;else return;this.keyPos.yearMonth=-1;this.setKeyPosMarkStyle(!0)}else-1!=this.keyPos.idxMonth&&(b=parseInt(this.keyPos.idxMonth/this.groupColCnt,10),b!=this.groupRowCnt-1&&(this.setKeyPosMarkStyle(!1),this.keyPos.idxMonth+=this.groupColCnt,this.setKeyPosMarkStyle(!0)));else a.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER&&(-1!=this.keyPos.yearMonth?
1!=this.keyPos.yearMonth&&2!=this.keyPos.yearMonth||this.changeYearMonth(this.keyPos.yearMonth,b):-1!=this.keyPos.idxMonth&&this.switchAnchorClass(this.monthAnchorCollection[this.keyPos.idxMonth],b))},newKeyPos:function(a){a?(this.keyPos={},this.keyPos.yearMonth=-1,this.keyPos.row=-1,this.keyPos.col=-1,this.keyPos.info=!1,this.keyPos.idxMonth=-1):this.keyPos=null},setKeyPosMarkStyle:function(a){if(this.keyPos)if(1==this.optObject.displayType)if(-1!=this.keyPos.yearMonth){if(this.selectDateObjArr&&
!(this.keyPos.yearMonth>=this.selectDateObjArr.length)){var b=this.selectDateObjArr[this.keyPos.yearMonth];a?b.style("border","1px solid #cccccc"):b.style("border",null)}}else-1!=this.keyPos.row&&-1!=this.keyPos.col?(b=Pudd.getInstance(this.calendarTableObj.node.rows[this.keyPos.row].cells[this.keyPos.col]),a?b.aObj.addClass("focused"):b.aObj.removeClass("focused")):this.keyPos.info&&this.infoBtnObj&&(a?this.infoBtnObj.style("border","1px solid #8c8c8c"):this.infoBtnObj.style("border",null));else 2==
this.optObject.displayType&&(-1!=this.keyPos.yearMonth?!this.selectDateObjArr||this.keyPos.yearMonth>=this.selectDateObjArr.length||(b=this.selectDateObjArr[this.keyPos.yearMonth],a?b.style("border","1px solid #cccccc"):b.style("border",null)):-1==this.keyPos.idxMonth||!this.monthAnchorCollection||this.keyPos.idxMonth>=this.monthAnchorCollection.length||(b=Pudd.getInstance(this.monthAnchorCollection[this.keyPos.idxMonth]),a?b.style("border","1px solid #1c90fb"):b.style("border",null)))}}});

Pudd.Element.Component.GridTable=Pudd.invent({init:function(a){this.checkControls=this.editControls=this.editRecChildSubObj=this.editRecChildObj=this.editRecObj=this.lastCellObj=this.pagerObj=this.footerTableObj=this.contentTableTbodyObj=this.contentTableObj=this.headerTableObj=this.footerDivObj=this.contentDivObj=this.headerDivObj=this.rightAreaTdObj=null;this.eventKeydownSet=this.changeDatePicker=this.changeComboBox=!1;this.constructor.call(this,a)},inherit:Pudd.Element.Component,extend:{setup:function(a){this.setupContainer();
this.optObject=this.parseOption(a);if(null!=a)this.node.innerHTML="",this.setupGarbageAnchor(),a.editable?(this.editControls={},this.addClass(Pudd.Config.className.PUDD_UI_editTable),this.setupContainerTable(this.optObject)):this.addClass(Pudd.Config.className.PUDD_UI_GridTable),this.setupHeaderTable(this.optObject),a.editable?(this.setupHeader(this.optObject),this.headerDivObj&&this.rightAreaTdObj.append(this.headerDivObj)):(this.setupHeader(this.optObject),this.headerDivObj&&this.append(this.headerDivObj)),
this.setupDataContentGrid(this.optObject);else{this.addClass(Pudd.Config.className.PUDD_UI_GridTable);if(!this.arrangeTable())return;this.setupHeader(this.optObject);this.headerDivObj&&this.append(this.headerDivObj);this.setupContent(this.optObject);this.contentDivObj&&this.append(this.contentDivObj);this.setupFooter()}this.setupEvent();return this},parseOption:function(a){if(a)a.scrollable=!0===a.scrollable?!0:!1,a.height=this.getPositiveNumber(a.height,null),a.editable=!0===a.editable?!0:!1;else{a=
{scrollable:!1,height:null};var b=this.attr("pudd-grid-scroll");b&&"string"===typeof b&&"true"==b.toLowerCase().trim()&&(a.scrollable=!0,(b=this.attr("pudd-content-height"))&&"string"===typeof b&&(a.height=this.getPositiveNumber(b,null)));a.editable=!1}return a},setupGarbageAnchor:function(){var a=document.createElement("a");a.setAttribute("href","javascript:;");a=Pudd.getInstance(a);a.style("position:absolute;top:-2px;width:0px;height:0px;");this.append(a);a.on("focusin",function(a){!this.optObject.editable||
0>=this.contentTableObj.node.rows.length||0>=this.contentTableObj.node.rows[0].cells.length||(a=Pudd.getInstance(this.contentTableObj.node.rows[0].cells[0]),this.appendEditRecDiv(a,!0))}.bind(this))},arrangeTable:function(){var a=this.node.getElementsByTagName("table");if(1!=a.length)return!1;for(var a=a[0],b=a.cloneNode(!0),c=a.cloneNode(!0);;){var d=a.getElementsByTagName("tbody");if(0<d.length)a.removeChild(d[0]);else if(d=a.getElementsByTagName("tfoot"),0<d.length)a.removeChild(d[0]);else break}for(;;)if(d=
b.getElementsByTagName("thead"),0<d.length)b.removeChild(d[0]);else if(d=b.getElementsByTagName("tfoot"),0<d.length)b.removeChild(d[0]);else break;for(;;)if(d=c.getElementsByTagName("thead"),0<d.length)c.removeChild(d[0]);else if(d=c.getElementsByTagName("tbody"),0<d.length)c.removeChild(d[0]);else break;d=a.getElementsByTagName("thead");0<d.length&&(this.headerTableObj=new Pudd.Element(a));d=b.getElementsByTagName("tbody");0<d.length&&(this.contentTableObj=new Pudd.Element(b));d=c.getElementsByTagName("tfoot");
0<d.length&&(this.footerTableObj=new Pudd.Element(c));return!0},setupCommonColGroup:function(a){var b=document.createElement("colgroup"),c;for(c in a.columns)this.setupCommonColGroupProcess(b,a.columns[c]);return b},setupCommonColGroupProcess:function(a,b){var c=document.createElement("col");if(b.columns)for(var d in b.columns)this.setupCommonColGroupProcess(a,b.columns[d]);else b.width&&(c.style.width=b.width+"px"),a.appendChild(c)},setupCustomProperty:function(a,b,c){if(a&&("function"===typeof a.templete&&
(c=c?a.templete.call(this,c):a.templete.call(this),b.innerHTML=c),a=a.attributes)){b=Pudd.getInstance(b);for(var d in a)"style"==d?b.style(a[d]):b.attr(d,a[d])}},setupContainerTable:function(a){a=document.createElement("table");var b=document.createElement("tr");a.appendChild(b);var c=document.createElement("td");b.appendChild(c);this.rightAreaTdObj=new Pudd.Element(c);this.rightAreaTdObj.addClass("rightArea");this.append(a)},setupHeaderTable:function(a){var b=document.createElement("table");this.headerTableObj=
new Pudd.Element(b);(b=this.setupCommonColGroup(a))&&this.headerTableObj.append(b);(b=this.setupHeaderTable_thead(a))&&this.headerTableObj.append(b);a.editable&&this.headerTableObj.addClass("editTable")},setupHeaderTable_thead:function(a){var b={row:-1,col:-1,rowCnt:0};this.scanColumnStructure(a.columns,b);this.calculateColumnStructure(a.columns,b.rowCnt);this.printColumnStructure(a.columns);b=document.createElement("thead");this.setupHeaderTable_thead_process(b,a.columns);return b},scanColumnStructure:function(a,
b){var c=0;b.row++;b.row+1>b.rowCnt&&(b.rowCnt=b.row+1);for(var d=0;d<a.length;d++){b.col++;var e=this.doScanColumnStructure(a[d],b),c=c+e}b.row--;return c},doScanColumnStructure:function(a,b){var c=1;a.row=b.row;a.col=b.col;a.columns&&0<a.columns.length&&(b.col--,c=this.scanColumnStructure(a.columns,b));return a.colSpan=c},calculateColumnStructure:function(a,b){for(var c=0;c<a.length;c++)this.doCalculateColumnStructure(a,a[c],b)},doCalculateColumnStructure:function(a,b,c){b.columns&&0<b.columns.length?
(b.rowSpan=1,this.calculateColumnStructure(b.columns,c)):b.rowSpan=c-b.row},printColumnStructure:function(a){for(var b=0;b<a.length;b++)this.doPrintColumnStructure(a[b])},doPrintColumnStructure:function(a){a.columns&&this.printColumnStructure(a.columns)},setupHeaderTable_thead_process:function(a,b){for(var c=0;c<b.length;c++)this.doSetupHeaderTable_thead_process(a,b[c])},doSetupHeaderTable_thead_process:function(a,b){var c=this.getHeaderTable_thead_row(a,b.row),d=document.createElement("th");c.appendChild(d);
d.rowSpan=b.rowSpan;d.colSpan=b.colSpan;this.setupHeaderTable_thead_detail(d,b);b.columns&&0<b.columns.length&&this.setupHeaderTable_thead_process(a,b.columns)},getHeaderTable_thead_row:function(a,b){var c=Pudd.querySelectAll("tr",a);return c.length<=b?(c=document.createElement("tr"),a.appendChild(c),c):c[b]},setupHeaderTable_thead_detail:function(a,b){var c=!1;if(b.editControl&&Pudd.Config["const"].ID_CHECKBOX==this.getEditTypeCode(b.editControl.type)){this.checkControls||(this.checkControls={});
c=this.createCheckBox(b);c.field=b.field;a.appendChild(c.containerObj.node);this.checkControls[b.field]||(this.checkControls[b.field]={});this.checkControls[b.field].header=c;if("boolean"===typeof b.editControl.basicUse&&b.editControl.basicUse){var d=this;c.on("click",function(a){var b=Pudd.getInstance(this);a=b.attr("checked")?!0:!1;a=!a;if(d.checkControls[b.field]&&(b=d.checkControls[b.field].content))for(var c in b)b[c].setChecked(a)})}c=!0}c||(b.title&&(a.textContent=b.title),this.setupCustomProperty(b.header,
a,null))},setupHeader:function(a){if(this.headerTableObj){var b=document.createElement("div");this.headerDivObj=new Pudd.Element(b);a.editable?this.headerDivObj.addClass("rightHeader"):this.headerDivObj.addClass("grid-header");this.headerDivObj.append(this.headerTableObj)}},setupContentTable:function(a,b){var c=document.createElement("table");this.contentTableObj=new Pudd.Element(c);a.editable&&this.contentTableObj.addClass("editTable");(c=this.setupCommonColGroup(a))&&this.contentTableObj.append(c);
(c=this.setupContentTable_tbody(a,b))&&this.contentTableObj.append(c)},setupContentTable_tbody:function(a,b){var c=document.createElement("tbody");this.contentTableTbodyObj=new Pudd.Element(c);if(!b)return c;for(var d in b){var e=this.setupContentTable_tbody_tr(a,b[d]);c.appendChild(e)}return c},setupContentTable_tbody_tr:function(a,b){var c=document.createElement("tr");Pudd.getInstance(c).rowData=b;for(var d in a.columns)this.setupContentTable_tbody_tr_process(c,a.columns[d],b);return c},setupContentTable_tbody_tr_process:function(a,
b,c){if(b.columns)for(var d in b.columns)this.setupContentTable_tbody_tr_process(a,b.columns[d],c);else d=document.createElement("td"),a.appendChild(d),a=Pudd.getInstance(d),a.column=b,this.setupContentTable_tbody_tr_detail(a,b,c)},setupContentTable_tbody_tr_detail:function(a,b,c){var d=a.node,e=!1;if(b.editControl&&Pudd.Config["const"].ID_CHECKBOX==this.getEditTypeCode(b.editControl.type)){e=this.createCheckBox(b);e.field=b.field;b.editControl.dataValueField&&"undefined"!==typeof c[b.editControl.dataValueField]&&
e.val(c[b.editControl.dataValueField]);d.appendChild(e.containerObj.node);this.checkControls[b.field].content||(this.checkControls[b.field].content=[]);this.checkControls[b.field].content.push(e);a.checkboxObj=e;if("boolean"===typeof b.editControl.basicUse&&b.editControl.basicUse){var g=this;e.on("click",function(a){a=Pudd.getInstance(this);a.self=!0;var b=a.attr("checked")?!0:!1,b=!b;if(g.checkControls[a.field]){var c=g.checkControls[a.field].content;if(c){var d=!1,e;for(e in c){var h=c[e];if(!h.self&&
(h=h.attr("checked")?!0:!1,b!=h)){d=!0;break}}d?g.checkControls[a.field].header.setChecked(!1):b?g.checkControls[a.field].header.setChecked(!0):g.checkControls[a.field].header.setChecked(!1)}}a.self=null})}e=!0}e||("undefined"!==typeof c[b.field]&&(d.textContent=c[b.field]),this.setupCustomProperty(b.content,d,c))},setupContent:function(a){if(this.contentTableObj){var b=document.createElement("div");this.contentDivObj=new Pudd.Element(b);a.editable?(this.contentDivObj.addClass("rightContent"),a&&
a.scrollable&&a.height&&(this.contentDivObj.style("height",a.height+"px"),this.contentDivObj.style("overflow-x:auto;"),a.autoScroll&&this.contentDivObj.style("overflow-y:auto;"))):(this.contentDivObj.addClass("grid-content"),a&&a.scrollable&&(this.addClass(Pudd.Config.className.scrollable),this.contentDivObj.addClass("HeiStyle"),a.height&&(this.contentDivObj.style("height",a.height+"px"),a.autoScroll&&this.contentDivObj.style("overflow-y:auto;"))));this.contentDivObj.append(this.contentTableObj)}},
setupFooter:function(){if(this.footerTableObj){var a=document.createElement("div");this.append(a);this.footerDivObj=new Pudd.Element(a);this.footerDivObj.addClass("grid-footer");this.footerDivObj.append(this.footerTableObj)}},setupDataContentGrid:function(a){var b=this.getDataPage(a);this.setupContentTable(a,b);this.setupContent(a);a.editable?this.contentDivObj&&this.rightAreaTdObj.append(this.contentDivObj):this.contentDivObj&&this.append(this.contentDivObj);this.setupPager(a);Pudd.initControlByNode(this.node)},
setupPager:function(a){if(a.pageable){this.addClass("pager_on");var b=document.createElement("div");this.append(b);a.dataSource&&(a.pageable.page=a.dataSource.page,a.pageable.totalCount=a.dataSource.totalCount,a.pageable.pageSize=a.dataSource.pageSize);this.pagerObj=new Pudd.Element.Component.Pager(b);this.pagerObj.setup(a.pageable);var c=this;this.pagerObj.on("pagerClick",function(a){a=a.detail;a.first?c.refreshGrid(1,a.pageSize):a.prev?1<a.page&&c.refreshGrid(a.page-1,a.pageSize):a.next?a.page+
1<=a.lastPage&&c.refreshGrid(a.page+1,a.pageSize):a.last?c.refreshGrid(a.lastPage,a.pageSize):null!=a.page?c.refreshGrid(a.page,a.pageSize):c.refreshGrid(1,a.pageSize)})}},refreshGrid:function(a,b){if(this.optObject.dataSource){this.optObject.dataSource.page=a;this.optObject.dataSource.pageSize=b;if(this.checkControls)for(var c in this.checkControls)this.checkControls[c].header.setChecked(!1);this.contentDivObj.node.removeChild(this.contentTableObj.node);this.contentTableObj=null;this.optObject.editable?
(this.rightAreaTdObj.node.removeChild(this.contentDivObj.node),this.headerDivObj.node.scrollLeft=0):this.node.removeChild(this.contentDivObj.node);this.contentDivObj=null;this.node.removeChild(this.pagerObj.node);this.pagerObj=null;this.setupDataContentGrid(this.optObject);this.setupEvent()}},getDataPage:function(a){return a.dataSource?a.dataSource.read():null},setupEvent:function(){var a=this;if(this.contentTableObj&&(Pudd.querySelectAll("td",this.contentTableObj.node).forEach(function(b,d){var c=
Pudd.getInstance(b);c.on("click",function(b){a.switchRowClass(c);a.appendEditRecDiv(c,!1)})}),this.optObject.editable&&!this.eventKeydownSet)){this.eventKeydownSet=!0;var b=Pudd.getInstance(document);b.on("keydown",function(b){a.eventKeydown(b)})}this.optObject.editable&&this.contentDivObj&&(this.contentDivObj.on("scroll",function(b){a.headerDivObj.node.scrollLeft=this.scrollLeft;a.lastCellObj&&(b=a.getColumnEditType(a.lastCellObj),Pudd.Config["const"].ID_COMBOBOX==b?a.editControls[a.lastCellObj.column.field].getDisplayListBox()&&
a.editControls[a.lastCellObj.column.field].showListBox(!1,null):Pudd.Config["const"].ID_DATEPICKER==b&&a.editControls[a.lastCellObj.column.field].getDisplayCalendar()&&a.editControls[a.lastCellObj.column.field].showCalendar(!1,null))}),b=Pudd.getInstance(document),b.on("click",function(a){var b=this.contentDivObj.offset(!0),c=a.clientX+document.documentElement.scrollLeft;a=a.clientY+document.documentElement.scrollTop;if(!(b.left<=c&&c<=b.right&&b.top<=a&&a<=b.bottom)){if(this.changeComboBox){this.changeComboBox=
!1;return}if(this.changeDatePicker){this.changeDatePicker=!1;return}this.switchRowClass(null);this.appendEditRecDiv(null,!1)}this.changeDatePicker=this.changeComboBox=!1}.bind(this)))},switchRowClass:function(a){Pudd.querySelectAll("tr",this.contentTableObj.node).forEach(function(a,c){Pudd.getInstance(a).removeClass("on")});a&&a.parent().addClass("on")},appendEditRecDiv:function(a,b){if(this.optObject.editable&&(!a||!a.editSelected)){if(this.lastCellObj){if(this.editRecObj){var c=this.getColumnEditType(this.lastCellObj);
if(Pudd.Config["const"].ID_TEXTBOX==c)this.lastCellObj.text(this.editControls[this.lastCellObj.column.field].val()),this.editRecChildSubObj.node.removeChild(this.editControls[this.lastCellObj.column.field].containerObj.node);else if(Pudd.Config["const"].ID_COMBOBOX==c)this.lastCellObj.text(this.editControls[this.lastCellObj.column.field].text()),this.editRecChildSubObj.node.removeChild(this.editControls[this.lastCellObj.column.field].containerObj.node),this.editControls[this.lastCellObj.column.field].showListBox(!1,
null);else if(Pudd.Config["const"].ID_DATEPICKER==c)this.lastCellObj.text(this.editControls[this.lastCellObj.column.field].val()),this.editRecChildSubObj.node.removeChild(this.editControls[this.lastCellObj.column.field].containerObj.node),this.editControls[this.lastCellObj.column.field].showCalendar(!1,null);else for(;0<this.editRecChildSubObj.node.childNodes.length;)this.lastCellObj.append(this.editRecChildSubObj.node.childNodes[0])}this.lastCellObj.editSelected=!1;this.lastCellObj=null}if(a){this.createEditRecDiv();
c=this.getColumnEditType(a);if(Pudd.Config["const"].ID_TEXTBOX==c){this.createTextBox(a.column);var d=a.text().trim();this.editControls[a.column.field].val(d);a.node.innerHTML="";this.editRecChildSubObj.append(this.editControls[a.column.field].containerObj.node)}else if(Pudd.Config["const"].ID_COMBOBOX==c)this.createComboBox(a.column),d=a.text().trim(),a.node.innerHTML="",this.editRecChildSubObj.append(this.editControls[a.column.field].containerObj.node),this.mappingComboBoxControl(this.editControls[a.column.field],
d);else if(Pudd.Config["const"].ID_DATEPICKER==c)this.createDatePicker(a.column),d=a.text().trim(),a.node.innerHTML="",this.editRecChildSubObj.append(this.editControls[a.column.field].containerObj.node),this.mappingDatePickerControl(this.editControls[a.column.field],d);else for(;0<a.node.childNodes.length;)this.editRecChildSubObj.append(a.node.childNodes[0]);a.append(this.editRecObj);a.editSelected=!0;this.lastCellObj=a;Pudd.Config["const"].ID_TEXTBOX==c?this.editControls[a.column.field].node.select():
Pudd.Config["const"].ID_COMBOBOX==c?b?this.editControls[a.column.field].showListBox(!1,null):this.editControls[a.column.field].showListBox(!0,a):Pudd.Config["const"].ID_DATEPICKER==c&&(b?this.editControls[a.column.field].showCalendar(!1,null):this.editControls[a.column.field].showCalendar(!0,a))}else this.removeEditRecDiv()}},eventKeydown:function(a){if(this.optObject.editable&&this.lastCellObj){var b=this.getColumnEditType(this.lastCellObj);if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_TAB)this.moveNextCellObj(this.lastCellObj,
!1,!1,!0,!1)?a.preventDefault():window.setTimeout(function(){this.switchRowClass(null);this.appendEditRecDiv(null,!0)}.bind(this),10);else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER){a.preventDefault();if(Pudd.Config["const"].ID_COMBOBOX==b){if(this.editControls[this.lastCellObj.column.field].getDisplayListBox())return}else if(Pudd.Config["const"].ID_DATEPICKER==b&&this.editControls[this.lastCellObj.column.field].getDisplayCalendar())return;this.moveNextCellObj(this.lastCellObj,!1,!1,!0,
!1)}else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_SPACE)Pudd.Config["const"].ID_TEXTBOX!=b&&(Pudd.Config["const"].ID_COMBOBOX==b?(a.preventDefault(),this.editControls[this.lastCellObj.column.field].getDisplayListBox()||window.setTimeout(function(){this.editControls[this.lastCellObj.column.field].showListBox(!0,this.lastCellObj)}.bind(this),10)):Pudd.Config["const"].ID_DATEPICKER==b?(a.preventDefault(),this.editControls[this.lastCellObj.column.field].getDisplayCalendar()||window.setTimeout(function(){this.editControls[this.lastCellObj.column.field].showCalendar(!0,
this.lastCellObj)}.bind(this),10)):Pudd.Config["const"].ID_CHECKBOX==b?(a.preventDefault(),a=this.lastCellObj.checkboxObj.getChecked(),this.lastCellObj.checkboxObj.setChecked(!a)):a.preventDefault());else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_LEFT){if(Pudd.Config["const"].ID_TEXTBOX==b){var b=this.editControls[this.lastCellObj.column.field].node.selectionStart,c=this.editControls[this.lastCellObj.column.field].node.selectionEnd;if(0!=b||0!=c)return}else if(Pudd.Config["const"].ID_DATEPICKER==
b&&this.editControls[this.lastCellObj.column.field].getDisplayCalendar())return;a.preventDefault();this.moveNextCellObj(this.lastCellObj,!0,!1,!1,!1)}else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_TOP){if(Pudd.Config["const"].ID_COMBOBOX==b){if(this.editControls[this.lastCellObj.column.field].getDisplayListBox())return}else if(Pudd.Config["const"].ID_DATEPICKER==b&&this.editControls[this.lastCellObj.column.field].getDisplayCalendar())return;a.preventDefault();this.moveNextCellObj(this.lastCellObj,
!1,!0,!1,!1)}else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_RIGHT){if(Pudd.Config["const"].ID_TEXTBOX==b){var d=this.editControls[this.lastCellObj.column.field].val().length,b=this.editControls[this.lastCellObj.column.field].node.selectionStart,c=this.editControls[this.lastCellObj.column.field].node.selectionEnd;if(d!=b||d!=c||b!=c)return}else if(Pudd.Config["const"].ID_DATEPICKER==b&&this.editControls[this.lastCellObj.column.field].getDisplayCalendar())return;a.preventDefault();this.moveNextCellObj(this.lastCellObj,
!1,!1,!0,!1)}else if(a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM){if(Pudd.Config["const"].ID_COMBOBOX==b){if(this.editControls[this.lastCellObj.column.field].getDisplayListBox())return}else if(Pudd.Config["const"].ID_DATEPICKER==b&&this.editControls[this.lastCellObj.column.field].getDisplayCalendar())return;a.preventDefault();this.moveNextCellObj(this.lastCellObj,!1,!1,!1,!0)}}},moveNextCellObj:function(a,b,c,d,e){a=this.getNextCellObj(a,b,c,d,e);if(!a)return!1;a.node.focus();this.switchRowClass(a);
this.appendEditRecDiv(a,!0);return!0},getNextCellObj:function(a,b,c,d,e){var g=null;a=a.parent();var h=this.contentTableObj.node.rows.length,l=a.node.cells.length,f=a.node.rowIndex,k=this.lastCellObj.node.cellIndex;b?0==k?0!=f&&(b=this.contentTableObj.node.rows[f-1],g=Pudd.getInstance(b.cells[b.cells.length-1])):g=Pudd.getInstance(a.node.cells[k-1]):c?0!=f&&(g=Pudd.getInstance(this.contentTableObj.node.rows[f-1].cells[k])):d?k==l-1?f!=h-1&&(g=Pudd.getInstance(this.contentTableObj.node.rows[f+1].cells[0])):
g=Pudd.getInstance(a.node.cells[k+1]):e&&f!=h-1&&(g=Pudd.getInstance(this.contentTableObj.node.rows[f+1].cells[k]));return g},getColumnEditType:function(a){return a.column&&a.column.editControl?this.getEditTypeCode(a.column.editControl.type):0},getEditTypeCode:function(a){if("string"===typeof a){a=a.toLowerCase().trim();if("textbox"==a)return Pudd.Config["const"].ID_TEXTBOX;if("combobox"==a)return Pudd.Config["const"].ID_COMBOBOX;if("datepicker"==a)return Pudd.Config["const"].ID_DATEPICKER;if("checkbox"==
a)return Pudd.Config["const"].ID_CHECKBOX}return 0},createEditRecDiv:function(){if(!this.editRecObj){var a=document.createElement("div");this.editRecObj=new Pudd.Element(a);this.editRecObj.style("width:100%;height:100%;display:table;box-sizing:border-box;border:1px solid #007cc0;");var b=document.createElement("div");this.editRecChildObj=new Pudd.Element(b);this.editRecChildObj.style("vertical-align:middle;display:table-cell;background: #ffffff;");var c=document.createElement("div");this.editRecChildSubObj=
new Pudd.Element(c);this.editRecChildSubObj.style("width:100%;text-align:center;");b.appendChild(c);a.appendChild(b)}},removeEditRecDiv:function(){if(this.editRecObj){var a=this.editRecObj.parent();a&&a.node.removeChild(this.editRecObj.node)}},createTextBox:function(a){if(!this.editControls[a.field]){var b=document.createElement("input");b.setAttribute("type","text");this.editControls[a.field]=new Pudd.Element.Control.TextBox(b);this.editControls[a.field].setup(a.editControl)}},createComboBox:function(a){if(!this.editControls[a.field]){var b=
document.createElement("select");this.editControls[a.field]=new Pudd.Element.Control.ComboBox(b);this.editControls[a.field].setup(a.editControl);this.editControls[a.field].on("change",function(b){this.changeComboBox=!0;this.editControls[a.field].fieldObj.removeClass("on")}.bind(this))}},mappingComboBoxControl:function(a,b){for(var c=0;c<a.node.options.length;c++)if(b==a.node.options[c].textContent){a.node.selectedIndex=c;a.setSelectedOption();break}},createDatePicker:function(a){if(!this.editControls[a.field]){var b=
document.createElement("input");b.setAttribute("type","text");this.editControls[a.field]=new Pudd.Element.Control.DatePicker(b);this.editControls[a.field].setup(a.editControl);this.editControls[a.field].on("change",function(a){this.changeDatePicker=!0}.bind(this))}},mappingDatePickerControl:function(a,b){a.assignNewValue(b)},createCheckBox:function(a){var b=document.createElement("input");b.setAttribute("type","checkbox");b=new Pudd.Element.Control.CheckBox(b);b.setup(a.editControl);return b},getGridData:function(){var a=
[],b=this;Pudd.querySelectAll("tr",this.contentTableObj.node).forEach(function(c,d){var e=Pudd.getInstance(c).rowData;Pudd.querySelectAll("td",c).forEach(function(a,c){var d=Pudd.getInstance(a),f=d.column;f.editControl&&Pudd.Config["const"].ID_CHECKBOX==b.getEditTypeCode(f.editControl.type)&&f.field&&(e[f.field]={},e[f.field].value=d.checkboxObj.val(),e[f.field].checked=d.checkboxObj.node.checked)});e.rowIndex=c.rowIndex;a.push(e)});return a},getGridDataCount:function(){return this.contentTableObj.node.rows.length},
addRow:function(a){a=this.setupContentTable_tbody_tr(this.optObject,a);this.contentTableTbodyObj.append(a)},deleteRow:function(a){if("number"===typeof a)this.contentTableObj.node.deleteRow(a);else if(a&&"object"===typeof a&&a instanceof Array){for(var b in a)Pudd.getInstance(this.contentTableObj.node.rows[a[b]]).deleteSet=!0;var c=this;Pudd.querySelectAll("tr",this.contentTableObj.node).forEach(function(a,b){Pudd.getInstance(a).deleteSet&&c.contentTableObj.node.deleteRow(a.rowIndex)})}this.updateCheckBoxGroup()},
updateCheckBoxGroup:function(){if(this.checkControls){for(var a in this.checkControls)this.checkControls[a].content=[];var b=this;Pudd.querySelectAll("tr",this.contentTableObj.node).forEach(function(a,d){Pudd.querySelectAll("td",a).forEach(function(a,c){var d=Pudd.getInstance(a),e=d.column;e.editControl&&Pudd.Config["const"].ID_CHECKBOX==b.getEditTypeCode(e.editControl.type)&&e.field&&b.checkControls[e.field].content.push(d.checkboxObj)})})}},resetGridCheckBox:function(a,b){if(this.checkControls)for(var c in this.checkControls)if(c==
a){this.checkControls[c].header.setChecked(b);var d=this.checkControls[c].content;if(d)for(var e in d)d[e].setChecked(b)}}}});

Pudd.Element.Component.Pager=Pudd.invent({init:function(a){this.refVal=this.lastBtnObj=this.nextBtnObj=this.prevBtnObj=this.firstBtnObj=this.pageListObj=this.numberObjArr=this.lastPageVal=this.pageVal=null;this.constructor.call(this,a)},inherit:Pudd.Element.Component,extend:{setup:function(a){this.setupContainer();this.addClass(Pudd.Config.className.PUDD_UI_pager);this.optObject=this.parseOption(a);this.numberObjArr=[];this.setupPagingNumber(this.optObject);this.setupPageList(this.optObject);this.setupRefVal(this.optObject);
this.setupEvent();return this},parseOption:function(a){if(a)a.page=this.getPositiveNumber(a.page,1),a.totalCount=this.getPositiveNumber(a.totalCount,null),a.buttonCount=this.getPositiveNumber(a.buttonCount,10),a.pageSize=this.getPositiveNumber(a.pageSize,10),a.pageList=a.pageList instanceof Array?a.pageList:null,a.ref="string"===typeof a.ref?a.ref:"";else{a={};var b=this.attr("pudd-pager-page");a.page=b&&"string"===typeof b?this.getPositiveNumber(b.trim(),10):1;b=this.attr("pudd-pager-total-count");
a.totalCount=b&&"string"===typeof b?this.getPositiveNumber(b.trim(),10):null;b=this.attr("pudd-pager-button-count");a.buttonCount=b&&"string"===typeof b?this.getPositiveNumber(b.trim(),10):10;b=this.attr("pudd-pager-page-size");a.pageSize=b&&"string"===typeof b?this.getPositiveNumber(b.trim(),10):10;if((b=this.attr("pudd-pager-page-list"))&&"string"===typeof b){if(b=b.split(","),0<b.length){for(var c in b)b[c]=parseInt(b[c].trim(),10);a.pageList=b}}else a.pageList=null;c=this.attr("pudd-pager-ref");
a.ref=c&&"string"===typeof c?c.trim():""}return a},setupPagingNumber:function(a){var b=document.createElement("div");b.className="paging";this.append(b);var c=a.page,e=this.calculatePagingNumber(a),d=document.createElement("span");this.firstBtnObj=new Pudd.Element(d);d.className=1!=c?"first":"first disabled";b.appendChild(d);this.appendAnchorNode(d,"first");this.appendChildTextNode(b," ");d=document.createElement("span");this.prevBtnObj=new Pudd.Element(d);d.className=1!=c?"pre":"pre disabled";b.appendChild(d);
this.appendAnchorNode(d,"prev");this.appendChildTextNode(b," ");if(a.buttonCount&&0<a.buttonCount){a=document.createElement("ol");b.appendChild(a);for(d=e.stratNo;d<=e.endNo;d++){var f=document.createElement("li");a.appendChild(f);d==c&&(f.className="on",this.pageVal=d);var g=document.createElement("a");f.appendChild(g);f=new Pudd.Element(g);f.attr("href","javascript:;");f.text(d);f.no=d;this.numberObjArr.push(f)}this.appendChildTextNode(b," ")}d=document.createElement("span");this.nextBtnObj=new Pudd.Element(d);
d.className=c<this.lastPageVal?"nex":"nex disabled";b.appendChild(d);this.appendAnchorNode(d,"next");this.appendChildTextNode(b," ");d=document.createElement("span");this.lastBtnObj=new Pudd.Element(d);d.className=c<this.lastPageVal?"last":"last disabled";b.appendChild(d);this.appendAnchorNode(d,"last");this.appendChildTextNode(b," ")},calculatePagingNumber:function(a){if(a.buttonCount&&0<a.buttonCount){var b=parseInt(a.page/a.buttonCount,10),b=0==a.page%a.buttonCount?a.buttonCount*(b-1)+1:a.buttonCount*
b+1,c=b+a.buttonCount-1;if(null!=a.totalCount&&0<a.totalCount){var e=parseInt(a.totalCount/a.pageSize,10);a=0==a.totalCount%a.pageSize?e:e+1;a<c&&(c=a);this.lastPageVal=a}return{stratNo:b,endNo:c}}return null},appendAnchorNode:function(a,b){var c=document.createElement("a");c.textContent=b;c.href="javascript:;";a.appendChild(c);return c},appendChildTextNode:function(a,b){var c=document.createTextNode(b);a.appendChild(c);return c},setupPageList:function(a){var b=document.createElement("div");b.className=
"gt_count";this.append(b);if(a.pageList){var c=document.createElement("select");b.appendChild(c);this.pageListObj=new Pudd.Element.Control.ComboBox(c);this.pageListObj.style("width:50px;");var b=0,e;for(e in a.pageList){var c=a.pageList[e],d=document.createElement("option");d.value=c;d.textContent=c;a.pageSize==c&&(b=e);this.pageListObj.append(d)}this.pageListObj.node.selectedIndex=b;this.pageListObj.setup()}},setupRefVal:function(a){this.refVal=a.ref},setupEvent:function(){var a=this;if(this.firstBtnObj)this.firstBtnObj.on("click",
function(b){Pudd.getInstance(this).hasClass("disabled")||a.pagerCustomEvent("first",null)});if(this.prevBtnObj)this.prevBtnObj.on("click",function(b){Pudd.getInstance(this).hasClass("disabled")||a.pagerCustomEvent("prev",null)});if(this.nextBtnObj)this.nextBtnObj.on("click",function(b){Pudd.getInstance(this).hasClass("disabled")||a.pagerCustomEvent("next",null)});if(this.lastBtnObj)this.lastBtnObj.on("click",function(b){Pudd.getInstance(this).hasClass("disabled")||a.pagerCustomEvent("last",null)});
this.numberObjArr.forEach(function(b,c){b.on("click",function(b){b=Pudd.getInstance(this);a.pagerCustomEvent(null,b.no)})});if(this.pageListObj)this.pageListObj.on("change",function(b){b=Pudd.getInstance(this).val();a.pagerCustomEvent(null,null,b)})},pagerCustomEvent:function(a,b){var c={first:!1,prev:!1,next:!1,last:!1,page:null,pageSize:null};c.ref=this.refVal;c.lastPage=this.lastPageVal;a&&(c.first="first"==a?!0:!1,c.prev="prev"==a?!0:!1,c.next="next"==a?!0:!1,c.last="last"==a?!0:!1,c.page=this.pageVal);
b&&(c.page=b);c.pageSize=parseInt(this.pageListObj.val(),10);c=new CustomEvent("Event",{detail:c});c.initEvent("pagerClick",!0,!0);this.node.dispatchEvent(c)}}});

Pudd.Element.Component.Portlet=Pudd.invent({init:function(a){this.rowCount=20;this.colCount=null;this.autoIncreaseCheck=2;this.autoIncreaseUnit=5;this.unitHeight=this.unitWidth=108;this.unitSpace=8;this.movingClone=this.movingObj=this.resizingObj=this.draggingObj=this.thumbObjArr=this.cellObjArr=this.tableObj=this.portletDiv=null;this.idxLayer=0;this.agentType=this.transView=this.outline=this.layerObjArr=null;this.constructor.call(this,a)},inherit:Pudd.Element.Component,extend:{setup:function(a){this.setupContainer(!1);
this.addClass("portletGrid");this.optObject=this.parseOption(a);this.colCount=this.optObject.displayColCount;this.addClass("grid"+this.colCount);this.transView=new Pudd.Util.TransView;this.layerObjArr=[];this.setupPortletDiv();this.setupTable(this.rowCount,this.colCount);this.setupThumb();this.setupEvent();this.loadPortletBox();Pudd.initControlByNode(this.node);this.agentType=Pudd.Fn.getUserAgentType();return this},parseOption:function(a){if(a){if(a.portletData&&"string"===typeof a.portletData)try{a.portletData=
window.JSON.parse(a.portletData)}catch(b){a.portletData=null}else a.portletData&&"object"===typeof a.portletData?a.portletData.arrPortlet||(a.portletData=null):a.portletData=null;a.displayColCount="number"===typeof a.displayColCount?a.displayColCount:10;a.configCallback="function"===typeof a.configCallback?a.configCallback:function(){};a.portletCallback="function"===typeof a.portletCallback?a.portletCallback:function(){};return a}},setupPortletDiv:function(){this.portletDiv=document.createElement("div");
this.portletDiv.className="portletDiv";this.append(this.portletDiv)},setupTable:function(a,b){this.cellObjArr=[];var c=document.createElement("table");this.append(c);this.tableObj=new Pudd.Element(c);for(c=0;c<a;c++){var d=document.createElement("tr");this.tableObj.append(d);this.cellObjArr[c]=[];for(var e=0;e<b;e++){var f=document.createElement("td");d.appendChild(f);f=new Pudd.Element(f);f.posRow=c;f.posCol=e;this.cellObjArr[c][e]=f}}},setupThumb:function(){this.thumbObjArr=[];var a=this;Pudd.querySelectAll(".portletList .dragPortletThumb",
document).forEach(function(b,c){var d=Pudd.getInstance(b);d.attr("draggable","true");d.portletBoxType=d.attr("pudd-portlet-box-type");d.portletBoxType&&"string"===typeof d.portletBoxType&&(d.portletBoxType=d.portletBoxType.trim());a.getPortletParam(d)&&(d.addCount=0,a.thumbObjArr.push(d))})},getPortletParam:function(a){var b={};b.boxType=a.portletBoxType;b=this.optObject.configCallback.call(this,b);if(!b)return!1;a.defaultRow=b.defaultRow;a.defaultCol=b.defaultCol;a.maxRow=b.maxRow;a.maxCol=b.maxCol;
a.minRow=b.minRow;a.minCol=b.minCol;a.portletBoxTitle=b.boxTitle;a.allowDuplicate=b.allowDuplicate;return!0},getSizeValue:function(a){return a&&(a=a.split(","),2==a.length)?(a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10),a):null},loadPortletBox:function(){if(this.portletDiv&&this.optObject.portletData&&this.optObject.portletData.arrPortlet){var a=this.optObject.portletData.arrPortlet,b;for(b in a){var c=a[b],d=document.createElement("div"),e=new Pudd.Element(d);e.portletBoxType=c.boxType;e.portletLeft=
parseInt(c.left,10);e.portletTop=parseInt(c.top,10);e.startRow=parseInt(c.startRow,10);e.startCol=parseInt(c.startCol,10);e.sizeRow=parseInt(c.sizeRow,10);e.sizeCol=parseInt(c.sizeCol,10);e.portletKey=c.portletKey||"";e.portletInfo=c.portletInfo||"";if(!this.getPortletParam(e))return;this.portletDiv.appendChild(d);this.createPortlet_load(e)}this.checkPortletTableArea();this.checkPortletDuplicate()}},setupEvent:function(){this.setupEvent_thumb();this.setupEvent_cell();this.setupEvent_document();this.setupEvent_outline()},
setupEvent_thumb:function(){var a=this;this.thumbObjArr.forEach(function(b,c){b.on("dragstart",function(c){(b.allowDuplicate||0==b.addCount)&&a.setDraggingObject(!0,this)});b.on("dragend",function(b){if(a.agentType.sa){var c=Pudd.querySelectAll(".setGrid",a.node);0<c.length&&a.cell_drop(b,c[0],a)}a.removeAllCellClass("setGrid");a.setDraggingObject(!1,null);a.checkPortletTableArea();a.checkPortletDuplicate()})})},setDraggingObject:function(a,b){this.draggingObj=null;a&&(this.draggingObj=Pudd.getInstance(b))},
setupEvent_cell:function(){for(var a=this,b=0;b<this.cellObjArr.length;b++)for(var c=0;c<this.cellObjArr[b].length;c++){var d=this.cellObjArr[b][c];d.setupEventCell||(d.on("dragover",function(b){a.cell_dragover(b,this,a)}),d.on("dragenter",function(b){a.cell_dragenter(b,this,a)}),d.on("dragleave",function(b){a.agentType.sa?window.setTimeout(function(){a.cell_dragleave(b,this,a)}.bind(this),10):a.cell_dragleave(b,this,a)}),d.on("drop",function(b){a.cell_drop(b,this,a)}),d.setupEventCell=!0)}},cell_dragover:function(a,
b,c){c.draggingObj&&c.draggingObj.availableArea&&(a.preventDefault(),Pudd.getInstance(b).hasClass("setGrid")||(a=c.getStartEndRowCol(b))&&c.switchPortletArea(1,a.startRow,a.startCol,a.endRow,a.endCol))},cell_dragenter:function(a,b,c){c.draggingObj&&(a=c.getStartEndRowCol(b))&&c.switchPortletArea(1,a.startRow,a.startCol,a.endRow,a.endCol)},cell_dragleave:function(a,b,c){c.draggingObj&&c.removeAllCellClass("setGrid")},cell_drop:function(a,b,c){c.draggingObj&&c.createPortlet_drag(b)},getStartEndRowCol:function(a){if(this.draggingObj){var b=
Pudd.getInstance(a);a=b.posRow;var c=b.posCol,d=b.posRow+this.draggingObj.defaultRow-1,b=b.posCol+this.draggingObj.defaultCol-1;return 0>a||0>c||0>d||0>b?null:{startRow:a,startCol:c,endRow:d,endCol:b}}if(this.movingObj){var b=Pudd.getInstance(a),d=b.posRow,b=b.posCol,e=this.movingObj.moveRow,f=this.movingObj.moveCol;a=this.movingObj.startRow+(d-e);c=this.movingObj.startCol+(b-f);d=this.movingObj.endRow+(d-e);b=this.movingObj.endCol+(b-f);return 0>a||0>c||0>d||0>b?null:{startRow:a,startCol:c,endRow:d,
endCol:b}}return null},createPortlet_drag:function(a){if(this.draggingObj&&this.portletDiv){var b=this.createPortletBox(null,a.offsetLeft,a.offsetTop,this.draggingObj.defaultRow,this.draggingObj.defaultCol,this.draggingObj.portletBoxType,this.draggingObj.portletBoxTitle);this.portletDiv.appendChild(b.node);if(a=this.getStartEndRowCol(a))b.startRow=a.startRow,b.startCol=a.startCol,b.endRow=a.endRow,b.endCol=a.endCol;b.portletBoxType=this.draggingObj.portletBoxType;b.portletBoxTitle=this.draggingObj.portletBoxTitle;
b.maxRow=this.draggingObj.maxRow;b.maxCol=this.draggingObj.maxCol;b.minRow=this.draggingObj.minRow;b.minCol=this.draggingObj.minCol;this.createPortletProcess(b);b=new CustomEvent("Event",{detail:b.node});b.initEvent("portletinsert",!0,!0);this.node.dispatchEvent(b);Pudd.initControlByNode(this.node)}},createPortlet_load:function(a){this.portletDiv&&(a=this.createPortletBox(a.node,a.portletLeft,a.portletTop,a.sizeRow,a.sizeCol,a.portletBoxType,a.portletBoxTitle),a.endRow=a.startRow+a.sizeRow-1,a.endCol=
a.startCol+a.sizeCol-1,this.createPortletProcess(a))},createPortletBox:function(a,b,c,d,e,f,g){a||(a=document.createElement("div"));a.style.left=b+"px";a.style.top=c+"px";a=Pudd.getInstance(a);a.addClass("portletLayer");a.addClass("row"+d);a.addClass("col"+e);a.rowClassName="row"+d;a.colClassName="col"+e;d={};d.boxType=f;d.boxTitle=g;d.div=a.node;this.optObject.portletCallback.call(this,d);return a},createPortletProcess:function(a){this.layerObjArr.push(a);a.idxLayer=this.idxLayer++;a.attr("draggable",
"true");this.layerEventSetup(a)},removePortlet:function(a){a=Pudd.getInstance(a);"number"===typeof a.idxLayer&&this.removePortletLayer(a.idxLayer);this.checkPortletDuplicate()},removePortletLayer:function(a){for(var b=[];0<this.layerObjArr.length;)if(this.layerObjArr[0].idxLayer==a){var c=this.layerObjArr.shift();this.portletDiv.removeChild(c.node)}else b.push(this.layerObjArr.shift());this.layerObjArr=b},movePortletLayer:function(a){if(this.movingObj&&(a=this.getStartEndRowCol(a))&&!this.checkSelectedArea(a.startRow,
a.startCol,a.endRow,a.endCol)){var b=this.cellObjArr[a.startRow][a.startCol].node;this.movingObj.node.style.top=b.offsetTop+"px";this.movingObj.node.style.left=b.offsetLeft+"px";this.movingObj.startRow=a.startRow;this.movingObj.startCol=a.startCol;this.movingObj.endRow=a.endRow;this.movingObj.endCol=a.endCol}},switchPortletArea:function(a,b,c,d,e){this.removeAllCellClass("setGrid");1==a&&this.draggingObj&&(this.draggingObj.availableArea=!1,this.checkSelectedArea(b,c,d,e)||(this.draggingObj.availableArea=
!0,this.addCellClass(b,c,d,e,"setGrid")))},addCellClass:function(a,b,c,d,e){if(!(0>a||0>b||0>c||0>d))for(;a<=c;a++)for(var f=b;f<=d;f++)this.cellObjArr[a][f].addClass(e)},removeCellClass:function(a,b,c,d,e){for(;a<=c;a++)for(var f=b;f<=d;f++)this.cellObjArr[a][f].removeClass(e)},removeAllCellClass:function(a){Pudd.querySelectAll("."+a,this.node).forEach(function(b,c){Pudd.getInstance(b).removeClass(a)})},layerEventSetup:function(a){if(!a.bEventSet){a.bEventSet=!0;var b=this;a.on("dragstart",function(a){a.preventDefault();
b.transView.showTransView(!0);b.outline.showOutline(!1,!1,!1,!1,0,0,0,0);var c=b.getRowColFromClientXY(this,a),e=Pudd.getInstance(this);e.moveRow=c[0];e.moveCol=c[1];e.curSelected=!0;e.startClientX=parseInt(a.clientX,10);e.startClientY=parseInt(a.clientY,10);b.movingObj=e;b.movingClone=b.movingObj.node.cloneNode(!0);b.movingClone.style.opacity="0.6";b.portletDiv.appendChild(b.movingClone)});a.on("mousedown",function(a){a=Pudd.getInstance(this);a.offWidth=this.offsetWidth;a.offHeight=this.offsetHeight;
b.resizingObj=a;b.showLayerOutline(this)})}},showLayerOutline:function(a){this.outline.showOutline(!0,!0,!1,!1,a.offsetLeft,a.offsetTop,a.offsetLeft+a.offsetWidth,a.offsetTop+a.offsetHeight)},setupEvent_document:function(){var a=this,b=Pudd.getInstance(document);b.on("mousedown",function(b){if(a.resizingObj){var c=!0;b.target&&b.target.className&&(-1!=b.target.className.indexOf("portletLayer")&&(c=!1),-1!=b.target.className.indexOf("setting")&&(c=!1),-1!=b.target.className.indexOf("ptl_info")&&(c=
!1),-1!=b.target.className.indexOf("outlineRecLayer")&&(c=!1));c&&(a.resizingObj.offWidth=null,a.resizingObj.offHeight=null,a.resizingObj=null,a.outline.showOutline(!1,!1,!1,!1,0,0,0,0))}});b.on("mousemove",function(b){if(a.movingObj){var c=a.calculateRowColFromClientXY(0,0,a.rowCount-1,a.colCount-1,b),e=c[0],c=c[1];0<=e&&0<=c&&((e=a.getStartEndRowCol(a.cellObjArr[e][c].node))?(a.removeAllCellClass("setGrid"),a.checkSelectedArea(e.startRow,e.startCol,e.endRow,e.endCol)?document.body.style.cursor=
"not-allowed":(a.addCellClass(e.startRow,e.startCol,e.endRow,e.endCol,"setGrid"),document.body.style.cursor="inherit"),e=parseInt(b.clientX,10)-a.movingObj.startClientX,b=parseInt(b.clientY,10)-a.movingObj.startClientY,a.movingClone.style.left=a.movingObj.node.offsetLeft+e+"px",a.movingClone.style.top=a.movingObj.node.offsetTop+b+"px"):(a.removeAllCellClass("setGrid"),document.body.style.cursor="not-allowed"))}});b.on("mouseup",function(b){document.body.style.cursor="inherit";a.resizingObj&&a.resizingObj.curSelected&&
a.fire("mouseup",!1,!1);if(a.movingObj){var c=a.calculateRowColFromClientXY(0,0,a.rowCount-1,a.colCount-1,b);b=c[0];c=c[1];0<=b&&0<=c&&a.movePortletLayer(a.cellObjArr[b][c].node);a.movingObj.moveRow=null;a.movingObj.moveCol=null;a.movingObj.curSelected=null;a.movingObj.startClientX=null;a.movingObj.startClientY=null;a.movingObj=null;a.portletDiv.removeChild(a.movingClone);window.setTimeout(function(){a.removeAllCellClass("setGrid")},1E3);a.transView.showTransView(!1);a.checkPortletTableArea()}})},
getRowColFromClientXY:function(a,b){var c=Pudd.getInstance(a);return this.calculateRowColFromClientXY(c.startRow,c.startCol,c.endRow,c.endCol,b)},calculateRowColFromClientXY:function(a,b,c,d,e){var f=parseInt(e.clientX,10);e=parseInt(e.clientY,10);for(var g=-1,h=-1;a<=c;a++){for(var k=b;k<=d;k++){var l=this.cellObjArr[a][k].offset(!1);-1==g&&e<l.bottom&&(g=a);-1==h&&f<l.right&&(h=k);if(-1!=g&&-1!=h)break}if(-1!=g&&-1!=h)break}return[g,h]},setupEvent_outline:function(){this.outline=new Pudd.Util.Outline(this.node);
this.outline.initOutline();var a=this;this.outline.registerEventCallback(function(b,c){if(a.resizingObj)if(a.resizingObj.curSelected=!0,2==c){a.resizingObj.startClientX=parseInt(b.clientX,10);a.resizingObj.startClientY=parseInt(b.clientY,10);a.resizingObj.node.style.width=a.resizingObj.node.offsetWidth+"px";a.resizingObj.moveColClassName=a.resizingObj.colClassName;a.resizingObj.ptlContentObj=null;a.resizingObj.ptlContentHeight=null;var d=Pudd.querySelectAll(".ptl_content",a.resizingObj.node);0<d.length&&
(a.resizingObj.ptlContentObj=Pudd.getInstance(d[0]),a.resizingObj.ptlContentHeight=d[0].offsetHeight)}else 5==c?(a.resizingObj.startClientX=parseInt(b.clientX,10),a.resizingObj.node.style.width=a.resizingObj.node.offsetWidth+"px",a.resizingObj.moveColClassName=a.resizingObj.colClassName):6==c&&(a.resizingObj.startClientY=parseInt(b.clientY,10),a.resizingObj.ptlContentObj=null,a.resizingObj.ptlContentHeight=null,d=Pudd.querySelectAll(".ptl_content",a.resizingObj.node),0<d.length&&(a.resizingObj.ptlContentObj=
Pudd.getInstance(d[0]),a.resizingObj.ptlContentHeight=d[0].offsetHeight))},function(b,c){if(a.resizingObj)if(a.resizingObj.addClass("noAnimated"),2==c){var d=a.calculateRowColFromClientXY(a.resizingObj.startRow,a.resizingObj.startCol,a.rowCount-1,a.colCount-1,b),e=d[0],d=d[1];a.calculateReszieX(e,d,b);a.calculateReszieY(e,d,b);a.showLayerOutline(a.resizingObj.node)}else 5==c?(d=a.calculateRowColFromClientXY(a.resizingObj.startRow,a.resizingObj.startCol,a.rowCount-1,a.colCount-1,b),e=d[0],d=d[1],a.calculateReszieX(e,
d,b)):6==c&&(d=a.calculateRowColFromClientXY(a.resizingObj.startRow,a.resizingObj.startCol,a.rowCount-1,a.colCount-1,b),e=d[0],d=d[1],a.calculateReszieY(e,d,b))},function(b,c){if(a.resizingObj){a.resizingObj.node.style.width="";a.resizingObj.node.style.height="";if(null!=a.resizingObj.resizeEndRow){var d=a.resizingObj.resizeEndRow-a.resizingObj.startRow+1;a.resizingObj.removeClass(a.resizingObj.rowClassName);a.resizingObj.addClass("row"+d);a.resizingObj.rowClassName="row"+d;a.resizingObj.endRow=a.resizingObj.resizeEndRow}null!=
a.resizingObj.resizeEndCol?(a.resizingObj.removeClass(a.resizingObj.moveColClassName),d=a.resizingObj.resizeEndCol-a.resizingObj.startCol+1,a.resizingObj.removeClass(a.resizingObj.colClassName),a.resizingObj.addClass("col"+d),a.resizingObj.colClassName="col"+d,a.resizingObj.endCol=a.resizingObj.resizeEndCol):(a.resizingObj.removeClass(a.resizingObj.moveColClassName),a.resizingObj.addClass(a.resizingObj.colClassName));if(null!=a.resizingObj.resizeEndRow||null!=a.resizingObj.resizeEndCol)a.resizingObj.offWidth=
a.resizingObj.node.offsetWidth,a.resizingObj.offHeight=a.resizingObj.node.offsetHeight,window.setTimeout(function(){a.showLayerOutline(a.resizingObj.node)},0);a.resizingObj.curSelected=null;a.resizingObj.startClientX=null;a.resizingObj.startClientY=null;a.resizingObj.resizeEndRow=null;a.resizingObj.resizeEndCol=null;a.removeAllCellClass("setGrid");a.resizingObj.ptlContentObj&&(a.resizingObj.ptlContentObj.node.style.height="",a.resizingObj.ptlContentObj=null,a.resizingObj.ptlContentHeight=null);a.resizingObj.removeClass("noAnimated");
a.checkPortletTableArea()}})},calculateReszieX:function(a,b,c){a=this.resizingObj.maxCol;if(!(0<b-this.resizingObj.startCol-a+1)){var d=this.resizingObj.minCol;0>b-this.resizingObj.startCol-d+1||(this.resizingObj.endCol<b?this.checkSelectedArea(this.resizingObj.startRow,this.resizingObj.startCol,this.resizingObj.endRow,b)||(this.resizingObj.resizeEndCol=b,this.resizeOutline(5,c,d,null),this.calculateReszieColClassName(b,d,a)):(this.resizingObj.resizeEndCol=b,this.resizeOutline(5,c,d,null),this.calculateReszieColClassName(b,
d,a)))}},calculateReszieColClassName:function(a,b,c){a-=this.resizingObj.startCol;a<b&&(a=b);a>c&&(a=c);this.resizingObj.removeClass(this.resizingObj.moveColClassName);this.resizingObj.addClass("col"+a);this.resizingObj.moveColClassName="col"+a},calculateReszieY:function(a,b,c){0<a-this.resizingObj.startRow-this.resizingObj.maxRow+1||(b=this.resizingObj.minRow,0>a-this.resizingObj.startRow-b+1||(this.resizingObj.endRow<a?this.checkSelectedArea(this.resizingObj.startRow,this.resizingObj.startCol,a,
this.resizingObj.endCol)||(this.resizingObj.resizeEndRow=a,this.resizeOutline(6,c,null,b)):(this.resizingObj.resizeEndRow=a,this.resizeOutline(6,c,null,b))))},resizeOutline:function(a,b,c,d){var e=this.unitWidth,f=this.unitHeight;c&&(e=c*this.unitWidth+(c-1)*this.unitSpace);d&&(f=d*this.unitHeight+(d-1)*this.unitSpace);2!=a&&(5==a?(f=parseInt(b.clientX,10)-this.resizingObj.startClientX,a=this.resizingObj.node.offsetLeft,b=this.resizingObj.node.offsetTop,c=a+this.resizingObj.offWidth+f,d=b+this.resizingObj.offHeight,
a+e<c&&(this.outline.showOutline(!0,!0,!1,!1,a,b,c,d),this.resizingObj.node.style.width=c-a+"px")):6==a&&(e=parseInt(b.clientY,10)-this.resizingObj.startClientY,a=this.resizingObj.node.offsetLeft,b=this.resizingObj.node.offsetTop,c=a+this.resizingObj.offWidth,d=b+this.resizingObj.offHeight+e,b+f<d&&(this.outline.showOutline(!0,!0,!1,!1,a,b,c,d),this.resizingObj.node.style.height=d-b+"px",this.resizingObj.ptlContentObj&&(this.resizingObj.ptlContentObj.node.style.height=this.resizingObj.ptlContentHeight+
e+"px"))))},checkPortletTableArea:function(){var a=0;if(0<this.layerObjArr.length){for(var b=0;b<this.layerObjArr.length;b++){var c=this.layerObjArr[b];a<c.endRow&&(a=c.endRow)}this.rowCount-1<c.endRow+this.autoIncreaseCheck&&this.increaseTableCell(a)}},increaseTableCell:function(a){var b=this.rowCount;for(a=(parseInt(a/this.autoIncreaseUnit,10)+2)*this.autoIncreaseUnit;b<a;b++){var c=document.createElement("tr");this.tableObj.append(c);this.cellObjArr[b]=[];for(var d=0;d<this.colCount;d++){var e=
document.createElement("td");c.appendChild(e);e=new Pudd.Element(e);e.posRow=b;e.posCol=d;this.cellObjArr[b][d]=e}}this.rowCount=a;this.setupEvent_cell()},checkPortletDuplicate:function(){var a=this;this.thumbObjArr.forEach(function(b,c){if(!b.allowDuplicate){for(var d=b.addCount=0;d<a.layerObjArr.length;d++)a.layerObjArr[d].portletBoxType==b.portletBoxType&&b.addCount++;0==b.addCount?(b.attr("draggable","true"),b.style("cursor","move")):(b.attr("draggable","false"),b.style("cursor","not-allowed"))}})},
checkSelectedArea:function(a,b,c,d){if(this.rowCount<=c||this.colCount<=d)return!0;for(var e=0;e<this.layerObjArr.length;e++)if(!this.layerObjArr[e].curSelected){var f=this.layerObjArr[e].startRow,g=this.layerObjArr[e].startCol,h=this.layerObjArr[e].endRow,k=this.layerObjArr[e].endCol;if(f<=c&&c<=h&&g<=d&&d<=k||f<=c&&c<=h&&g<=b&&b<=k||f<=a&&a<=h&&g<=d&&d<=k||f<=a&&a<=h&&g<=b&&b<=k||f<=c&&c<=h&&b<=g&&k<=d||f<=a&&a<=h&&b<=g&&k<=d||a<=f&&h<=c&&g<=d&&d<=k||a<=f&&h<=c&&g<=b&&b<=k||a<=f&&h<=c&&b<=g&&k<=
d)return!0}return!1},getPortletData:function(){var a;a='{ "arrPortlet" : [';for(var b=0;b<this.layerObjArr.length;b++){var c=this.layerObjArr[b];0!=b&&(a+=",");a+="{";a+='"boxType" : "'+c.portletBoxType+'"';a+=",";a+='"left" : '+c.node.offsetLeft;a+=",";a+='"top" : '+c.node.offsetTop;a+=",";a+='"startRow" : '+c.startRow;a+=",";a+='"startCol" : '+c.startCol;a+=",";a+='"sizeRow" : '+(c.endRow-c.startRow+1);a+=",";a+='"sizeCol" : '+(c.endCol-c.startCol+1);a+=",";if(c.portletInfo){var d=JSON.stringify(c.portletInfo);
a+='"portletInfo" : '+d}else a+='"portletInfo" : ""';a+=",";a="undefined"===typeof c.portletKey?a+'"portletKey" : ""':a+('"portletKey" : '+c.portletKey);a+="}"}return a+"]}"},getPortletHeight:function(){for(var a=0,b=0;b<this.layerObjArr.length;b++){var c=this.layerObjArr[b],c=c.node.offsetTop+c.node.offsetHeight;a<c&&(a=c)}return a}}});

Pudd.Element.Component.SelectiveInput=Pudd.invent({init:function(a){this.listBox=this.divDummyTextObj=this.selectFieldObj=null;this.autoCompleteCall=!1;this.constructor.call(this,a)},inherit:Pudd.Element.Component,extend:{setup:function(a){this.setupContainer();this.addClass(Pudd.Config.className.PUDD_UI_selective_input);this.optObject=this.parseOption(a);this.setupSelectField(this.optObject);this.setupDivDummyText();this.setupAutoComplete();this.setupEvent();return this},parseOption:function(a){a?
a.autoCompleteCallback="function"===typeof a.autoCompleteCallback?a.autoCompleteCallback:function(){}:a={dataSource:null,dataValueField:null,dataTextField:null,disabled:!1,editButton:!0,deleteButton:!0,textMarking:!1,emailValidate:!1,autoCompleteCallback:function(){}};return a},setupSelectField:function(a){a=document.createElement("div");a.className="selectField";this.append(a);this.selectFieldObj=new Pudd.Element(a);this.optObject.disabled&&this.selectFieldObj.addClass("disabled");this.setupData(this.optObject)},
setupData:function(a){var b=a.dataSource,f=a.dataValueField,e=a.dataTextField;if(b&&f&&e&&(b=b.read(!0),0!=b.length))for(var d in b){var c=b[d],l=a.dataClassField;l?this.addChildSet(!1,c[f],c[e],c[l]):this.addChildSet(!1,c[f],c[e])}},setupDivDummyText:function(){var a=document.getElementById("dummyTextDiv");a?this.divDummyTextObj=Pudd.getInstance(a):(a=document.createElement("div"),a.id="dummyTextDiv",a.style.position="absolute",a.style.left="-1000px",a.style.top="-1000px",document.body.appendChild(a),
spanDummyTextTag=document.createElement("span"),spanDummyTextTag.style.fontFamily='"\ub3cb\uc6c0",Dotum,"\uad74\ub9bc",Gulim,sans-serif !important',spanDummyTextTag.style.textIndent="0px !important",spanDummyTextTag.style.fontSize="12px",a.appendChild(spanDummyTextTag),this.divDummyTextObj=new Pudd.Element(a),this.divDummyTextObj.spanDummyTextObj=new Pudd.Element(spanDummyTextTag))},setupAutoComplete:function(){this.listBox=new Pudd.Util.ListBox(this.node);this.listBox.initListBox("autoComplete")},
addChildSet:function(a,b,f,e){var d=document.createElement("span");d.className="addresObjView";var c=document.createElement("span");c.className="addresObjViewText";d.appendChild(c);var l=null;this.optObject.editButton&&(l=document.createElement("a"),l.className="btn_edit",l.href="javascript:;",l.title="\uc218\uc815",d.appendChild(l));var g=null;this.optObject.deleteButton&&(g=document.createElement("a"),g.className="btn_del",g.href="javascript:;",g.title="\uc0ad\uc81c",d.appendChild(g));var n=document.createElement("div");
n.className="addr_input";d.appendChild(n);var m=document.createElement("input");m.className="editInput";m.setAttribute("type","text");m.setAttribute("autocomplete","off");n.appendChild(m);this.selectFieldObj.append(d);var h=new Pudd.Element(d),c=new Pudd.Element(c),k=new Pudd.Element(m);h.spanTextObj=c;h.inputObj=k;e&&h.addClass(e);a&&(h.addClass("write"),k.node.select());f&&c.text(f);b&&(k.val(b),this.emailValidate(b,h));h.on("click",function(a){a.preventDefault();a.stopPropagation()}.bind(this));
if(this.optObject.editButton)(new Pudd.Element(l)).on("click",function(a){h.addClass("edit");k.node.select();k.prevVal=k.val()}.bind(this));if(this.optObject.deleteButton)(new Pudd.Element(g)).on("click",function(a){this.selectFieldObj.node.removeChild(d);window.setTimeout(function(){this.selectiveInputCustomEvent(null)}.bind(this),10)}.bind(this));k.on("keydown",function(a){this.divDummyTextObj.spanDummyTextObj.text(k.val());a=this.divDummyTextObj.spanDummyTextObj.node.offsetWidth;h.hasClass("edit")?
h.node.offsetWidth<a+40&&(h.node.style.width=a+40+"px"):h.node.style.width=a+40+"px"}.bind(this));k.on("keyup",function(a){a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_TOP||a.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM?a.preventDefault():a.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER?(a=k.val().trim(),""==a?this.selectFieldObj.node.removeChild(d):this.restoreInputArea(!0,a,a),this.listBox.showListBox(!1,null)):a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ESCAPE&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_LEFT&&
a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_RIGHT&&this.autoCompleteProcess(k)}.bind(this));k.on("blur",function(a){if(!this.listBox.getDisplayListBox()||!this.listBox.listObj.hover)if(h.hasClass("write")||h.hasClass("edit"))a=k.val().trim(),""==a?this.selectFieldObj.node.removeChild(d):this.restoreInputArea(!0,a,a),this.listBox.showListBox(!1,null)}.bind(this))},restoreInputArea:function(a,b,f){var e=Pudd.querySelectAll(".write",this.node),d=Pudd.querySelectAll(".edit",this.node);if(1==e.length||
1==d.length){var c=null;if(1==e.length)c=Pudd.getInstance(e[0]);else if(1==d.length)c=Pudd.getInstance(d[0]);else return;e=c.spanTextObj;d=c.inputObj;c.removeClass("write");c.removeClass("edit");c.node.style.width="";!a||d.prevVal&&d.prevVal==b||(this.emailValidate(b,c),e.text(f),d.val(b));d.node.blur();window.setTimeout(function(){this.selectiveInputCustomEvent(c)}.bind(this),10)}},emailValidate:function(a,b){this.optObject.emailValidate&&""!=a&&(/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(a)?
b.removeClass("error"):b.addClass("error"))},autoCompleteProcess:function(a){this.autoCompleteCall||(this.autoCompleteCall=!0,this.listBox.removeAllOptionItem(),a=a.val().trim(),""==a?this.autoCompleteCall=!1:this.optObject.autoCompleteCallback.call(this,a,this.node.id)||(this.autoCompleteCall=!1))},autoCompleteResult:function(a,b){if(b){var f=b.dataSource,e=b.dataValueField,d=b.dataTextField;if(f&&e&&d&&(f=f.read(!0),0!=f.length)){for(var c in f){var l=f[c],g=l[d],g=g.replace(/</gi,"&lt;"),g=g.replace(/>/gi,
"&gt;");this.optObject.textMarking&&(this.checkSpecialCharacter(a)||(g=this.replaceTextMarking(a,g)));this.listBox.appendOptionItem(l[e],g,!0)}this.listBox.showListBox(!0,this);this.listBox.eventListBox(function(a,b){this.restoreInputArea(!0,a,b)}.bind(this),function(a){}.bind(this),function(a){this.listBox.showListBox(!1,null)}.bind(this))}}this.autoCompleteCall=!1},checkSpecialCharacter:function(a){return/[`~!#$%^*|\\\'\"\/?\[\]]/gi.test(a)?!0:!1},replaceTextMarking:function(a,b){return b=b.replace(new RegExp(a,
"g"),function(a){return'<span class="marking">'+a+"</span>"})},setupEvent:function(){if(this.selectFieldObj)this.selectFieldObj.on("click",function(a){this.optObject.disabled||this.addChildSet(!0)}.bind(this));var a=Pudd.getInstance(document);a.on("mousewheel",function(a){}.bind(this));a.on("keydown",function(a){!this.listBox.getDisplayListBox()||a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_TOP&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM&&a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ENTER&&
a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ESCAPE||(a.preventDefault(),this.listBox.eventKeyDown(a),a.keyCode!=Pudd.Config["const"].ID_KEYCODE_ENTER&&a.keyCode==Pudd.Config["const"].ID_KEYCODE_ESCAPE&&this.listBox.showListBox(!1,null))}.bind(this))},getData:function(){var a=[];Pudd.querySelectAll(".addresObjView",this.node).forEach(function(b,f){var e=Pudd.getInstance(b),d=e.spanTextObj.text(),e=e.inputObj.val(),c={};c.value=e;c.text=d;a.push(c)});return a},getInputList:function(){var a=[];Pudd.querySelectAll(".addresObjView",
this.node).forEach(function(b,f){var e=Pudd.getInstance(b);a.push(e)});return a},setData:function(a){Pudd.querySelectAll(".addresObjView",this.node).forEach(function(a,f){Pudd.getInstance(a).parent().node.removeChild(a)});this.setupData(a)},selectiveInputCustomEvent:function(a){var b={};b.spanObj=a;a=new CustomEvent("Event",{detail:b});a.initEvent("selectiveInputChange",!0,!0);this.node.dispatchEvent(a)}}});

Pudd.Element.Component.Dialog=Pudd.invent({init:function(a){this.headerObj=this.wrapObj=null;this.constructor.call(this,a)},inherit:Pudd.Element.Component,extend:{setup:function(a){this.setupContainer();this.addClass(Pudd.Config.className.PUDD_UI_dialog);this.optObject=this.parseOption(a);this.setupDialog(this.optObject);this.setupWrap(this.optObject);this.setupModalBackground(this.optObject);this.showDialog(!0);this.setupEvent();return this},parseOption:function(a){a?(a.width=this.getPositiveNumber(a.width,
500),a.height=this.getPositiveNumber(a.height,600),a.header&&(a.header.title="string"===typeof a.header.title?a.header.title:null,a.header.align="string"===typeof a.header.align?a.header.align:null,a.header.align&&(a.header.align=a.header.align.toLowerCase().trim(),"left"!=a.header.align&&"center"!=a.header.align&&"right"!=a.header.align&&(a.header.align="left")),a.header.closeButton="boolean"===typeof a.header.closeButton?a.header.closeButton:!0)):a={width:300,height:400,header:null,body:null,footer:null};
return a},setupDialog:function(a){this.hide();this.addClass("zin1")},setupWrap:function(a){var c=document.createElement("div");this.append(c);this.wrapObj=new Pudd.Element(c);this.wrapObj.addClass("PUDD-UI-Wrap");this.wrapObj.style("width",a.width+"px");if(a.header){var b=document.createElement("div");b.className="PUDD-UI-Head";c.appendChild(b);this.headerObj=new Pudd.Element(b);this.headerObj.attr("draggable","true");this.headerObj.style("cursor","move");if(a.header.title){var d=document.createElement("h1");
d.textContent=a.header.title;b.appendChild(d);d.style.textAlign=a.header.align;"left"==a.header.align?d.style.marginLeft="10px":"right"==a.header.align&&(d.style.marginRight="30px")}a.header.closeButton&&(d=document.createElement("a"),d.className="PUDD-UI-Clo",d.href="javascript:;",b.appendChild(d),(new Pudd.Element(d)).on("click",function(a){this.showDialog(!1)}.bind(this)))}a.body&&(b=document.createElement("div"),b.className="PUDD-UI-Con",c.appendChild(b),d=document.createElement("div"),d.style.height=
a.height+"px",b.appendChild(d),a.body.content&&(d.style.textAlign="left",d.innerHTML=a.body.content));if(a.footer&&(b=document.createElement("div"),b.className="PUDD-UI-Foot",c.appendChild(b),a.footer.buttons))for(c=0;c<a.footer.buttons.length;c++){var d=a.footer.buttons[c],e=document.createElement("input");e.setAttribute("type","button");b.appendChild(e);(new Pudd.Element.Control.Button(e)).setup(d)}this.positionDialog(a);Pudd.initControlByNode(this.node)},setupModalBackground:function(a){a=document.createElement("div");
a.className="PUDD-UI-Modal";this.append(a)},positionDialog:function(a){var c=document.documentElement.clientWidth-a.width,c=parseInt(c/2,10),b=document.documentElement.clientHeight-a.height;a.header&&(b=b-23-8-22);a.body&&(b=b-20-20);a.footer&&(b=b-12-38);b=parseInt(b/2,10);this.wrapObj.style("left",c+"px");this.wrapObj.style("top",b+"px");this.wrapObj.left=c;this.wrapObj.top=b},showDialog:function(a){a?(this.wrapObj.addClass("bounceIn2"),this.show()):(this.wrapObj.removeClass("bounceIn2"),this.hide(),
this.parent().node.removeChild(this.node))},setupEvent:function(){function a(a){b.positionDialog(b.optObject)}if(this.headerObj){this.headerObj.on("dragstart",function(a){a.preventDefault();this.headerObj.startClientX=parseInt(a.clientX,10);this.headerObj.startClientY=parseInt(a.clientY,10)}.bind(this));var c=Pudd.getInstance(document);c.on("mousemove",function(a){if(null!=this.headerObj.startClientX&&null!=this.headerObj.startClientY){var b=parseInt(a.clientX,10)-this.headerObj.startClientX;a=parseInt(a.clientY,
10)-this.headerObj.startClientY;a=this.wrapObj.top+a;this.wrapObj.style("left",this.wrapObj.left+b+"px");this.wrapObj.style("top",a+"px")}}.bind(this));c.on("mouseup",function(a){if(null!=this.headerObj.startClientX&&null!=this.headerObj.startClientY){var b=parseInt(a.clientX,10)-this.headerObj.startClientX;a=parseInt(a.clientY,10)-this.headerObj.startClientY;this.wrapObj.left+=b;this.wrapObj.top+=a;this.headerObj.startClientX=null;this.headerObj.startClientY=null}}.bind(this))}var b=this;window.addEventListener?
window.addEventListener("resize",a,!1):window.attachEvent&&window.attachEvent("onresize",a)}}});

Pudd.Data=Pudd.invent({init:function(){this.totalCount=this.pageSize=this.page=this.dataPage=this.data=null},extend:{setDataPage:function(a){if(this.data)if(a)this.dataPage=this.data;else{var b=(this.page-1)*this.pageSize;a=this.page*this.pageSize;this.dataPage=[];for(var c=0;b<a&&!(this.totalCount<b+1);b++)this.dataPage[c++]=this.data[b]}},getPositiveNumber:function(a,b){return"number"!==typeof a?isNaN(a)?b:parseInt(a,10):0>=a?b:a}}});

Pudd.Data.DataSource=Pudd.invent({init:function(a){this.constructor.call(this);if("object"===typeof a)if(this.page=this.getPositiveNumber(a.page,1),this.data=a.data instanceof Array?a.data:null,this.pageSize=a.pageSize,"number"!==typeof this.pageSize&&(isNaN(this.pageSize)?this.pageSize=10:this.pageSize=parseInt(this.pageSize,10)),this.serverPaging="boolean"===typeof a.serverPaging?a.serverPaging:!1,this.data)this.totalCount=this.data.length;else{if(this.request="object"===typeof a.request?a.request:
null)this.request.url="string"===typeof this.request.url?this.request.url:"",this.request.type="string"===typeof this.request.type?this.request.type.toLowerCase().trim():"post",this.request.dataType="string"===typeof this.request.dataType?this.request.dataType.toLowerCase().trim():"html",this.request.data="object"===typeof this.request.data?this.request.data:{},this.request.async=!1,this.request.timeout="number"===typeof this.request.timeout&&0<this.request.timeout?this.request.timeout:3E4;this.result=
"object"===typeof a.result?a.result:null}},inherit:Pudd.Data,extend:{read:function(a){this.data?this.serverPaging?this.requestData():this.setDataPage(a):this.requestData();return this.dataPage},requestData:function(){if(this.request){this.request.data.page=this.page;this.request.data.pageSize=this.pageSize;"function"===typeof this.request.parameterMapping&&this.request.parameterMapping.call(this,this.request.data);var a=this;Pudd.ajax({url:this.request.url,type:this.request.type,dataType:this.request.dataType,
data:this.request.data,async:this.request.async,success:function(b){a.responseSuccess(b)},error:function(b){a.responseError(b)}})}},responseSuccess:function(a){this.result&&("function"===typeof this.result.data&&(this.data=this.result.data.call(this,a),this.dataPage=this.data instanceof Array?this.data:this.data=null),"function"===typeof this.result.totalCount&&(this.totalCount=this.result.totalCount.call(this,a),!this.data instanceof Array&&(this.totalCount=null)))},responseError:function(a){this.result&&
"function"===typeof this.result.error?this.result.error.call(this,a):alert("response error, status : "+a.status)}}});

Pudd.ajax=function(a){if("object"===typeof a){var d="string"===typeof a.url?a.url:"";if(""!=d){var c="string"===typeof a.type?a.type.toLowerCase().trim():"post",g="string"===typeof a.dataType?a.dataType.toLowerCase().trim():"html",e="object"===typeof a.data?a.data:{},k="boolean"===typeof a.async?a.async:!0,l="number"===typeof a.timeout&&0<a.timeout?a.timeout:3E4,m="function"===typeof a.success?a.success:function(){},n="function"===typeof a.error?a.error:function(){};if("object"===typeof e){a=[];for(var h in e)a.push(h+
"="+encodeURIComponent(e[h]));var f=a.join("&");"get"==c&&""!=f&&(d+="?"+encodeURI(f))}var b=new window.XMLHttpRequest;b.open(c,d,k);"post"==c&&b.setRequestHeader("Content-type","application/x-www-form-urlencoded");var p=window.setTimeout(function(){b.abort()},l);b.onreadystatechange=function(){if(4==b.readyState)if(clearTimeout(p),200==b.status){var a="xml"==g?b.responseXML:b.responseText;if("json"==g&&window.JSON&&window.JSON.parse)try{a=window.JSON.parse(a)}catch(q){a=null}m(a)}else n({status:b.status,
msg:"response error"})};"post"==c?b.send(f):b.send()}}};

Pudd.Util=Pudd.invent({init:function(){},extend:{}});

Pudd.Util.Date=Pudd.invent({init:function(){this.date=new Date;this.calendarCurMatrix=this.calendarMatrix=null;this.constructor.call(this)},inherit:Pudd.Util,extend:{reset:function(a,b,d){this.date=new Date(a,b-1,d);this.calendarCurMatrix=this.calendarMatrix=null},getYear:function(){return this.date.getFullYear()},getYearString:function(){return""+this.date.getFullYear()},getMonth:function(){return this.date.getMonth()+1},getMonthString:function(){var a=this.date.getMonth()+1;10>a&&(a="0"+a);return a},
getDate:function(){return this.date.getDate()},getFormatDateString:function(a){var b=a.getFullYear(),d=a.getMonth()+1;10>d&&(d="0"+d);a=a.getDate();10>a&&(a="0"+a);return[b,d,a].join("-")},getFormatMonthString:function(a){var b=a.getFullYear();a=a.getMonth()+1;10>a&&(a="0"+a);return[b,a].join("-")},getPrevMonthLastDay:function(){var a=this.date.getFullYear(),b=this.date.getMonth();0==b?(a--,b=12):b--;return new Date(a,b+1,0)},getCalendarMatrix:function(){var a=[],b=[],d=this.getYear(),f=this.getMonth(),
h=new Date(d,f-1,1),f=new Date(d,f,0),d=f.getDate(),h=h.getDay();f.getDay();for(var f=this.getPrevMonthLastDay().getDate()-h+1,g=1,l=1,k=!1,c=0;6>c;c++){a[c]=[];b[c]=[];for(var e=0;7>e;e++)k?d<g?(a[c][e]=l++,b[c][e]=0):(a[c][e]=g,b[c][e]=g,g++):e==h?(k=!0,a[c][e]=g,b[c][e]=g,g++):(a[c][e]=f++,b[c][e]=0)}this.calendarMatrix=a;this.calendarCurMatrix=b}}});

Pudd.Util.ListBox=Pudd.invent({init:function(b){this.listHeight=this.listChildrenObj=this.listUlObj=this.listObj=null;this.parentTag=b;this.constructor.call(this)},inherit:Pudd.Util,extend:{initListBox:function(b){this.listChildrenObj=[];var a=document.createElement("div");document.body.appendChild(a);a.style.position="absolute";a.style.zIndex="150";this.listObj=new Pudd.Element(a);b&&""!=b&&this.listObj.addClass(b);b=document.createElement("ul");a.appendChild(b);this.listUlObj=new Pudd.Element(b)},
appendOptionItem:function(b,a,d){var c=document.createElement("li");this.listUlObj.append(c);c=new Pudd.Element(c);this.listChildrenObj.push(c);d?c.node.innerHTML=a:c.text(a);c.idx=b},removeAllOptionItem:function(){for(;0<this.listChildrenObj.length;){var b=this.listChildrenObj.shift();this.listUlObj.node.removeChild(b.node)}},setOptionSelected:function(b){if(0!=this.listChildrenObj.length&&!(this.listChildrenObj.length<=b))for(var a=0;a<this.listChildrenObj.length;a++)a==b?this.listChildrenObj[a].addClass("on"):
this.listChildrenObj[a].removeClass("on")},getOptionText:function(b){return this.listChildrenObj[b].text()},showListBox:function(b,a){if(b){if(a){var d=a.node.getBoundingClientRect(),c=a.node.offsetHeight;null==this.listHeight&&(this.listHeight=Pudd.Fn.getLayerHeight(this.listObj));Pudd.Fn.showLayer(b,this.listObj,this.listHeight,d,c)}}else this.resetListChildren(),Pudd.Fn.showLayer(b,this.listObj,null,null,null)},resetListChildren:function(){this.listChildrenObj.forEach(function(b,a){b.style("background",
null)})},getListBoxHover:function(){return this.listObj.hover},getDisplayListBox:function(){if(0==this.listChildrenObj.length)return!1;var b=this.listObj.style("display"),b=b.toLowerCase().trim();return"block"==b?!0:!1},eventListBox:function(b,a,d){function c(a){d&&"function"===typeof d&&d.call(this,a)}Pudd.Fn.eventHover(this.listObj);var e=this;this.listChildrenObj.forEach(function(a,c){a.on("click",function(a){e.listChildrenObj.forEach(function(a,b){a.removeClass("on")});a=Pudd.getInstance(this);
a.addClass("on");e.showListBox(!1,null);b&&"function"===typeof b&&b.call(this,a.idx,a.text())})});this.listObj.on("scroll",function(b){a&&"function"===typeof a&&a.call(this,b)});window.addEventListener?window.addEventListener("resize",c,!1):window.attachEvent&&window.attachEvent("onresize",c)},eventKeyDown:function(b){if(0!=this.listChildrenObj.length)if(b.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_TOP||b.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_BOTTOM){var a;a=this.getListChildrenMarkBackground();
-1==a&&(a=this.getListChildrenMarkClass());b.keyCode==Pudd.Config["const"].ID_KEYCODE_ARROW_TOP?(0<=a&&this.listChildrenObj[a].style("background",null),0>=a?a=this.listChildrenObj.length-1:a--):(0<=a&&this.listChildrenObj[a].style("background",null),a<this.listChildrenObj.length-1?a++:a=0);this.listChildrenObj[a].style("background","#f2f2f2");Pudd.Fn.scrollPosSink(this.listObj,this.listChildrenObj[a])}else b.keyCode==Pudd.Config["const"].ID_KEYCODE_ENTER&&(a=this.getListChildrenMarkBackground(),-1==
a||this.listChildrenObj.length<=a||this.listChildrenObj[a].fire("click",!0,!0))},getListChildrenMarkBackground:function(){for(var b in this.listChildrenObj){var a=this.listChildrenObj[b].style("background"),a=a.toLowerCase().trim();if(""!=a)return b}return-1},getListChildrenMarkClass:function(){for(var b in this.listChildrenObj)if(this.listChildrenObj[b].hasClass("on"))return b;return-1}}});

Pudd.Util.Outline=Pudd.invent({init:function(b){this.outlineLineArr=this.outlineRecObjArr=this.outlineRecArr=null;this.basisMinLine=6;this.basisMinCenterRec=30;this.parentTag=b;this.constructor.call(this)},inherit:Pudd.Util,extend:{initOutline:function(){this.outlineRecArr=[];this.outlineRecObjArr=[];for(var b=0;8>b;b++){var c=document.createElement("div");this.parentTag.appendChild(c);this.outlineRecArr.push(c);c=new Pudd.Element(c);this.outlineRecObjArr.push(c);c.addClass("outlineRecLayer");c.style("display:none;position:absolute;z-index:1001;width:5px;height:5px;border:1px solid #0000ff;background-color:#ffffff")}this.outlineLineArr=
[];for(b=0;4>b;b++)c=document.createElement("div"),this.parentTag.appendChild(c),this.outlineLineArr.push(c),c=new Pudd.Element(c),0==b||2==b?c.style("display:none;position:absolute;z-index:1001;width:1px;height:1px;border-left:1px solid #0000ff;border-top:0px;border-right:0px;border-bottom:0px;"):c.style("display:none;position:absolute;z-index:1001;width:1px;height:1px;border-left:0px;border-top:1px solid #0000ff;border-right:0px;border-bottom:0px;")},registerEventCallback:function(b,c,g){var e=
this;this.outlineRecObjArr[2].on("mousedown",function(d){d.preventDefault();b.call(e,d,2);e.setupEvent(c,g,2)});this.outlineRecObjArr[5].on("mousedown",function(d){d.preventDefault();b.call(e,d,5);e.setupEvent(c,g,5)});this.outlineRecObjArr[6].on("mousedown",function(d){d.preventDefault();b.call(e,d,6);e.setupEvent(c,g,6)})},setupEvent:function(b,c,g){var e=this,d=Pudd.getInstance(this.parentTag),f={mouseMove:function(c){c.preventDefault();window.getSelection().removeAllRanges();b.call(e,c,g)},mouseUp:function(b){b.preventDefault();
d.off("mousemove",f.mouseMove);d.off("mouseup",f.mouseUp);c.call(e,b,g)}};d.on("mousemove",f.mouseMove);d.on("mouseup",f.mouseUp)},showOutline:function(b,c,g,e,d,f,h,k){for(var a=0;8>a;a++)if(null==this.outlineRecArr[a])return!1;for(a=0;4>a;a++){if(null==this.outlineLineArr[a])return!1;this.outlineLineArr[a].style.borderStyle=e?"dotted":"solid"}if(b){this.outlineRecArr[0].style.left=d-3+"px";this.outlineRecArr[0].style.top=f-3+"px";this.outlineRecArr[0].style.backgroundColor="#c0c0c0";this.outlineRecArr[0].style.cursor=
"default";this.outlineRecArr[1].style.left=h-4+"px";this.outlineRecArr[1].style.top=f-3+"px";this.outlineRecArr[1].style.backgroundColor="#c0c0c0";this.outlineRecArr[1].style.cursor="default";this.outlineRecArr[2].style.left=h-4+"px";this.outlineRecArr[2].style.top=k-4+"px";this.outlineRecArr[2].style.backgroundColor="#ffffff";this.outlineRecArr[2].style.cursor="NW-resize";this.outlineRecArr[3].style.left=d-3+"px";this.outlineRecArr[3].style.top=k-4+"px";this.outlineRecArr[3].style.backgroundColor=
"#c0c0c0";this.outlineRecArr[3].style.cursor="default";this.outlineRecArr[0].style.display="";this.outlineRecArr[1].style.display="";this.outlineRecArr[2].style.display="";this.outlineRecArr[3].style.display="";b=h-d;e=k-f;b>this.basisMinCenterRec?(a=d+b/2-3,this.outlineRecArr[4].style.left=a+"px",this.outlineRecArr[4].style.top=f-3+"px",this.outlineRecArr[4].style.display="",this.outlineRecArr[4].style.backgroundColor="#c0c0c0",this.outlineRecArr[4].style.cursor="default",this.outlineRecArr[6].style.left=
a+"px",this.outlineRecArr[6].style.top=k-4+"px",this.outlineRecArr[6].style.display="",this.outlineRecArr[6].style.backgroundColor="#ffffff",this.outlineRecArr[6].style.cursor="N-resize"):(this.outlineRecArr[4].style.display="none",this.outlineRecArr[6].style.display="none");e>this.basisMinCenterRec?(a=f+e/2-3,this.outlineRecArr[5].style.left=h-4+"px",this.outlineRecArr[5].style.top=a+"px",this.outlineRecArr[5].style.display="",this.outlineRecArr[5].style.backgroundColor="#ffffff",this.outlineRecArr[5].style.cursor=
"E-resize",this.outlineRecArr[7].style.left=d-3+"px",this.outlineRecArr[7].style.top=a+"px",this.outlineRecArr[7].style.display="",this.outlineRecArr[7].style.backgroundColor="#c0c0c0",this.outlineRecArr[7].style.cursor="default"):(this.outlineRecArr[5].style.display="none",this.outlineRecArr[7].style.display="none");e>this.basisMinLine?(c?(this.outlineLineArr[0].style.left=d+"px",this.outlineLineArr[0].style.top=f+3+"px",this.outlineLineArr[0].style.width="1px",this.outlineLineArr[0].style.height=
e-6+"px"):(this.outlineLineArr[0].style.left=d+"px",this.outlineLineArr[0].style.top=f+"px",this.outlineLineArr[0].style.width="1px",this.outlineLineArr[0].style.height=e+"px"),this.outlineLineArr[0].style.display=""):this.outlineLineArr[0].style.display="none";b>this.basisMinLine?(c?(this.outlineLineArr[1].style.left=d+3+"px",this.outlineLineArr[1].style.top=f+"px",this.outlineLineArr[1].style.width=b-6+"px"):(this.outlineLineArr[1].style.left=d+"px",this.outlineLineArr[1].style.top=f+"px",this.outlineLineArr[1].style.width=
b+"px"),this.outlineLineArr[1].style.display=""):this.outlineLineArr[1].style.display="none";e>this.basisMinLine?(c?(this.outlineLineArr[2].style.left=h-1+"px",this.outlineLineArr[2].style.top=f+3+"px",this.outlineLineArr[2].style.height=e-6+"px"):(this.outlineLineArr[2].style.left=h+"px",this.outlineLineArr[2].style.top=f+"px",this.outlineLineArr[2].style.height=e+"px"),this.outlineLineArr[2].style.display=""):this.outlineLineArr[2].style.display="none";b>this.basisMinLine?(c?(this.outlineLineArr[3].style.left=
d+3+"px",this.outlineLineArr[3].style.top=k-1+"px",this.outlineLineArr[3].style.width=b-6+"px"):(this.outlineLineArr[3].style.left=d+"px",this.outlineLineArr[3].style.top=k+"px",this.outlineLineArr[3].style.width=b+"px"),this.outlineLineArr[3].style.display=""):this.outlineLineArr[3].style.display="none";if(!c)for(a=0;8>a;a++)this.outlineRecArr[a].style.display="none";if(!g)for(a=0;4>a;a++)this.outlineLineArr[a].style.display="none"}else{for(a=0;8>a;a++)this.outlineRecArr[a].style.display="none";
for(a=0;4>a;a++)this.outlineLineArr[a].style.display="none"}}}});

Pudd.Util.TransView=Pudd.invent({init:function(){this.transViewObj=null;this.constructor.call(this)},inherit:Pudd.Util,extend:{initTransView:function(){var a=document.createElement("div");document.body.appendChild(a);this.transViewObj=new Pudd.Element(a);this.transViewObj.style("display:none;position:absolute;z-index:2002;border:0px;background-color:#ffffff;filter:alpha(opacity=0);opacity:0.0;")},showTransView:function(a){this.transViewObj||this.initTransView();a?(this.transViewObj.node.style.left=
"0px",this.transViewObj.node.style.top="0px",this.transViewObj.node.style.width=document.documentElement.clientWidth+"px",this.transViewObj.node.style.height=document.documentElement.clientHeight+"px",this.transViewObj.show()):this.transViewObj.hide()}}});

