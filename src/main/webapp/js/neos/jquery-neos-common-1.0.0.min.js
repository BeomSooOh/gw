!function(t){var e={itemBoxVar:{class:{div:"multi_sel",ul:"multibox",a:"close_btn"}},init:function(e){var i={key:[],data:[],width:0,addCallback:function(){},removeCallback:function(){}},e=t.extend(i,e),o=t(this).prop("id"),n=t(this);setItemBox=function(){t.fn.itemBox.options||(t.fn.itemBox.options=new Array),t.fn.itemBox.options[o]=e,n.itemBox("setBaseClass"),e.data.forEach(function(t,e){console.log(t),n.itemBox("add",t,"Y")})},setItemBox()},setBaseClass:function(){var e=t(this).prop("id"),i=t(this),o=i.itemBox("getItemBoxVar","class");Object.keys(o).length>0&&(i.hasClass(o.div)||i.addClass(o.div)),i.css("width",0==t.fn.itemBox.options[e].width?"95%":t.fn.itemBox.options[e].width)},add:function(e,i){i=i||"N";var o=t(this).prop("id"),n=t(this),a=t.fn.itemBox.options[o].key;t.fn.itemBox.options[o].dispData||(t.fn.itemBox.options[o].dispData=new Array),t.fn.itemBox.options[o].dispData.push(e),0==n.find("ul").length&&n.append(n.itemBox("getElementUl")[0]);var s="";a.forEach(function(t){e[t]?s+=e[t].toString():s+=t}),n.find("ul").append(n.itemBox("getElementLi",s)[0]),"N"==i&&n.itemBox("callCallback","addCallback",e)},getElementUl:function(){t(this).prop("id");var e=t(this).itemBox("getItemBoxVar","class"),i=t(document.createElement("ul"));return i.addClass(e.ul),i.css("width","90%"),i},getElementLi:function(e){var i=t(this).prop("id"),o=t(this),n=t(document.createElement("li"));return n.append(e),n.append(o.itemBox("getElementA")[0]),n.data("value",t.fn.itemBox.options[i].dispData[t.fn.itemBox.options[i].dispData.length-1]),n},getElementA:function(){t(this).prop("id");var e=t(this),i=e.itemBox("getItemBoxVar","class"),o=t(document.createElement("a"));return o.attr("href","javascript:;"),o.addClass(i.a),o.append(e.itemBox("getElementImg")[0]),o},getElementImg:function(){t(this).prop("id");var e=t(this),i=t(document.createElement("img"));return i.attr("src","/gw/Images/ico/sc_multibox_close.png"),i.click(function(){e.itemBox("remove",t(this))}),i},remove:function(e){t(this).prop("id");var i=t(this),o=e.parents("li").data("value");i.itemBox("removeItem",o),i.itemBox("removeElement",e.parents("li")),i.itemBox("callCallback","removeCallback",o)},removeElement:function(t){t.remove()},removeItem:function(e){var i=t(this).prop("id");t(this);t.fn.itemBox.options[i].dispData.forEach(function(o,n){if(o==e)return t.fn.itemBox.options[i].dispData.splice(n,1),!1})},callCallback:function(e,i){var o=t(this).prop("id");t(this);"function"==typeof t.fn.itemBox.options[o][e]&&t.fn.itemBox.options[o][e](i)},getAllItem:function(){var e=t(this).prop("id");t(this);return t.fn.itemBox.options[e].dispData},setRemoveAll:function(){var e=t(this).prop("id"),i=t(this);t.fn.itemBox.options[e].dispData=new Array,i.find("ul").remove()},getItemBoxVar:function(t){return e.itemBoxVar[t]?e.itemBoxVar[t]:{}}};t.fn.itemBox=function(i){return"object"!=typeof i&&i?e[i]?(console.log("call itemBoxMethods["+i+"] >> "+t(this).prop("id")||""),e[i].apply(this,Array.prototype.slice.call(arguments,1))):void t.error("Method "+i+" does not exist.."):(console.log("call itemBoxMethods["+i+"] >> "+t(this).prop("id")||""),e.init.apply(this,arguments))}}(jQuery);